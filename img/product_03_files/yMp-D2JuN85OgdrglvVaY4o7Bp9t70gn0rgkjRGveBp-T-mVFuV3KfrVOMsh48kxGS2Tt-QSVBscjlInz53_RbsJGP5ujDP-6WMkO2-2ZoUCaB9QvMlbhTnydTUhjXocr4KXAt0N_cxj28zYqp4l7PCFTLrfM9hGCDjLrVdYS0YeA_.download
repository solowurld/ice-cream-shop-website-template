;/*FB_PKG_DELIM*/

__d("LSIssueNewFireAndForgetTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(5).add({taskId:void 0,queueName:a[0],context:b.i64.to_string(a[1]),taskValue:a[2],enqueueTimestampMs:c[0]})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSProcessBackupIds",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] Beginning execution."),a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1487]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[1]?d[2]=!0:d[2]=!1,d[2]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[12]=c.createArray(),f!==f?d[13]=(d[12].push(f),d[12]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[12],c.i64.cast([0,3]))):c.resolve()},function(e){return c.db.table(172).fetch([[[c.i64.cast([0,1])]]]).next().then(function(e,h){var i=e.done;e=e.value;return i?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1488]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),f!==f?d[15]=(d[14].push(f),d[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()},function(a){return d[3]=c.i64.cast([0,0])}]):(h=e.item,c.seq([function(e){return d[14]=h.backupId,d[13]=h.authorityLevel,c.i64.eq(d[13],c.i64.cast([0,20]))?c.resolve(d[12]=c.i64.cast([0,1])):c.seq([function(e){return c.i64.eq(d[13],c.i64.cast([0,80]))?c.seq([function(e){return c.i64.eq(d[14],f)?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1492]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),f!==f?d[20]=(d[19].push(f),d[19]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()},function(a){return d[16]=c.i64.cast([0,2])}]):c.seq([function(e){return c.i64.eq(d[14],c.i64.cast([-1,4294967295]))?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[19]=!0:d[19]=!1,d[19]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[20]=c.createArray(),f!==f?d[21]=(d[20].push(f),d[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[20],c.i64.cast([0,3]))):c.resolve()},function(a){return d[17]=c.i64.cast([-1,4294967295])}]):c.seq([function(e){return c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.backupId,d[14])&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1490]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),f!==f?d[23]=(d[22].push(f),d[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()},function(a){return d[18]=c.i64.cast([0,4])}]):(e.item,c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1491]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[22]=c.createArray(),f!==f?d[23]=(d[22].push(f),d[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[22],c.i64.cast([0,3]))):c.resolve()},function(a){return d[18]=c.i64.cast([0,3])}]))})},function(a){return d[17]=d[18]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}]):c.seq([function(d){return a[0]!==f?c.sp(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),f!==f?d[19]=(d[18].push(f),d[18]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()},function(a){return d[15]=c.i64.cast([-1,4294967295])}])},function(a){return d[12]=d[15]}])},function(a){return d[3]=d[12]}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] ",d[6],d[7],d[6],d[8],d[6],d[10]].join("")),d[9]=",",d[11]=c.createArray(),f!==f?d[12]=(d[11].push(f),d[11]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsProcessBackupIdsStoredProcedure",[d[7],d[9],d[8],d[9],d[10]].join(""),d[11],c.i64.cast([0,4]))},function(a){return e[0]=d[3]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),e],c[0]=f[0],c[1]=f[1],f):(d=a.item,f=[d.parentThreadKey,d.disappearingThreadKey],c[0]=f[0],c[1]=f[1],f)})},function(a){return b.ct(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],b.i64.cast([0,0]))&&b.i64.eq(c[3],b.i64.cast([0,1]))?b.seq([function(d){return b.fe(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],e)?0:0}]):b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],e)?0:0}])}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSMoveThreadToArchivedFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({folderName:"",parentThreadKey:b.i64.cast([-1,4294967286])})}))})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[4]=b.syncGroup,c.i64.neq(d[4],f)?d[3]=d[4]:d[3]=c.i64.cast([0,1]),d[0]=d[3])})},function(d){return c.i64.eq(a[1],c.i64.cast([0,1]))?c.sp(b("LSMoveThreadToArchivedFolder"),a[0]):c.sp(b("LSDeleteThread"),a[0],!1)},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,146]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),d[0],f,c.i64.cast([0,0]),c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[2],threadKey:a[0],removeType:a[1],syncGroup:d[0]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("IGDChannelsGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("9284")===!0}function b(){return c("gkx")("9284")===!0}g.isChannelsTabInProfessionalInboxEnabled=a;g.isChannelsTabAlwaysEnabledInProfessionalInbox=b}),98);
__d("IgTags_InboxFolder",[],(function(a,b,c,d,e,f){a=Object.freeze({PRIMARY:0,GENERAL:1,ONLYIN3P:2,SUBSCRIBER:3,AD_RESPONSES:4,PAID_SUBS:5,AI_BOT:6});f["default"]=a}),66);
__d("IGDProfessionalIGFolderContext.react",["I64","IgTags_InboxFolder","LSIntEnum","emptyFunction","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.useCallback,o=l.useContext,p=l.useState,q=(i||(i=d("LSIntEnum"))).ofNumber(c("IgTags_InboxFolder").PRIMARY),r=m(q),s=m(c("emptyFunction"));function a(a){a=a.children;var b=p(q),c=b[0],e=b[1];b=n(function(a){e(function(b){return(j||(j=d("I64"))).equal(b,a)?b:a})},[]);return k.jsx(r.Provider,{value:c,children:k.jsx(s.Provider,{value:b,children:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=c("usePolarisViewer")();a=(a=a==null?void 0:a.isProfessionalAccount)!=null?a:!1;return a}function e(){return o(r)}function t(){return o(s)}g.IGDProfessionalFolderContextProvider=a;g.useIsProfessionalIGD=b;g.useIGDProfessionalFolder=e;g.useIGDProfessionalFolderSetter=t}),98);
__d("useHasIGBroadcastChannelTab",["IGDChannelsGating","IGDProfessionalIGFolderContext.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD();return!a?!1:d("IGDChannelsGating").isChannelsTabAlwaysEnabledInProfessionalInbox()}g["default"]=a}),98);
__d("MAWAbPropsTypes",[],(function(a,b,c,d,e,f){"use strict";a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}']};f.ABPropConfigs=a}),66);
__d("MAWAbPropsToUI",["MAWAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("MAWAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("MAWDbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("MAWDbMedia",[],(function(a,b,c,d,e,f){"use strict";b="Image";c="Video";d="Ptt";e="Gif";var g="Sticker",h="DocumentFile",i={DOCUMENT_FILE:h,GIF:e,IMAGE:b,PTT:d,STICKER:g,VIDEO:c};function a(a){return a}f.IMAGE=b;f.VIDEO=c;f.PTT=d;f.GIF=e;f.STICKER=g;f.DOCUMENT_FILE=h;f.MEDIA_TYPE=i;f.convertNumberToMediaId=a}),66);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("WAExternalIdFromRandomHex",["WAHex","WAStanzaUtils"],(function(a,b,c,d,e,f,g){function a(a){a=new Uint8Array(d("WAHex").parseHex(a));var b=new Uint8Array(a.length+1),c=0;for(var e=0;e<a.length;e++)c^=a[e],b[e]=a[e];b[a.length]=c;return d("WAStanzaUtils").toStanzaId(d("WAHex").toHex(b))}g.externalIdFromRandomHex=a}),98);
__d("isMobileExternalIdFormatEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("302")===!0}g["default"]=a}),98);
__d("MAWExternalId",["I64","Random","WAExternalIdFromRandomHex","WAHex","WAStanzaUtils","isMobileExternalIdFormatEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4194303;function j(a){return Math.floor(c("Random").random()*a)}function a(){return!c("isMobileExternalIdFormatEnabled")()?d("WAExternalIdFromRandomHex").externalIdFromRandomHex(d("WAHex").randomHex(7)):d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(j(i)),h.of_float(i))),h.max_int)))}g.generateExternalId=a}),98);
__d("WABaseGlobals",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){h=a}function i(){if(h==null)throw c("WAErr")("Trying to access WAGlobals before being set");return h}function b(a){var b=i();b.myJids=a}function d(){var a;a=(a=i().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=i().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return i().db}function j(){return i().jidUtils}function k(){return i().config}function l(){return i().qpl}function m(a,b){return i().runInTransaction(a,b)}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=d;g.getMyUserJid=e;g.getDbImpls=f;g.getJidUtilsApi=j;g.getConfig=k;g.getQplConfig=l;g.runInTransaction=m}),98);
__d("WAAssertUnreachable",["WAErr"],(function(a,b,c,d,e,f,g){function a(a){throw c("WAErr")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","WAErr"],(function(a,b,c,d,e,f,g){var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="@g.us",m=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,n="@msgr",ba="msgr",o="@interop",ca="interop",da="@call",p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,s=/^([1-9][0-9]{0,19})@msgr$/,t=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",u="@s.whatsapp.net",v="s.whatsapp.net",ga="@call",w="@newsletter",x=/^([1-9][0-9]{0,19})@newsletter$/,y=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,z=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,A="@lid",ha="lid",B=/^([1-9][0-9]{0,14})@lid$/,C=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ia="@broadcast",D=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,E=/^([0-9a-fA-F]{18,32})@call$/,F="@hosted",G="hosted",H=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[1-9][0-9]{0,1})))@hosted$/,ja="16505361212"+u,ka=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+u}function b(a){return""+a+A}function I(a){return""+a+n}function d(a){return a.endsWith(l)?a:""+a+l}function e(a){return a.endsWith(w)?a:""+a+w}function f(a){return a.endsWith(F)?a:""+a+F}function la(){return l}function J(a){if(a.endsWith(u))return a.slice(0,-u.length);else if(a.endsWith(n))return a.slice(0,-n.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(A))return a.slice(0,-A.length);else throw c("WAErr")('userIdFromJid called with non-user jid "'+a+'"')}function ma(a,b){return Y(J(a)+":"+b+u)}function na(a,b){return Z(J(a)+":"+b+n)}function K(a,b){return ob(Q(a)+":"+b+A)}function oa(a,b){return X(J(a)+":"+b+jb(a))}function pa(a){return""+a+ia}function L(a){return a.split("@")[0]}function M(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function N(a){a=M(a);return a.deviceID}function qa(a,b){if(a===i||a===j)return b;else return L(a)}function ra(a){return a===i||a===j?null:a}function sa(a){if(a===i||a===j)return null;return!a.endsWith(u)?null:a}function O(a){if(!a.endsWith(u))throw c("WAErr")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-u.length)}function ta(a){if(a.endsWith(u))return O(a);else if(a.endsWith(A))return Q(a);throw c("WAErr")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function P(a){return a.endsWith(u)||a.endsWith(o)||a.endsWith(n)||a.endsWith(A)?a:null}function ua(a){return a.endsWith(u)?a:null}function va(a){return a===k?null:$(a)}function wa(a){return a===k?null:$(a)}function xa(a){return a===k?k:null}function Q(a){if(!a.endsWith(A))throw c("WAErr")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-A.length)}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===G&&(a=v);return pb(b+"@"+a)}function ya(a){return R(a)}function za(a){return R(a)}function Aa(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else{a.jidType;return a.broadcastJid}}function Ba(a){return Y(J(a)+":"+h+u)}function Ca(a){return Z(J(a)+":"+h+n)}function Da(a){return K(a,h)}function Ea(a){return N(a)===h}function Fa(a){return tb(a)}function Ga(a){return a}function S(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Ha(a){a=S(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Ia(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Ja(a){if(a===k)return{jidType:"status",statusJid:k};else if(z.test(a))return{jidType:"phoneUser",userJid:qb(a)};else if(q.test(a))return{jidType:"interopUser",userJid:rb(a)};else if(s.test(a))return{jidType:"msgrUser",userJid:sb(a)};else if(t.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:I(b)}}else if(y.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(p.test(a))return{jidType:"interopDevice",deviceJid:nb(a)};else if(r.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(m.test(a))return{jidType:"group",groupJid:a.endsWith(l)?a:""+a+l};else if(D.test(a))return{jidType:"broadcast",broadcastJid:a};else if(E.test(a))return{jidType:"call",callJid:a};else if(B.test(a))return{jidType:"lidUser",userJid:a};else if(C.test(a))return{jidType:"lidDevice",deviceJid:a};else if(x.test(a))return{jidType:"newsletter",newsletterJid:a};else if(H.test(a))return{jidType:"hosted",hostedDeviceJid:a};else return{jidType:"unknown"}}function Ka(a){return a==="status@broadcast"?a:null}function La(a){if(z.test(a)||q.test(a)||s.test(a)||B.test(a))return a;else if(t.test(a)){a=a.substr(0,a.indexOf(":"));return I(a)}else return null}function Ma(a){return D.test(a)?a:null}function Na(a){if(y.test(a)||r.test(a)||p.test(a)||C.test(a)||H.test(a))return a;return z.test(a)?kb(a):null}function T(a){return m.test(a)?a:null}function Oa(a){return Ka(a)||T(a)||Ma(a)?a:null}function Pa(a){return E.test(a)?a:null}function Qa(a){return a==="s.whatsapp.net"||a==="g.us"?a:null}function Ra(a){return La(a)||T(a)}function Sa(a){return x.test(a)?a:null}function Ta(a){return H.test(a)?a:null}function Ua(a){return P(a)==null?$(a):null}function Va(a){a=S(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function Wa(a){if(a.endsWith(l))return a.slice(0,-l.length);else throw c("WAErr")('groupId called with non-group jid "'+a+'"')}function Xa(a){var b=Ja(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Ia(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function Ya(a){return!a.includes("@")?a:a.replace(ka,Xa)}function U(a){if(a.endsWith(l))return $(a);else return null}function V(a,b){if(a.endsWith(u))return b.phoneUser(a);else if(a.endsWith(n))return b.msgrUser(a);else if(a.endsWith(o))return b.interopUser(a);else if(a.endsWith(A))return b.lidUser(a);else if(U(a)!=null)return b.group($(a));throw c("WAErr")("Can not switch on chat jid "+a)}function Za(a,b){if(a.endsWith(n))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function W(a,b){if(a.endsWith(u))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function $a(a,b){return V(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function ab(a,b){return a===k?b.status():W(a,{user:b.user,group:b.group})}function bb(a,b){return a===k?b.status():V(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function cb(a,b){return a===k?b.multicast(k):W(a,{user:b.user,group:b.multicast})}function db(a){return a.endsWith(A)}function eb(a){return a==="@me"}function fb(a){return a==="@system"}function gb(){return n}function hb(){return u}function ib(){return ea}function jb(a){if(a.endsWith(u))return u;else if(a.endsWith(n))return n;else if(a.endsWith(A))return A;else throw c("WAErr")('userDomainFromJid called with non-user jid "'+a+'"')}function kb(a){return X(J(a)+":"+h+jb(a))}function lb(a){a=a.platform;var b=a==="msgr"?n:u,c=a==="msgr"?da:ga;function d(a){return""+a+b}function e(){return b}function f(){return c}return{toUserJid:d,getUserDomain:e,getGroupCallDomain:f}}function mb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function nb(a){return a}function ob(a){return a}function pb(a){return a}function qb(a){return a}function rb(a){return a}function sb(a){return a}function $(a){return a}function tb(a){return a}function ub(a){return a}function vb(a){return a}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.MSGR_USER_DOMAIN=n;g.MSGR_USER_JID_SUFFIX=ba;g.INTEROP_DOMAIN=o;g.INTEROP_USER_JID_SUFFIX=ca;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=u;g.WA_USER_JID_SUFFIX=v;g.WA_NEWSLETTER_JID_DOMAIN=w;g.LID_DOMAIN=A;g.LID_SUFFIX=ha;g.HOSTED_DOMAIN=F;g.HOSTED_SUFFIX=G;g.SURVEY_USER_JID=ja;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=I;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.getGroupDomain=la;g.userIdFromJid=J;g.toPhoneDeviceJid=ma;g.toMsgrDeviceJid=na;g.toLidDeviceJid=K;g.toDeviceJid=oa;g.toBroadcastJid=pa;g.extractUserId=L;g.extractDeviceIDParts=M;g.extractDeviceId=N;g.authorToUserId=qa;g.authorAsUserJid=ra;g.authorAsPhoneUserJid=sa;g.phoneNumberFromJid=O;g.lidOrPhoneFromUserJid=ta;g.interpretAsUserJid=P;g.interpretAsPhoneUserJid=ua;g.asChatJid=va;g.asPhoneChatJid=wa;g.asStatusJid=xa;g.lidFromLidUserJid=Q;g.extractUserJid=R;g.extractPhoneUserJid=ya;g.extractLidUserJid=za;g.extractJidFromJidWithType=Aa;g.defaultPhoneDeviceJidForUser=Ba;g.defaultMsgrDeviceJidForUser=Ca;g.defaultLidDeviceJidForLidUserJid=Da;g.isPrimaryDevice=Ea;g.interpretAsDeviceId=Fa;g.interpretAsNumber=Ga;g.parseJidParts=S;g.fullFormDeviceJidString=Ha;g.extractFromJid=Ia;g.interpretAndValidateJid=Ja;g.validateStatusJid=Ka;g.validateUserJid=La;g.validateBroadcastJid=Ma;g.validateDeviceJid=Na;g.validateGroupJid=T;g.validateMulticastJid=Oa;g.validateCallJid=Pa;g.validateDomainJid=Qa;g.validateChatJid=Ra;g.validateNewsletterJid=Sa;g.validateHostedDeviceJid=Ta;g.asMulticastJid=Ua;g.stripAgentIdFromPhoneDeviceJid=Va;g.groupIdFromJid=Wa;g.sanitizeJidForLogging=Xa;g.maybeSanitizeLogLineText=Ya;g.interpretAsGroupJid=U;g.switchOnChatJidType=V;g.switchOnMsgrChatJidType=Za;g.switchOnPhoneChatJidType=W;g.switchOnUserChatJidType=$a;g.switchOnPhoneJidType=ab;g.switchOnJidType=bb;g.switchOnMulticastJidType=cb;g.isLidUser=db;g.isAuthorMe=eb;g.isAuthorSystem=fb;g.getMsgrUserDomain=gb;g.getWhatsappUserDomain=hb;g.getServerDomain=ib;g.defaultDeviceJidForUser=kb;g.createJidUtils=lb;g.unsafeCoerceToChatJid=mb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=nb;g.unsafeCoerceToLidDeviceJid=ob;g.unsafeCoerceToUserJid=pb;g.unsafeCoerceToPhoneUserJid=qb;g.unsafeCoerceToInteropUserJid=rb;g.unsafeCoerceToMsgrUserJid=sb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=tb;g.unsafeCoerceToNewsletterJid=ub;g.unsafeCoerceToHostedDeviceJid=vb}),98);
__d("WAGlobals",["WABaseGlobals","WAErr","WAJids","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["OfflineQueueManager is not defined"]);h=function(){return a};return a}var i=null;function a(a){i=a,d("WABaseGlobals").setGlobals(a)}function j(){if(i==null)throw c("WAErr")("WaMsgr api called before set");return i}function b(a,b){var d=j();if(d.myJids!=null)throw c("WAErr")("Trying to set UserJid and DeviceJid but they are already set");d.myJids={userJid:a,deviceJid:b}}function k(){var a;a=(a=j().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=j().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return j().db}function l(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function m(){return j().jidUtils}function n(){return j().crypto.manager}function o(){return j().crypto.storage}function p(){return j().config}function q(){return j().dependencies}function r(a,b,c){return j().runInTransaction(a,b,c)}function s(){var a=j().offlineQueueManager;a==null&&d("WALogger").ERROR(h());return a}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=k;g.getMyUserJid=e;g.getDbImpls=f;g.isPeerDevice=l;g.getJidUtilsApi=m;g.getCryptoManager=n;g.getInMemorySignal=o;g.getConfig=p;g.getDependencies=q;g.runInTransaction=r;g.getOfflineQueueManager=s}),98);
__d("WAJobDefinitions",["WAGlobals"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return;return{priority:a.priority,maxTimeoutMs:a.maxTimeoutMs,jobId:a.jobId}}b=function(){return{queryGroups:function(a,b){var c;b=h(b);a==null?c={type:"all"}:c={type:"single",group:a};return{type:"queryGroups",args:c,scheduleConfig:(a=b)!=null?a:void 0}},computeAndUploadICDCInfo:function(a,b,c,d){d=h(d);return{type:"computeAndUploadICDCInfo",args:{reason:a,sequence:c,caller:b},scheduleConfig:(a=d)!=null?a:void 0}},syncdSyncAllCollections:function(a){a=h(a);return{type:"syncdSyncAllCollections",args:{},scheduleConfig:(a=a)!=null?a:void 0}},requestAllSyncdMissingKeys:function(a){a=h(a);return{type:"requestAllSyncdMissingKeys",args:{},scheduleConfig:(a=a)!=null?a:void 0}}}};c=b();function i(a,b){var c=b.scheduleConfig,e=babelHelpers.objectWithoutPropertiesLoose(b,["scheduleConfig"]);c={type:a,args:{},scheduleConfig:c};b.externalIdJob&&(c.args.externalId=d("WAGlobals").getDependencies().generateExternalId());c.args=babelHelpers["extends"]({},c.args,e);b.uniqueJob&&(c.uniqKey=a);return c}function a(a,b){return i(a,b)}g.serializeJobScheduledConfig=h;g.createJobSerializers=b;g.jobSerializers=c;g.createStartJobInfoGeneric=i;g.createStartJobInfo=a}),98);
__d("MAWJobDefinitions",["MAWExternalId","WAJobDefinitions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}e=d("WAJobDefinitions").createJobSerializers();f=babelHelpers["extends"]({},e,{acceptGroupInvite:function(a,b,c,e,f,g){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{chatId:a,inviteCode:e,invitedParticipantUserId:c,inviteExpirationTs:f,inviterUserId:b},scheduleConfig:(a=g)!=null?a:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"addGroupParticipants"}},deleteGroups:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteGroups"}},deleteMsgsForMe:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(a,b,c,e,f,g,h){h=d("WAJobDefinitions").serializeJobScheduledConfig(h);return{args:{hash:b,metricInstanceKeys:g,msgType:e,protocolMsgId:a,protocolMsgIdForLogging:f,qplEntryPoint:c},scheduleConfig:(b=h)!=null?b:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(a,b,c,e,f,g,h){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{args:h,chatJid:a,ephemeralSetting:c,externalId:(h=e)!=null?h:d("MAWExternalId").generateExternalId(),isFirstMsg:f,protocolMsgId:b},scheduleConfig:(a=g)!=null?a:void 0,type:"forwardMsg"}},getCurrentUserDeviceList:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getCurrentUserDeviceList"}},getSpams:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getSpams"}},handleFutureproofMsg:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:{},scheduleConfig:(a=a)!=null?a:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"handleSpamMsg"}},leaveGroups:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"leaveGroups"}},linkReactionsToMsgs:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{externalIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"linkReactionsToMsgs"}},markThreadAsRead:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{chatJid:a,isReadReceiptsDisabled:c,upTo:b},scheduleConfig:(a=e)!=null?a:void 0,type:"markThreadAsRead",uniqKey:b==null?void 0:b.externalId}},postBackupWriteCompletionHook:function(a){return{args:{traceIdArray:a},type:"postBackupWriteCompletionHook"}},promoteGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(a,b,c,e,f,g,h,i,j,k){j=d("WAJobDefinitions").serializeJobScheduledConfig(j);return{args:{chatJid:c,context:g,frxParams:h,frxTags:f,isIgd:e,openMsgs:k,reportedMessageId:i,spamFlow:b,userJid:a},scheduleConfig:(c=j)!=null?c:void 0,type:"reportUserSpam"}},requestReuploadMedia:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{hash:b,protocolMsgId:a},scheduleConfig:(b=c)!=null?b:void 0,type:"requestReuploadMedia"}},resendWrittenAppData:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(a,b,c,e,f,g,h,i,j,k,l,m,n){n=d("WAJobDefinitions").serializeJobScheduledConfig(n);return{args:{hasMoreAfter:f,hasMoreBefore:e,instanceKey:k,isPointQuery:g,messages:c,minMsgId:h,optimisticMsgs:l,startSortKey:j,taskSource:m,threadId:b,traceId:i,transportKey:a},scheduleConfig:(f=n)!=null?f:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreThreadsFromEncryptedBackups:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{threads:b,transportKey:a},scheduleConfig:(b=c)!=null?b:void 0,type:"restoreThreadsFromEncryptedBackups"}},reuploadMedia:function(a,b,c,e,f,g){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{chatJid:c,encIv:f,encProto:e,externalId:a,receiver:b},scheduleConfig:(c=g)!=null?c:void 0,type:"reuploadMedia"}},revokeMsgs:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"revokeMsgs"}},sendAppData:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendAppData"}},sendEphemeralSettingMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendEphemeralSettingMsg"}},sendGroupInviteMsg:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){q=d("WAJobDefinitions").serializeJobScheduledConfig(q);return{args:{args:{duration:i,ephemeralSetting:k,filename:s,height:f,isFirstMsg:o,isForwarded:n,isPtt:j,jpegThumbnail:c,jpegThumbnailHeight:h,jpegThumbnailWidth:g,offlineAttachmentId:t,openMessageOtid:m,quote:l,s2sInstanceKey:u,source:r,width:e},chatJid:a,externalId:(i=p)!=null?i:d("MAWExternalId").generateExternalId(),file:b},scheduleConfig:(k=q)!=null?k:void 0,type:"sendMediaMsg"}},sendMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendMsg"}},sendRavenActionMsg:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendRavenActionMsg"}},sendReactionMsg:function(a,b,c,e,f,g,h){g=d("WAJobDefinitions").serializeJobScheduledConfig(g);return{args:{args:{groupingKey:"",reaction:e,reactToAuthor:c,reactToProtocolMsgId:b,source:h},chatJid:a,externalId:(e=f)!=null?e:d("MAWExternalId").generateExternalId()},scheduleConfig:(c=g)!=null?c:void 0,type:"sendReactionMsg"}},sendWrittenAppData:function(a,b){b=d("WAJobDefinitions").serializeJobScheduledConfig(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"sendWrittenAppData"}},sendWrittenMsg:function(a,b,c,e,f){c===void 0&&(c="message");f=d("WAJobDefinitions").serializeJobScheduledConfig(f);return{args:{gotDevicesBeforeSending:e,protocolMsgId:a,s2sInstanceKey:b,type:c},scheduleConfig:(e=f)!=null?e:void 0,type:"sendWrittenMsg"}},sendXMAShareMsg:function(a,b,c,e,f,g,h,i,j,k){k=d("WAJobDefinitions").serializeJobScheduledConfig(k);return{args:{args:g,associatedMsgContent:f,associatedMsgContentExternalId:(g=i)!=null?g:d("MAWExternalId").generateExternalId(),chatJid:a,faviconFile:e,headerFile:c,previewFile:b,xmaArgs:j,xmaMsgExternalId:(f=h)!=null?f:d("MAWExternalId").generateExternalId()},scheduleConfig:(i=k)!=null?i:void 0,type:"sendXMAShareMsg"}},setGroupSubject:function(a,b,c){c=d("WAJobDefinitions").serializeJobScheduledConfig(c);return{args:{group:a,subject:b},scheduleConfig:(a=c)!=null?a:void 0,type:"setGroupSubject"}},updateBackupEntFbidForMedia:function(a,b,c,e){e=d("WAJobDefinitions").serializeJobScheduledConfig(e);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:(b=e)!=null?b:void 0,type:"updateBackupEntFbidForMedia"}},uploadMessagesBackup:function(a,b,c,e,f,g,h,i){i=d("WAJobDefinitions").serializeJobScheduledConfig(i);return{args:{messageIds:a,oldTraceIdMap:g,pendingStanzaIds:c,reactionIds:e,threadIds:b,xmaIds:f},scheduleConfig:(a=i)!=null?a:void 0,type:"uploadMessagesBackup",uniqKey:h}},uploadRetroactiveMessageBatch:function(a,b,c,d){return{args:{chatId:d,dbMsgArray:a,includeOffset:b,msgOffset:c},type:"uploadRetroactiveMessageBatch"}},uploadRetroactiveThreadsAndMessages:function(a){a=d("WAJobDefinitions").serializeJobScheduledConfig(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"uploadRetroactiveThreadsAndMessages"}}});function c(a,b){return d("WAJobDefinitions").createStartJobInfoGeneric(a,b)}g.toThreadJidPrimaryId=a;g.toEncodedEchoMessage=b;g.jobSerializers=f;g.createStartJobInfo=c}),98);
__d("WADynamicRouter",["Promise","WAErr","WALogger"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);i=function(){return a};return a}var j={sentinel:"RESPONSE_NAMESPACE"},k={sentinel:"NOT_HANDLED"};a=function(){function a(){var a=this;this.$1=(h||(h=b("Promise"))).resolve();this.$2=new Map();this.$4=0;this.$5=null;this.$6=null;this.$7=null;this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$3==null?void 0:a.$3(b,c,d),a.$9(b,c,d,null,e)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);a.$3==null?void 0:a.$3(c,d,e);return new(h||(h=b("Promise")))(function(b,g){a.$9(c,d,e,function(c){try{var d=n(c);d?d.call(c,function(c){a.$9(j,"",c,b,f)},function(b){a.$9(j,"",b,g,!1)}):a.$9(j,"",c,b,f)}catch(b){a.$9(j,"",b,g,!1)}},f)})};this.$8=function(){var b=a.$6;if(!b)return;var c=a.$2,d;while(b&&!(d=l(c,b)))a.$6=b=b.nextRoute;if(!b||!d)return;c=a.$10(d,b);var e=!0;if(c!==k){var f=b.prevRoute,g=b.nextRoute;a.$6===b&&(a.$6=g);f?f.nextRoute=g:a.$5=g;g?g.prevRoute=f:(e=!1,a.$7=f)}e&&a.$1.then(a.$8);return c}}var e=a.prototype;e.hasHandlerForNamespace=function(a){return this.$2.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$2.keys())};e.setOnRouteCalled=function(a){this.$3=a};e.setNamespaceHandler=function(a,b){var c=this.$2,d=c.get(a);if(d===b)return;++this.$4;c.set(a,b);if(!d){c=this.$5;c&&(this.$6||this.$1.then(this.$8),this.$6=c)}};e.setHandlers=function(a,b){function e(e,f,g){if(b[e]==null){d("WALogger").ERROR(i(),e,a);throw c("WAErr")(e+" is not defined for "+a)}e=b[e](f);g&&g(e)}this.setNamespaceHandler(a,e)};e.$9=function(a,b,c,d,e){var f=this.$7;a={namespace:a,route:b,arg:c,resolver:d,prevRoute:f,nextRoute:null,silentLog:e};this.$7=a;b=!0;f?(f.nextRoute=a,b=!this.$6):this.$5=a;b&&l(this.$2,a)&&(this.$6=a,this.$1.then(this.$8))};e.$10=function(a,d){var e=d.route,f=d.arg,g=d.resolver;d=d.silentLog;var i=this.$4,j=null,l=null;try{j=a(e,f,g,d)}catch(a){l=(h||(h=b("Promise"))).reject(a)}if(j===k)if(i===this.$4)l=(h||(h=b("Promise"))).reject(c("WAErr")("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return k;if(g){l&&g(l);return}else return l};return a}();function l(a,b){b=b.namespace;return b===j?m:a.get(b)}function m(a,b,c){c(b)}function n(a){if(a!=null&&(typeof a==="object"||typeof a==="function")){a=a.then;return typeof a==="function"?a:null}return null}g.NOT_HANDLED=k;g.DynamicRouter=a}),98);
__d("WABridge",["WADynamicRouter"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouter").DynamicRouter)();function a(){return h}g.getBridge=a}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("MAWODSProxy",["MAWBridge","ODS","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!((b=c("gkx")("9024"))!=null?b:!1);function a(a,b){var c=a.amount,e=a.entity;a=a.key;b===void 0&&(b=!0);i?(h||(h=d("ODS"))).bumpEntityKey(3185,e,a,c):d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:c,entity:e,key:a},b)}g.odsBumpEntityKey=a}),98);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("MAWUIJob",["MAWBridge","WAJobOrchestratorTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION};a={fireAndForget:function(a){d("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}))},waitUntilCompleted:function(a){a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}));return a},waitUntilPersisted:function(a){a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:h}));return a}};g.UIJobStarters=a}),98);
__d("MAWJids",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";b=(a=d("WAJids")).createJidUtils({platform:"msgr"});c=b.toUserJid;g.jidUtils=b;g.toDeviceJid=a.toDeviceJid;g.toUserJid=c;g.toGroupJid=a.toGroupJid;g.userIdFromJid=a.userIdFromJid;g.interpretAsDeviceId=a.interpretAsDeviceId;g.groupIdFromJid=a.groupIdFromJid;g.defaultDeviceJidForUser=a.defaultDeviceJidForUser}),98);
__d("MAWJidUtils",["MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WAJids").switchOnMsgrChatJidType(a,{group:function(a){return d("MAWJids").groupIdFromJid(a)},user:function(a){return d("MAWJids").userIdFromJid(a)}})}function b(a,b,c){if(d("WAJids").isAuthorSystem(a)||b==null||c==null)return;return{author:a,chat:b,externalId:c}}g.threadIdForChatJid=a;g.maybeToProtocolMsgId=b}),98);
__d("MAWChatJid",["FBLogger","I64","MAWJidUtils","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){b=d("MAWJidUtils").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange((i||(i=d("I64"))).of_string(b))).then(function(a){if(a!=null)return a.serverThreadKey;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Tried to convert a jid to thread key but couldn't find a corresponding row in the mapping table. This can mean that there is a race condition between the time a thread was created on the WA backend, and the time it was inserted into the mapping table. i.e. this function is called before the fn that inserts the mapping into the mapping table")})}function e(a,e){try{return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange((i||(i=d("I64"))).of_string(e))).then(function(a){if(a!=null)return a.serverThreadKey})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Invalid chatJid: "+e);return(h||(h=b("Promise"))).reject(a)}}g.toThreadKey=a;g.toThreadKeyMaybe=e}),98);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","MAWDbContact"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSContactBitOffset").hasWithDefault(64,a,!0);a=(h||(h=d("I64"))).ge(a.contactViewerRelationship,h.of_string("2"));if(a&&b)return d("MAWDbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("MAWDbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("MAWDbContact").TWO_WAY_CONTACT;return d("MAWDbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MSG_ENCRYPTION:"armadillo_message_encryption",MSG_DECRYPTION:"armadillo_message_decryption",GET_DEVICES:"armadillo_get_devices",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",MAW_WEBWORKER_LOG_TEST:"maw_webworker_log_test",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item",WA_STARTED_WITH_UNUSED_STANZA_CACHE:"wa_started_with_unused_stanza_cache",WA_UNUSED_STANZA_STATS:"wa_unused_stanza_stats",WA_HANDLE_THREAD_METADATA:"wa_handle_thread_metadata",WA_QUERY_GROUP:"wa_query_group"});f.Entity=a}),66);
__d("WACustomError",[],(function(a,b,c,d,e,f){var g=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function a(a,b,c){b===void 0&&(b=!0);function d(c){var d=Error.call(this,c);this.message=c;d.name=a;this.name=a;b&&(this.stack=d.stack)}d.prototype=Object.create(c?c.prototype:g);d.prototype.constructor=d;return d}function h(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=c!=null&&c.length>0?c:h(b);c=a.call(this,c)||this;c.errors=b;return c}return b}(a("AggregateError",!0));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("TimeoutError",!1)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.code=c;return a}return a}(a("HttpError",!1)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("UnimplementedMethod")),l=!1;function b(a){if(a==null||a.name!=="QuotaExceededError")throw a;l=!0}function c(){return l}function d(a){return JSON.stringify(a,Object.getOwnPropertyNames(a))}var m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.inner=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));f.customError=a;f.AggregateError=e;f.TimeoutError=i;f.HttpError=j;f.UnimplementedMethod=k;f.supressQuotaExceededError=b;f.hasSupressedQuotaExceededError=c;f.obtainErrorSummary=d;f.WrappedError=m}),66);
__d("WAAbortError",["WACustomError"],(function(a,b,c,d,e,f,g){b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d("WACustomError").customError("AbortError"));var h="AbortError";function a(a){return function(b){if(b.name===h)return a(b);else throw b}}g.AbortError=b;g.ABORT_ERROR=h;g.catchAbort=a}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){var h;function a(a,c){return new(h||(h=b("Promise")))(function(b,e){if(c==null?void 0:c.aborted)throw new(d("WAAbortError").AbortError)();var f=setTimeout(g,a);c==null?void 0:c.addEventListener("abort",h);function g(){c==null?void 0:c.removeEventListener("abort",h),b()}function h(){c==null?void 0:c.removeEventListener("abort",h),clearTimeout(f),e(new(d("WAAbortError").AbortError)())}})}function c(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}g.delayMs=a;g.withTimeout=c}),98);
__d("MAWMaybeWithTimeout",["MAWODSProxy","WAOdsEnums","WAPromiseDelays","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("qex")._("1266")===!0}function a(a,b,c,e){return h()?d("WAPromiseDelays").withTimeout(a.then(function(a){var b;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_NON_TIMEOUT,key:(b=e)!=null?b:"unknown"});return a}),b,function(){var a;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TIMEOUT,key:(a=e)!=null?a:"unknown"});return c()}):a}g.maybeWithTimeout=a}),98);
__d("MAWMsg",["$InternalEnum","I64","LSIntEnum","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(b)return(i||(i=d("LSIntEnum"))).ofNumber(8192);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.IMAGE||a===d("MAWMsgType").MSG_TYPE.VIDEO||a===d("MAWMsgType").MSG_TYPE.RAVEN)return(i||(i=d("LSIntEnum"))).ofNumber(2);else if(a===d("MAWMsgType").MSG_TYPE.PTT)return(i||(i=d("LSIntEnum"))).ofNumber(4);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return(i||(i=d("LSIntEnum"))).ofNumber(131072);else if(a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT)return(i||(i=d("LSIntEnum"))).ofNumber(65536);else if(a===d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return(i||(i=d("LSIntEnum"))).ofNumber(262144);else if(a===d("MAWMsgType").MSG_TYPE.GIF)return(i||(i=d("LSIntEnum"))).ofNumber(16384);else if(a===d("MAWMsgType").MSG_TYPE.STICKER)return(i||(i=d("LSIntEnum"))).ofNumber(4096);else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE)return(i||(i=d("LSIntEnum"))).ofNumber(64);else if(a===d("MAWMsgType").MSG_TYPE.XMA)if(c!=null&&c)return(i||(i=d("LSIntEnum"))).ofNumber(256);else return(i||(i=d("LSIntEnum"))).ofNumber(1024);else return(i||(i=d("LSIntEnum"))).ofNumber(1)}function c(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))}function e(a){a=a.displayedContentTypes;if((j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(32)))return!0;else return!1}function f(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1024))}function k(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(65536))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(131072))?!0:(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(262144))}var l=b("$InternalEnum")({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),m=b("$InternalEnum")({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});b=b("$InternalEnum")({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2});g.text=(h=d("MAWMsgType")).MSG_TYPE.TEXT;g.image=h.MSG_TYPE.IMAGE;g.video=h.MSG_TYPE.VIDEO;g.ptt=h.MSG_TYPE.PTT;g.unsent=h.MSG_TYPE.REVOKED;g.gif=h.MSG_TYPE.GIF;g.getDisplayedContentTypes=a;g.isMediaMsg=c;g.isAdminMsg=e;g.isXMAMsg=f;g.isPlaceholder=k;g.MAWRavenActionNotifType=l;g.MAWRavenMsgEphemeralMediaState=m;g.MAWRavenMsgEphemeralType=b}),98);
__d("WATimeUtils",["Promise","WAHex"],(function(a,b,c,d,e,f,g){var h,i=60,j=5*i,k=60*i,l=24*k,m=7*l,n=365*l,o=60*1e3,p=k*1e3,q=24*p,r=7*q,s=1<<31,t=~s,u=s+1,v={time:0,day:-4},w=0;function a(){return w}function c(a){w=a}function e(a){return Z(a).toUTCString()}function x(a){a=a|0;return Math.max(u,Math.min(a,t))}function y(a){return x(a/1e3)}function f(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return x(a)}function z(a){return a==null?a:a>t?y(a):x(a)}function A(){return B($()-w*1e3)}function B(a){return a}function C(a){return a}function D(a){return B(a*1e3)}function E(a){return a<u||a>t}function F(a,b){var c=K();a=Math.max(a+b-c,0);return Math.min(1e3*a,~(1<<31))}function G(a,b){b=b!=null?b:K();return x(Math.ceil(b+Math.max(a,0)))}function H(a,b){b=b!=null?b:K();return x(Math.ceil(b-Math.max(a,0)))}function I(a){a=Math.max(a-K(),0);return Math.min(1e3*a,~(1<<31))}function J(a){var c=I(a);return new(h||(h=b("Promise")))(function(a){return void setTimeout(a,c)})}function K(){return x(Date.now()/1e3-w)}function L(){return x(Date.now()/1e3)}function M(){return x(new Date().setHours(0,0,0,0)/1e3-w)}function N(a){return x(Z(a).setHours(0,0,0,0)/1e3-w)}function O(){return Date.now()-w*1e3}function P(a){return Math.max(a-K(),0)}function Q(a){return P(a)>0}function R(){return performance.now()}function S(a){return Math.floor(performance.now()-a)}function T(a,b){return a<b?a:b}var U=function(){function a(){var a=R();this.$1=a;this.$2=a}var b=a.prototype;b.reset=function(){this.$2=R()};b.elapsed=function(){return S(this.$2)};b.cumulative=function(){return S(this.$1)};return a}();function V(a){return Math.max(K()-a,0)}function W(){return new Date()}function X(a,b,c){return Math.abs(a-b)<=c}function Y(a,b){return X(K(),a,b)}function Z(a){return new Date(a*1e3)}function aa(a,b){if(Math.abs(a-b)>l)return!1;a=v.time===a?v.day:Z(a+w).getDay();var c=v.time===b?v.day:Z(b+w).getDay();v.time=b;v.day=c;return a===c}function ba(a){a=a-K();return a<=l}function ca(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(x(a)*1e3):null}function $(){return Date.now()}function da(a,b){a=Math.abs(a-b);return Math.ceil(a/q)}g.MINUTE_SECONDS=i;g.FIVE_MINUTES=j;g.HOUR_SECONDS=k;g.DAY_SECONDS=l;g.WEEK_SECONDS=m;g.YEAR_SECONDS=n;g.MINUTE_MILLISECONDS=o;g.HOUR_MILLISECONDS=p;g.DAY_MILLISECONDS=q;g.WEEK_MILLISECONDS=r;g.DEFAULT_UNIXTIME=s;g.MAX_INT=t;g.getClockSkew=a;g.setClockSkew=c;g.toHttpHeaderDate=e;g.castToUnixTime=x;g.castMilliSecondsToUnixTime=y;g.castLongIntToUnixTime=f;g.castMillisTimeToUnixTime=z;g.millisTime=A;g.castToMillisTime=B;g.fromMillisTime=C;g.castUnixTimeToMillisTime=D;g.isOverflowTime=E;g.timeoutFor=F;g.futureUnixTime=G;g.pastUnixTime=H;g.cappedMillisecondsUntil=I;g.delayUntil=J;g.unixTime=K;g.unixTimeWithoutClockSkewCorrection=L;g.midnight=M;g.midnightOn=N;g.unixTimeMs=O;g.secondsUntil=P;g.isInFuture=Q;g.monotonicTime=R;g.monotonicTimeSince=S;g.oldest=T;g.MonotonicTimer=U;g.timeSince_USE_ONLY_IF_APPROVED=V;g.unskewedDate_USE_ONLY_IF_APPROVED=W;g.happenedWithinAt=X;g.happenedWithin=Y;g.toDate=Z;g.sameDay=aa;g.isWithinNext24h=ba;g.convertHexToDate=ca;g.performanceAbsoluteNow=$;g.daysDiff=da}),98);
__d("MAWTimeUtils",["I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(h||(h=d("I64"))).of_float(a*1e3)}function a(a){return a>d("WATimeUtils").MAX_INT?(h||(h=d("I64"))).of_float(a):i(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function c(a){if(a==null)return;return a>d("WATimeUtils").MAX_INT?a:d("WATimeUtils").castToMillisTime(a*1e3)}e=(h||(h=d("I64"))).of_string("9999999999999");f=Number.MAX_VALUE;g.toTimestamp=i;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=c;g.MAX_TIMESTAMP_MS=e;g.MAX_TIMESTAMP=f;g.MIN_TIMESTAMP_MS=h.zero}),98);
__d("MAWImageUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i="image/jpeg";e=100;function j(a,d){d===void 0&&(d=!0);var e;return new(h||(h=b("Promise")))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(function(){throw c("err")("Error loading image from provided URL")})};e.onerror=function(){f(function(){throw c("err")("Wrong blob type")})};e.src=a}).then(function(){return e})}function k(a,c,d,e){d===void 0&&(d=!1);var f=40*1024;if(a.toBlob)return new(h||(h=b("Promise")))(function(b){var d=e==null?void 0:e/100;a.toBlob(b,c,d)}).then(function(e){return d&&e.size>=f?new(h||(h=b("Promise")))(function(b){a.toBlob(b,c,f/e.size)}):e});else return(h||(h=b("Promise"))).resolve(window.dataURLtoBlob(a.toDataURL(c))).then(function(e){return d&&e.size>=f?(h||(h=b("Promise"))).resolve(window.dataURLtoBlob(a.toDataURL(c,f/e.size))):e})}function a(a,d,e){return j(a).then(function(a){var b=document.createElement("canvas");b.width=a.naturalWidth;b.height=a.naturalHeight;var c=b.getContext("2d");m(b);c.drawImage(a,0,0);return k(b,d,!1,e).then(function(b){return{blob:b,height:a.naturalHeight,width:a.naturalWidth}})})["catch"](function(a){return(h||(h=b("Promise"))).reject(function(){throw c("err")(a)})})}function d(a,b){return j(a).then(function(a){var c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext("2d");e=n(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,h=c.height;l(c);f.drawImage(a,0,0,g,h);return k(c,i,!0).then(function(a){return a.arrayBuffer().then(function(a){return{height:h,jpegThumbnail:a,width:g}})})})}function l(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function m(a){var b=a.getContext("2d");b.fillStyle="rgb(255,255,255)";b.fillRect(0,0,a.width,a.height)}function n(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.max(a,1),width:Math.max(b,1)}}g.TYPE_JPEG=i;g.IMG_THUMB_MAX_EDGE=e;g.canvasToBlob=k;g.urlToFile=a;g.urlToThumbnail=d;g.boundHeightWidth=n}),98);
__d("MAWMiActGetMappingWithMawTypes",["I64","MAWDbChatId","MAWJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=(h||(h=d("I64"))).to_string(a.jid);b=b?d("MAWJids").toGroupJid(c):d("MAWJids").toUserJid(c);return{chatId:d("MAWDbChatId").unsafeCoerceToChatId(h.to_int32(a.clientThreadPk)),jid:b,serverThreadKey:a.serverThreadKey}}g["default"]=a}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("MAWMiActIsPlaceholderChatId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).lt(a,h.zero)}g.isPlaceholderChatId=a}),98);
__d("MAWMiActThreadLifecycleState",[],(function(a,b,c,d,e,f){"use strict";a={ACT_THREAD_ONLY:"ACT_THREAD_ONLY",ACT_THREAD_ONLY_BY_CHAT_ID:"ACT_THREAD_ONLY_BY_CHAT_ID",ACT_THREAD_ONLY_BY_JID:"ACT_THREAD_ONLY_BY_JID",AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW",AUTHORITATIVE_THREAD_ONLY:"AUTHORITATIVE_THREAD_ONLY",CLIENT_PARTIAL_MI_THREAD:"CLIENT_PARTIAL_MI_THREAD",JID_MISSING_MAPPING_ROW:"JID_MISSING_MAPPING_ROW",JID_MISSING_MI_THREAD:"JID_MISSING_MI_THREAD",MI_AND_ACT_THREAD_COMPLETE:"MI_AND_ACT_THREAD_COMPLETE",OPTIMISTIC_THREAD_NO_ACT:"OPTIMISTIC_THREAD_NO_ACT",OPTIMISTIC_THREAD_WITH_ACT:"OPTIMISTIC_THREAD_WITH_ACT",SERVER_PARTIAL_MI_THREAD:"SERVER_PARTIAL_MI_THREAD",THREAD_KEY_ONLY:"THREAD_KEY_ONLY"};f.MiActThreadStatesEnum=a}),66);
__d("MAWMiActGetThreadLifecycleState",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActGetMappingWithMawTypes","MAWMiActIsPlaceholderChatId","MAWMiActThreadLifecycleState","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e){var f=(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel);if(f===c("LSAuthorityLevel").OPTIMISTIC)if(b!=null)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:"OPTIMISTIC_THREAD_WITH_ACT"});else return{serverThreadKey:a.threadKey,thread:a,type:"OPTIMISTIC_THREAD_NO_ACT"};if(f===c("LSAuthorityLevel").CLIENT_PARTIAL)return{serverThreadKey:a.threadKey,type:"CLIENT_PARTIAL_MI_THREAD"};if(f===c("LSAuthorityLevel").SERVER_PARTIAL)return{serverThreadKey:a.threadKey,type:"SERVER_PARTIAL_MI_THREAD"};if(f===c("LSAuthorityLevel").AUTHORITATIVE){if(b==null)return{serverThreadKey:a.threadKey,type:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW"};if(!d("MAWMiActIsPlaceholderChatId").isPlaceholderChatId(b.clientThreadPk))return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:"MI_AND_ACT_THREAD_COMPLETE"});else if(d("MAWMiActIsPlaceholderChatId").isPlaceholderChatId(b.clientThreadPk)){var g=c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType));return{jid:g.jid,jidInt64:b.jid,serverThreadKey:g.serverThreadKey,thread:a,type:"AUTHORITATIVE_THREAD_ONLY"}}}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unknown thread lifecycle state for threadKey: %s, authorityLevel: %s, thread action: %s",(j||(j=d("I64"))).to_string(a.threadKey),f,e)}function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange((j||(j=d("I64"))).of_int32(b))));if(e==null)return{chatId:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(e.serverThreadKey)));return a==null?{chatId:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID}:k(a,e,c)});return l.apply(this,arguments)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(b)));if(e==null)return{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(e.serverThreadKey)));return a==null?{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD}:k(a,e,c)});return m.apply(this,arguments)}function f(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY}:k(f,a,e)});return n.apply(this,arguments)}g.getThreadLifecycleStateByChatId=a;g.getThreadLifecycleStateByJid=e;g.getThreadLifecycleStateByThreadKey=f}),98);
__d("MAWWebWorkerInstance",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}d=function(){return g!==null};function b(){g=null}function c(){return g}f.setWorkerInstancePromise=a;f.doesWorkerExist=d;f.destroyWorkerInstance=b;f.getWorkerInstancePromise=c}),66);
__d("MAWMiActOnActThreadReadyQueue",["FBLogger","I64","MAWWebWorkerInstance","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executed "," out of "," actions on ACT thread\n    ready for threadKey: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing queued action on ACT thread ready: "," for threadKey: ",""]);j=function(){return a};return a}var k=new Map(),l=3e4;function a(a,b,e,f,g){var i=(h||(h=d("I64"))).to_string(a);a=(a=k.get(i))!=null?a:[];var j=c("setTimeout")(function(){c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for threadKey: %s, onActThreadReady, isWorkerAlive: %s",l,f,g,i,d("MAWWebWorkerInstance").doesWorkerExist()),e()},l);a.push({callback:b,description:f,threadState:g,timeoutId:j});k.set(i,a)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(h||(h=d("I64"))).to_string(a),g=k.get(f);if(g==null||g.length===0)return;var l=g.length,m=0;while(g.length!==0){var n=g.shift(),o=n.callback,p=n.description,q=n.threadState;n=n.timeoutId;try{c("promiseDone")(d("WALoggerDeferred").LOG(j(),p,f)),yield o(a,b,e),c("clearTimeout")(n),m++}catch(a){c("clearTimeout")(n),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on ACT thread ready: %s, original threadState: %s, threadKey: %s",p,q,f)}}k["delete"](f);c("promiseDone")(d("WALoggerDeferred").LOG(i(),m,l,f))});return m.apply(this,arguments)}g.enqueueByThreadKey=a;g.processQueueOnActThreadReady=e}),98);
__d("MAWMiActOnActThreadReady",["FBLogger","I64","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"]);i=function(){return a};return a}function a(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){a=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,b,e));switch(a.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:c("promiseDone")(d("WALoggerDeferred").LOG(i(),e,a.type,(h||(h=d("I64"))).to_string(b)));return f(b,a.chatId,a.jid);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:return d("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(b,f,(f=g)!=null?f:function(){},e,a.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_JID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled onActThreadReady for threadKey:\n        %s, thread action: %s",(h||(h=d("I64"))).to_string(b),e);default:a.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",a.type)}});return j.apply(this,arguments)}g.onActThreadReady=a}),98);
__d("MAWMiActOnMiThreadReadyQueue",["FBLogger","MAWWebWorkerInstance","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executed "," out of "," actions on MI thread\n    ready for chatId: ",", jid: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing action on MI thread ready: "," for chatId "," and jid ",""]);i=function(){return a};return a}var j=3e4,k=new Map(),l=new Map(),m=0;function a(a,b,e,f,g){var h;m++;h=(h=k.get(a))!=null?h:[];var i=c("setTimeout")(function(){c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for chatId: %s, onMiThreadReady, isWorkerAlive: %s",j,f,g,a,d("MAWWebWorkerInstance").doesWorkerExist()),e()},j);h.push({callback:b,description:f,sortId:m,threadState:g,timeoutId:i});k.set(a,h)}function e(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g,j;g=(g=k.get(e))!=null?g:[];j=(j=l.get(f))!=null?j:[];g=[].concat(g,j);if(g.length===0)return;g.sort(function(a,b){return a.sortId-b.sortId});j=g.length;var m=0;while(g.length!==0){var n=g.shift(),o=n.callback,p=n.description,q=n.threadState;n=n.timeoutId;try{c("promiseDone")(d("WALoggerDeferred").LOG(i(),p,e,f)),yield o(a,b),c("clearTimeout")(n),m++}catch(a){c("clearTimeout")(n),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on MI thread ready: %s, original threadState: %s, for chatId: %s and jid: %s",p,q,e,f)}}k["delete"](e);l["delete"](f);c("promiseDone")(d("WALoggerDeferred").LOG(h(),m,j,e,f))});return n.apply(this,arguments)}g.enqueueByChatId=a;g.processQueueOnMiThreadReady=e}),98);
__d("MAWMiActOnMiThreadReadyForChatId",["FBLogger","MAWMiActGetThreadLifecycleState","MAWMiActOnMiThreadReadyQueue","MAWMiActThreadLifecycleState","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing action: ",", thread state: ",", chat id: ",", onMiThreadReadyForChatId"]);h=function(){return a};return a}function a(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var i=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByChatId(a,b,e));switch(i.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:c("promiseDone")(d("WALoggerDeferred").LOG(h(),e,i.type,b));return f(a,i.serverThreadKey);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_JID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:return d("MAWMiActOnMiThreadReadyQueue").enqueueByChatId(b,f,(a=g)!=null?a:function(){},e,i.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unimplemented miActThreadState.type: %s",i.type);default:i.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled onMiThreadReadyForChatId:\n         %s, thread action: %s",b,e)}});return i.apply(this,arguments)}g.onMiThreadReadyForChatId=a}),98);
__d("LSInitSyncCompleteSubscription",["I64","LSIntEnum","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return new(j||(j=b("Promise")))(function(b,e){var f=d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(c).subscribe(function(a,c){if(c.operation==="delete")return;if((h||(h=d("I64"))).equal(c.value.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2))){f();return b()}})})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(b)).then(function(c){if(c!=null&&(h||(h=d("I64"))).equal(c.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;return k(a,b)})}function c(a){return k(a,(i||(i=d("LSIntEnum"))).ofNumber(1))}g.maybeWaitForSyncGroup=a;g.use=c}),98);
__d("MAWTrackPendingOccamadilloThreads",["LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSIntEnum","MAWTTRC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set(),k=new Set(),l=new Set();function a(a){d("MAWTTRC").markEvent("occamadillo_thread_mapping_start"),k.add(a),j.add(a),d("MAWTTRC").addIntAnnotation("occamadilloThreadCount",j.size)}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield i||(i=c("LSDatabaseSingleton")));yield d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(b,(h||(h=d("LSIntEnum"))).ofNumber(95));d("MAWTTRC").markEvent("occamadillo_sync_group_complete");k["delete"](a);l.add(a);d("MAWTTRC").addIntAnnotation("occamadilloCompleteThreadCount",l.size);n()});return m.apply(this,arguments)}function n(){k.size===0&&(d("MAWTTRC").addIntAnnotation("occamadilloThreadCount",j.size),d("MAWTTRC").markEvent("occamadillo_thread_mapping_end"))}g.addPendingThread=a;g.removePendingThread=e;g.maybeEndOccamadilloThreadMapping=n}),98);
__d("MAWAbPropsClient",["MAWAbPropsToUI"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:d("MAWAbPropsToUI").prepareAbPropsForUI()};function a(a){h.contents=a}function b(){return h.contents}g.rewrite=a;g.getAbProps=b}),98);
__d("MAWWaitForBackendSetup",["Promise","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=i,m=j;function n(a){return k["catch"](function(){throw c("err")("'"+a+"' rejected because backend setup failed.")})}function a(a,b){c("promiseDone")(n(b).then(function(){a()}))}function d(){k=new(h||(h=b("Promise")))(function(a,b){i=a,j=b}),l=i,m=j}function e(){l==null?void 0:l()}function f(a){m==null?void 0:m(a)}g.waitForBackendSetup=n;g.runAfterBackendSetup=a;g.resetBackendSetup=d;g.resolveBackendSetup=e;g.rejectBackendSetup=f}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){d("MAWBridge").getBridge().fireAndForget(a,b,c,e)},b)}g.fireAndForget=a}),98);
__d("MAWBridgeLoggingUtils",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3185,j="armadillo_worker_runtime",k="getWorkerHeartbeat",l=10,m=new Array(l);function n(a,b,c){(h||(h=d("ODS"))).bumpEntityKey(i,j,a+"_"+b+"_"+c)}function a(a,b){n(a,b,"start");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_start");m.length===l&&m.shift();m.push(a+"_"+b)}function o(a){m.filter(Boolean).forEach(function(b){(h||(h=d("ODS"))).bumpEntityKey(i,j,b+a)})}function b(a,b){n(a,b,"success");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_success")}function c(a,b){n(a,b,"fail");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_fail")}function e(a,b){n(a,b,"timeout");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_timeout")}function f(){(h||(h=d("ODS"))).bumpEntityKey(i,"armadillo_worker_watch_dog","worker_is_not_responding"),o("_before_unresponsive"),m.fill(null)}g.CAT_ID=i;g.ENT=j;g.HEARTBEAT_ROUTE=k;g.RECENT_ROUTES_NUM=l;g.routeStart=a;g.logRecentRoutes=o;g.routeSuccess=b;g.routeFail=c;g.routeTimeout=e;g.workerUnresponsive=f}),98);
__d("MAWTimedBridge",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;function a(a,b,e,f){f===void 0&&(f=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(e).then(function(){return a()}),f,function(){d("MAWBridgeLoggingUtils").routeTimeout(b,e);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete bridge route %s in time",e)},e)}g.bridgeTimeout=a}),98);
__d("MAWBridgeSendAndReceive",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWTimedBridge").bridgeTimeout(function(){d("MAWBridgeLoggingUtils").routeStart(a,b);return d("MAWBridge").getBridge().sendAndReceive(a,b,c).then(function(c){d("MAWBridgeLoggingUtils").routeSuccess(a,b);return c})["catch"](function(c){d("MAWBridgeLoggingUtils").routeFail(a,b);throw c})},a,b,e)}g.sendAndReceive=a}),98);
__d("MessengerIntent",["WebStorage","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_sent_message",j="mw_worker_ready";function k(){return c("gkx")("9852")?c("justknobx")._("1630"):c("justknobx")._("1041")}function l(){return c("justknobx")._("1309")}function a(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),j,String(Date.now()))}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(j))<k()}function m(){if(!c("gkx")("1371"))return!1;var a=(h||(h=c("WebStorage"))).getLocalStorage();return(a==null?void 0:a.getItem(j))!=null}function d(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),i,String(Date.now()))}function e(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(i))<k()}function f(){if(!c("gkx")("1371"))return!1;if(!m())return!1;var a=(h||(h=c("WebStorage"))).getLocalStorage();a=a==null?void 0:a.getItem(i);return a==null?!0:Date.now()-Number(a)>l()}g.markWorkerReady=a;g.isMAWWorkerFresh=b;g.isMAWWorkerInstalledOnProfile=m;g.sentMessage=d;g.hasSentMessagesRecently=e;g.hasNegativeSentIntent=f}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","MAWJidUtils","ReQL","WAJids","WALogger","WATimeUtils","asyncToGeneratorRuntime","cr:7035","gkx","promiseDone","qex","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);i=function(){return a};return a}var j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings");function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("qex")._("1516")===!0&&d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})){if(c("gkx")("9025")){var f=(yield j.load());f=(yield f());e=(e=e)!=null?e:yield d("MAWChatJid").toThreadKeyMaybe(f,d("MAWJidUtils").threadIdForChatJid(a));if(e!=null){f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("threads")).getKeyRange(e)));if(f!=null&&f.disappearingSettingTtl!=null){e={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32(f.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:f.disappearingSettingUpdatedBy!=null?d("WATimeUtils").castToUnixTime((h||(h=d("I64"))).to_int32(f.disappearingSettingUpdatedBy)):d("WATimeUtils").unixTime()};return e}return}}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(e){d("WALogger").LOG(i(),a,e);if(e!=null){b("cr:7035")!=null&&c("promiseDone")(b("cr:7035").updateEphemeralSettingsByChatJid(e.ephemeralExpirationInSec,e.ephemeralLastUpdatedOrSetTimestamp,a,!0));return e}return void 0})}});return k.apply(this,arguments)}g.getEphemeralSetting=a}),98);
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker_v1/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("TrustedTypesWebWorkerScriptURLPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createScriptURL:function(a){return a}};b=c("TrustedTypes").createPolicy("web-worker-url",a);d=b;g["default"]=d}),98);
__d("getWorkerInitScriptSPINParams",["SiteData","StaticSiteData","objectEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b,d,e=(b=c("SiteData"))[(d=c("StaticSiteData")).spin_mhenv_key];d=babelHelpers["extends"]((a={},a[d.hs_key]=b.haste_session,a[d.spin_rev_key]=b[d.spin_rev_key],a[d.spin_branch_key]=b[d.spin_branch_key],a[d.spin_time_key]=b[d.spin_time_key],a),Boolean(e)?(b={},b[c("StaticSiteData").spin_mhenv_key]=e,b):null);return new Map(c("objectEntries")(d))}g["default"]=a}),98);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){var g;function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return(g||(g=b("Promise"))).resolve(a.apply(c,e))}catch(a){return(g||(g=b("Promise"))).reject(a)}}f.promiseCallSync=a}),66);
__d("WAPromiseManagement",["WAPromiseCallSync"],(function(a,b,c,d,e,f,g){function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f["finally"](function(){return void c["delete"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("LSGroupParticipantJoinState",[],(function(a,b,c,d,e,f){a=Object.freeze({MEMBER:0,PENDING:1,INVITED:2});f["default"]=a}),66);
__d("LSHotEmojiSize",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SMALL:1,MEDIUM:2,LARGE:3});f["default"]=a}),66);
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,SOUND_BITE:9,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSThreadRemoveType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1});f["default"]=a}),66);
__d("MNLSXMALayoutType",[],(function(a,b,c,d,e,f){a=Object.freeze({SINGLE:0,HSCROLL:1,XCENTER:2,PORTRAIT:4,LAYERED:5,PLACEHOLDER:6,EXPIRED_PLACEHOLDER:7,PILE_PROMPT:8,STACK:9,SHARED_STACK:10,STACK_CARD:11,STANDARD_DXMA:12,DXMA_PLACEHOLDER:13,THREAD_SHORTCUT:14,LIST_DXMA:15});f["default"]=a}),66);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11});f["default"]=a}),66);
__d("MessagingFolderTag",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",INTEROP:"interop",ARCHIVED:"archived",UNKNOWN:""});f["default"]=a}),66);
__d("RavenMessagingState",[],(function(a,b,c,d,e,f){a=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});f["default"]=a}),66);
__d("Box.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function a(a,b){var d=a.as;d=d===void 0?"div":d;var e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["as","xstyle"]);return j.jsx(d,babelHelpers["extends"]({},a,{className:(h||(h=c("stylex")))(k.box,e),ref:b}))}a.displayName=a.name+" [from "+f.id+"]";b=j.forwardRef(a);g["default"]=b}),98);
__d("useMWXEntryPointDialog",["cr:5835","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,c,d,e){return b("cr:5835")(a,c,d,e)}g["default"]=a}),98);
__d("MAWThreadCutover",["I64","LSContactBitOffset","LSDatabaseSingleton","MAWJidUtils","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j||(j=c("LSDatabaseSingleton"))),e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("mi_act_mapping_table")).getKeyRange(a)));if(e==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("cutover_threads")).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,e.jid)})));return a!=null});return k.apply(this,arguments)}function l(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a)},[b,a],f.id+":53")!=null}function m(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("mi_act_mapping_table")).getKeyRange(a)},[b,a],f.id+":65");return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("cutover_threads")).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,e.jid)})},[b,e],f.id+":74")}function e(a){var b=(i||(i=c("useReStore")))(),e=m(a);return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(e.openThreadId)},[b,e],f.id+":89")}function n(a){a=m(a);if(a!=null)return a.openThreadId}function o(a){return m(a)!=null}function p(a,b){b=d("MAWJidUtils").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function q(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor();a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b),f.id+":128");return a!=null&&((b=d("LSContactBitOffset").has(75,a))!=null?b:!1)}function r(a){var b=(i||(i=c("useReStore")))(),e=(h||(h=d("I64"))).of_string(a),g=l(e);return d("ReQLSuspense").useFirst(function(){if(g)return d("ReQL").fromTableAscending(b.table("mi_act_mapping_table")).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,e)}).map(function(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)});else return d("ReQL").empty()},[b,e,g],f.id+":146")}function s(a){if(a!=null)return r(a)}g.isCutoverThreadKey=a;g.useIsCutoverOpenThread=l;g.useGetCutoverMapping=m;g.useCutoverOpenThread=e;g.useGetCutoverOpenThreadKey=n;g.useIsCutoverSecureThread=o;g.isCutoverSecureThreadFromChatJid=p;g.useIsCurrentUserCutoverUser=q;g.useGetCutoverSecureThreadKey=r;g.useMaybeGetCutoverSecureThreadKey=s}),98);/*FB_PKG_DELIM*/
__d("VideoPlayerScrubberBase_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberBase_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_base_content_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberBase_video",fragmentName:"VideoPlayerScrubberBaseContentSegmented_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberBaseContentSegmentedRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useEffect,m=44,n={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",height:"xn3w4p2",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},"default":{bottom:"x1ey2m1c",flexDirection:"x1q0g3np",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x11uqc5h",$$css:!0},firstRow:{alignItems:"x6s0dn4",direction:"xzt5al7",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.children,e=a.initialBottomRowAddOn;e=e===void 0?null:e;var f=a.isBackgroundVisible,g=a.isVisible,i=a.xstyle,o=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(e);a=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var p=a.release,q=a.reserve;l(function(){if(Boolean(g)||Boolean(f)){var a=q({location:"bottom",size:m});return function(){p(a)}}},[g,f,q,p]);var r=f===!1||g===!1,s=f===!0||g===!0;return k.jsx(c("FocusWithinHandler.react"),{children:function(a,d){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:d,children:k.jsxs("div",{className:(h||(h=c("stylex")))(n["default"],o==null&&n.firstRow,g===!1&&n.hidden,g===!0&&n.visible),"data-testid":void 0,children:[k.jsx("div",{className:h(n.backgroundGradient,r&&n.hidden,s&&n.visible,i)}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:r,children:o==null?b:k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:b}),k.jsx(c("CometErrorBoundary.react"),{children:o})]})})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={contracted:{paddingTop:"xexx8yu",paddingEnd:"x1mpkggp",paddingBottom:"x18d9i69",paddingStart:"x1t2a60a",$$css:!0},"default":{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",flexWrap:"xozqiw3",$$css:!0},expanded:{flexGrow:"x1iyjqo2",$$css:!0},hidden:{opacity:"x1fmh03i",pointerEvents:"x47corl",$$css:!0},noPaddingEnd:{paddingEnd:"x4uap5",$$css:!0},noPaddingStart:{paddingStart:"xkhd6sd",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.children,d=a.isVisible;d=d===void 0?!0:d;var e=a.noPaddingEnd;e=e===void 0?!1:e;a=a.noPaddingStart;a=a===void 0?!1:a;var f=k(c("VideoControlsContainerFocusedContext"));d=d||f;f=k(c("VideoPlayerControlsHiddenContext"));return j.jsx("div",{className:(h||(h=c("stylex")))(l["default"],l.contracted,e&&l.noPaddingEnd,a&&l.noPaddingStart,d?l.visible:l.hidden),children:j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f||!d,children:b})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.isVisible;a=a===void 0?!0:a;var d=k(c("VideoControlsContainerFocusedContext"));a=a||d;d=k(c("VideoPlayerControlsHiddenContext"));return j.jsx("div",{className:(h||(h=c("stylex")))(l["default"],l.expanded,a?l.visible:l.hidden),children:j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:d||!a,children:b})})}b.displayName=b.name+" [from "+f.id+"]";g.Contracted=a;g.Expanded=b}),98);
__d("VideoPlayerPointerDrag",["react","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=j(null),b=j(null),d=c("useResizeObserver")(function(c,d){a.current=d.getBoundingClientRect(),b.current=d}),e=c("useStable")(function(){return function(){var c=b.current;c?a.current=c.getBoundingClientRect():a.current=null}});return{invalidateRootRect:e,rootRectRef:a,rootSizeRefCallback:d}}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null?void 0:a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){i(function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},[a,b])}function r(a,b,d){var e=k(n),f=e[0],g=e[1];e=c("useStable")(function(){return p(g,a,b)});var h=e.destroy,j=e.onMouseDown;e=e.onTouchStart;i(function(){return h},[h]);return{dragState:f,rootProps:{onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:j,onTouchStart:(d==null?void 0:d.hasTouchEvents)===!0?e:void 0}}}function e(a,b){var c=j(a),d=j(null);i(function(){c.current=a},[a]);d=r(c,d,b);b=d.dragState;d=d.rootProps;q(b,c);return{dragState:b,isDragging:b.dragState==="dragging",rootProps:d}}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("VideoPlayerSliderNub.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={"default":{backgroundColor:"x14hiurz",borderTopColor:"x1g7gg9k",borderEndColor:"xenha5r",borderBottomColor:"x1eoefnw",borderStartColor:"x124h113",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",boxShadow:"x1nqv1ya",display:"x1s85apg",height:"xdk7pt",marginRight:"x1x862rh",marginTop:"x1rdy4ex",position:"x10l6tqk",right:"x3m8u43",width:"x1xc55vz",zIndex:"x1vjfegm",$$css:!0},visible:{display:"x1lliihq",$$css:!0}};function a(a){a=a.isVisible;return j.jsx("div",{className:(h||(h=c("stylex")))(k["default"],a&&k.visible),"data-testid":void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.bufferedRatio,d=a.isLive,e=a.isLiveRewindActive,f=a.isNubVisible,g=a.playedRatio,i=a.timelineBackgroundXStyle,l=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.timelineBackground,i),children:[j.jsx("div",babelHelpers["extends"]({className:h(k.timelineBuffered,!d&&k.timelineBufferedBackground,l)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*b).toFixed(5)+"%"}})),j.jsx("div",babelHelpers["extends"]({className:h(k.timelinePlayed,d&&!e&&k.liveTimePlayed,d&&e&&k.liveRewindTimePlayed,a)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*g).toFixed(5)+"%"},children:j.jsx(c("VideoPlayerSliderNub.react"),{isVisible:f})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function k(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.duration,g=a.onScrubCancel,h=a.onScrubEnd,l=a.onScrubStart;a=a.supportsTouch;var m=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),n=m.invalidateRootRect,o=m.rootRectRef;m=m.rootSizeRefCallback;var p=j(0),q=p[0],r=p[1];p=j(!1);var s=p[0],t=p[1],u=c("usePrevious")(e);i(function(){e!==u&&t(!1)},[e,u]);p=d("VideoPlayerPointerDrag").usePointerDrag({onDragCancel:function(a){g()},onDragEnd:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a){g();return}r(a.ratioX);a=a.ratioX*f;h(a)},onDragEndSync:function(){t(!0)},onDragMove:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a)return;r(a.ratioX)},onDragStart:function(a){n();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a)return;r(a.ratioX);l()}},{hasTouchEvents:a===!0});a=p.isDragging;p=p.rootProps;b=k(f,b);var v=k(f,e);return{bufferedRatio:b,currentPlayedRatio:v,invalidateRootRect:n,isDragging:a,isWaitingForSeek:s,pointerOffsetRatio:q,rootProps:p,rootRectRef:o,rootSizeRefCallback:m}}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometRelay","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerScrubberBase_video.graphql","VideoPlayerUserInteractionCounter","react","stylex","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useMemo,o=e.useState,p={root:{cursor:"x1ypdohk",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},tooltipContainer:{bottom:"xfqi8uc",position:"x10l6tqk",$$css:!0},withoutVerticalPadding:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function a(a){var e=a.bufferEnd,f=a.currentTime,g=a.disableKeyCommands,k=a.duration,q=a.hideNub;q=q===void 0?!1:q;var r=a.isLive,s=a.isLiveRewindActive,t=a.keyLeftDescription,u=a.keyRightDescription,v=a.onScrubCancel,w=a.onScrubEnd,x=a.onScrubStart,y=a.onUserInteraction,z=a.playFromBeginningImpl,A=a.renderTooltip,B=a.skipBackwardImpl,C=a.skipForwardImpl,D=a.skipToEndImpl,E=a.supportsTouch,F=a.timelineBackgroundXStyle,G=a.timelineBufferedXStyle,H=a.timelinePlayedXStyle,I=a.video;a=a.withoutVerticalPadding;a=a===void 0?!1:a;I=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerScrubberBase_video.graphql"),I);var J=o(!1),K=J[0],L=J[1];J=o(0);var M=J[0],N=J[1];J=o(null);var O=J[0],P=J[1];J=c("useVideoPlayerScrubberState")({bufferEnd:e,currentTime:f,duration:k,onScrubCancel:v,onScrubEnd:w,onScrubStart:x,supportsTouch:E});e=J.bufferedRatio;v=J.currentPlayedRatio;var Q=J.invalidateRootRect;w=J.isDragging;x=J.isWaitingForSeek;E=J.pointerOffsetRatio;var R=J.rootProps,S=J.rootRectRef;J=J.rootSizeRefCallback;var T=m(function(){L(!0)},[]),U=m(function(){L(!1)},[]),V=m(function(a){Q();if(S.current!=null){var b=S.current.left,c=S.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(k)&&k>0?k*d:null;N(a.clientX-b);P(c)}},[k,Q,S]),W=K||w;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",W,y);W=K||w||x;y=w||x?E:r&&!s?1:v;w=n(function(){return g===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:u,handler:C},{command:{key:c("CometKeys").LEFT},description:t,handler:B},{command:{key:c("CometKeys").HOME},description:h._("__JHASH__3cUloDtyzSK__JHASH__"),handler:z},{command:{key:c("CometKeys").END},description:h._("__JHASH__jTksR1FMT97__JHASH__"),handler:D}]},[g,u,C,t,B,z,D]);x={bufferedRatio:e,duration:k,hoveringPositionSec:O,isHovering:K,isLive:r,isLiveRewindActive:s,isNubVisible:!q&&W,playedRatio:y,timelineBackgroundXStyle:F,timelineBufferedXStyle:G,timelinePlayedXStyle:H};return l.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:w,children:l.jsxs("div",babelHelpers["extends"]({},R,{"aria-label":h._("__JHASH__69czi8qDKMx__JHASH__"),"aria-orientation":"horizontal","aria-valuemax":k,"aria-valuemin":"0","aria-valuenow":f,className:(j||(j=c("stylex")))(p.root,a&&p.withoutVerticalPadding),"data-testid":void 0,onMouseEnter:T,onMouseLeave:U,onMouseMove:V,ref:J,role:"slider",tabIndex:"0",children:[(I==null?void 0:I.video_player_scrubber_base_content_renderer)!=null?l.jsx(d("CometRelay").MatchContainer,{match:I==null?void 0:I.video_player_scrubber_base_content_renderer,props:babelHelpers["extends"]({},x)}):l.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},x)),A!=null&&O!=null&&K&&l.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:M},children:A(O)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLikedByListActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=12;f.PAGE_SIZE=a}),66);
__d("PolarisLikedByListActions",["PolarisInstapi","PolarisLikedByListActionConstants","PolarisLikedByListState","PolarisMonitorErrors","PolarisPaginationUtils","PolarisRelationshipActionGetRelationshipInfoForUserIds","PolarisUserModel","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="d5d763b1e2acf209d62d22d184488e57",i=1;function a(){var a=h;return d("PolarisPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return((a=a.likedByLists[b])!=null?a:d("PolarisLikedByListState").EMPTY_LISTS).pagination},onError:function(a,b,c){return{fetch:b,shortcode:c,type:"LIKED_BY_LIST_REQUEST_FAILED"}},onUpdate:function(a,b,d){b=b==null?void 0:(b=b.shortcode_media)==null?void 0:b.edge_liked_by;return{fetch:a,pageInfo:b==null?void 0:b.page_info,shortcode:d,type:"LIKED_BY_LIST_REQUEST_UPDATED",users:b?c("nullthrows")(b.edges).map(function(a){return a.node}):[]}},pageSize:d("PolarisLikedByListActionConstants").PAGE_SIZE,pagesToPreload:i,queryId:a,queryParams:function(a){return{include_reel:!0,shortcode:a}}})}var j=a();a=j;function e(a){return j.first(a)}function f(a){return j.next(a)}function k(a,b){return{searchInput:b,shortcode:a,type:"LIKED_BY_LIST_SEARCH_INPUT_SET"}}function l(a){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){try{e=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/likers/",{path:{media_id:a}}));e=(e=(e=e.data.users)==null?void 0:e.map(function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()}))!=null?e:[];var f=e.map(function(a){return a.id});yield b(d("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(f));b({mediaId:a,type:"LIKED_BY_LIST_NATIVE_REQUEST_UPDATED",users:e})}catch(a){d("PolarisMonitorErrors").logError(a)}});return function(a,b){return e.apply(this,arguments)}}()}g._actionCreators=a;g.requestLikedByList=e;g.requestNextLikedByListPage=f;g.setSearchInput=k;g.requestNativeLikedByList=l}),98);
__d("PolarisPostModalRenderingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isInModal:!1});function a(){return i(j)}g.PolarisPostModalRenderingContext=j;g.usePolarisPostModalRenderingContext=a}),98);
__d("getPolarisTitleForPost",["fbt","PolarisStringUtils","polarisFormatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i="\u2026",j=140,k="M j, Y",l="g:i A",m=/,? +/;function a(a,b){var e=c("polarisFormatDate")(a.postedAt,k),f=c("polarisFormatDate")(a.postedAt,l);e=h._("__JHASH__rRZcs2l8iVf__JHASH__",[h._param("date",e),h._param("time",f)]);f=d("PolarisStringUtils").truncate((f=a.caption)!=null?f:"",{maxLength:j,omission:i,preferredCutoff:m});var g=b.fullName!=null&&b.fullName!=="";if(f)return h._("__JHASH__zc7s9tEMZNJ__JHASH__",[h._param("caption",f)]);else if(a.isVideo===!0&&g)return h._("__JHASH__ZMby4ogBxe1__JHASH__",[h._param("fullName",b.fullName),h._param("datetime",e)]);else if(g)return h._("__JHASH__7-NLTGJev2m__JHASH__",[h._param("fullName",b.fullName),h._param("datetime",e)]);else if(a.isVideo===!0)return h._("__JHASH__avazppxMEbH__JHASH__",[h._param("username",b.username),h._param("datetime",e)]);return h._("__JHASH__CVDEKuRzqhK__JHASH__",[h._param("username",b.username),h._param("datetime",e)])}g["default"]=a}),98);
__d("PolarisCommentButton.react",["fbt","IGDSCommentPanoOutlineIcon","IGDSIconButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__DRKjP2-nYQr__JHASH__");function a(a){var b=a.className,d=a["data-testid"],e=a.onClick;d=function(a){a.preventDefault(),e(a)};return j.jsx("span",{className:b,"data-testid":void 0,children:j.jsx(c("IGDSIconButton.react"),{hover:j.jsx(c("IGDSCommentPanoOutlineIcon"),{alt:k,color:"ig-secondary-text",size:24}),onClick:d,children:j.jsx(c("IGDSCommentPanoOutlineIcon"),{alt:k,color:"ig-primary-text",size:24})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserTagIndicatorWithSheet.react",["fbt","PolarisUserTagIndicator.react","PolarisUserTagSheet.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__k2FQhmyaBWn__JHASH__");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=function(){c.props.onClick!=null&&c.props.onClick(),c.props.disableSheet!==!0&&c.setState({isUserTagSheetOpen:!0})};c.$2=function(){c.setState({isUserTagSheetOpen:!1})};c.state={isUserTagSheetOpen:!1};return c}var e=b.prototype;e.render=function(){return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:this.$1}),this.state.isUserTagSheetOpen&&j.jsx(d("PolarisUserTagSheet.react").UserTagSheet,{mediaId:this.props.mediaId,onClose:this.$2,title:k,usertags:this.props.usertags})]})};return b}(j.PureComponent);g["default"]=a}),98);
__d("PolarisMediaVideo.react",["cr:6866","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:6866")}),98);
__d("PolarisSidecar.react",["cx","IGDSBox.react","PolarisLogger","PolarisPagerButton.react","PolarisResponsiveBlock.react","PolarisSizing","PolarisStepIndicator.react","PolarisVirtualHSnapScroll.react","getPolarisKeyCommandConfig","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=400,l=1,m={areaClick:null,pagerClick:"click",scroll:"scroll",swipe:null};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={hoveredOver:!1,mediaWidth:0,sidecarChildIndex:c.props.initialCarouselIndex||0},c.$1=null,c.$2=!1,c.$3={},c.$4=function(a){var b=c.props,d=b.initialCarouselIndex;b=b.numSidecarChildren;c.$1=a;if(d!=null&&d>0&&d<b&&c.$2===!1){(a=c.$1)==null?void 0:a.snapToIndex(d);c.$2=!0}c.props.onSetScrollRef&&c.props.onSetScrollRef(c.$1)},c.$5=function(a){return Math.min(Math.pow(Math.abs(a),.75)*3,k)},c.$8=function(a){c.setState({mediaWidth:a})},c.$9=function(a){a=a.interactionType;a=m[a];a!=null&&!c.$3[a]&&(d("PolarisLogger").logAction("sidecarEngagement",{source:" hscroll",type:a}),c.$3[a]=!0);c.props.onInteract&&c.props.onInteract()},c.$10=function(){var a=c.props,b=a.numSidecarChildren,d=a.onChildIndexChange,e=c.state.sidecarChildIndex,f=(a=(a=c.$1)==null?void 0:a.getCurrentIndex())!=null?a:0;f!==e&&f>=0&&f<b&&c.setState({sidecarChildIndex:f},function(){d&&d(e,f,b)})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$6=function(){this.setState({hoveredOver:!0})};e.$7=function(){this.setState({hoveredOver:!1})};e.$11=function(){var a;return j.jsx(c("PolarisStepIndicator.react"),{className:"_aamj",numSteps:this.props.numSidecarChildren,selectedStep:this.state.sidecarChildIndex,style:(a=this.props.stepIndicatorStyle)!=null?a:"overlay"})};e.$12=function(){var a=this.props,b=a.dimensions;a=a.numSidecarChildren;if(a===0)return null;a=[].concat(b).sort(function(a,b){a=a.width/a.height;b=b.width/b.height;return a-b})[0];if(!a)return null;b=d("PolarisSizing").getHeightPercent(a);a={paddingBottom:b+"%"};return j.jsx("div",{className:"_aami",style:a})};e.$13=function(a){var b=this;return a==="immersiveViewer"?[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("mediaViewer","goToNextIndex",function(){var a;(a=b.$1)==null?void 0:a.snapToNext()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("mediaViewer","goToPrevIndex",function(){var a;(a=b.$1)==null?void 0:a.snapToPrev()})]:[]};e.render=function(){var a=this,b=this.props,e=b.autoScrollOnFocus,f=b.initialCarouselIndex;b=b.mediaFooter;var g=this.state.mediaWidth,h=this.$11(),i=!this.props.hoverTriggeredPager,k=this.$13(this.props.stepIndicatorStyle);return j.jsxs("div",{className:"_aamm",onMouseEnter:function(){a.$6()},onMouseLeave:function(){a.$7()},ref:this.props.containerRef,children:[j.jsxs(c("PolarisResponsiveBlock.react"),{className:"_aamn",onResize:this.$8,children:[this.$12(),g>0&&j.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:j.jsx(c("PolarisVirtualHSnapScroll.react"),{animationDuration:this.$5,autoScrollOnFocus:e,initialIndex:f,itemWidth:g,navigationCommands:k,onInteract:this.$9,onVisibilityChange:this.$10,overscan:l,pagerDisabled:!i&&!this.state.hoveredOver,pagerVariant:d("PolarisPagerButton.react").PAGER_BUTTON_VARIANTS.sidecar,scrollRef:this.$4,children:this.props.renderSidecarChildren(this.state.mediaWidth,this.state.sidecarChildIndex)})})]}),b,h]})};return b}(j.PureComponent);b=a;g._Sidecar=a;g.Sidecar=b}),98);
__d("PolarisPoliticalContextButton.react",["IGDSBox.react","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.className,d=a.text;a=a.textColor;return i.jsx("div",{className:b,children:i.jsx(c("IGDSBox.react"),{position:"relative",children:i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:a,display:"inline",zeroMargin:!0,children:d})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostToastProvider.react",["react","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.useContext,k=d.useMemo,l=d.useRef,m=d.useState,n={ActionText:null,BodyText:null,actionHref:"/",positionStyles:{absolutePositionStyles:{},width:0},postToastContainerElem:null,setActionHref:function(){},setActionText:function(){},setBodyText:function(){},setPositionStyles:function(){},setShowToast:function(){},showToast:!1},o=i.createContext(n);function a(){return j(o)}function b(a){var b=a.ActionText,c=a.BodyText,d=a.actionHref,e=a.setActionHref,f=a.setActionText,g=a.setBodyText;a=a.setShowToast;e(d);f(b);g(c);a(!0)}function e(a,b){a=a.children;var d=m(null),e=d[0],f=d[1];d=m(null);var g=d[0],h=d[1];d=m("");var j=d[0],p=d[1];d=m(n.positionStyles);var q=d[0],r=d[1];d=m(!1);var s=d[0],t=d[1],u=l(null);d=c("useMergeRefs")(u,b);b=k(function(){return{ActionText:e,BodyText:g,actionHref:j,positionStyles:q,postToastContainerElem:u.current,setActionHref:p,setActionText:f,setBodyText:h,setPositionStyles:r,setShowToast:t,showToast:s}},[e,g,j,q,s]);return i.jsx(o.Provider,{value:b,children:a(d)})}e.displayName=e.name+" [from "+f.id+"]";d=i.forwardRef(e);g.usePostToastContext=a;g.showPostToast=b;g.PostToastProvider=d}),98);
__d("PolarisSavedCollectionPickerListItem.react",["cx","fbt","CometPressable.react","IGDSBox.react","IGDSText.react","PolarisLinkBuilder","PolarisPostToastProvider.react","PolarisThumbnail.react","PolarisUrlHelpers","emptyFunction","nullthrows","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useCallback,m=32,n=152,o=50;function p(a){return i._("__JHASH__-q2h7eNrQCh__JHASH__",[i._param("collection name",a)])}function q(a){var b=a.collectionName;a=a.coverMedia;a=a.image_versions2.candidates;var d=a.length>0;return k.jsx(k.Fragment,{children:d?k.jsx(c("PolarisThumbnail.react"),{alt:i._("__JHASH___bvLxc-DOQb__JHASH__",[i._param("collectionName",b)]),src:a[0].url}):null})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.collection,e=a.onSaveMedia,f=e===void 0?c("emptyFunction"):e,g=a.onSaveMediaToCollection;a.postId;var h=a.postIsSaved,j=a.postIsSavedToCollection,r=a.setHidePopover;e=b.cover_media;a=b.cover_media_list;var s;e!=null&&(s=e);a!=null&&(s=a[0]);e=s!=null;var t=d("PolarisPostToastProvider.react").usePostToastContext(),u=c("nullthrows")(c("usePolarisViewer")()),v=d("PolarisUrlHelpers").slugify(b.name),w=l(function(){d("PolarisPostToastProvider.react").showPostToast(babelHelpers["extends"]({},t,{ActionText:i._("__JHASH__O7TnneKxudi__JHASH__"),BodyText:p(b.name),actionHref:d("PolarisLinkBuilder").buildUserSavedCollectionLink(c("nullthrows")(u.username),v===""?"_":v,b.id)}))},[b.id,b.name,v,t,u.username]);function x(){g(j,b.id),j||w(),h===!1&&f(!0),r(!0)}return k.jsx(c("CometPressable.react"),{onPress:x,children:k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:o,paddingX:4,position:"relative",children:[k.jsx("div",{className:"_aauc",children:k.jsx(c("IGDSBox.react"),{color:"secondaryBackground",height:m,position:"relative",shape:"square",width:m,children:e?k.jsx(q,{collectionName:b.name,coverMedia:c("nullthrows")(s)}):null})}),k.jsx(c("IGDSBox.react"),{marginStart:2,maxWidth:n,position:"relative",children:j?k.jsx(c("IGDSText.react").Section,{maxLines:1,zeroMargin:!0,children:b.name}):k.jsx(c("IGDSText.react").Label,{maxLines:1,zeroMargin:!0,children:b.name})})]})})}a.displayName=a.name+" [from "+f.id+"]";g.LIST_ITEM_HEIGHT=o;g.savedToCollectionText=p;g.SavedCollectionPickerListItem=a}),98);
__d("PolarisAppAttributionText.react",["fbt","IGDSExternalLinkPanoOutline24Icon","IGDSText.react","PolarisFastLink.react","PolarisLinkBuilder","PolarisLogger","PolarisViewpointReact.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.useRef,m=h._("__JHASH__mrLy4FGHzkL__JHASH__");function a(a){var b=a.appId,e=a.appName,f=a.mediaId;a=a.showIcon;var g=a===void 0?!1:a,h=1,i=l(!1);a=k(function(){return[function(a){a.percentVisible>=h&&!i.current&&(d("PolarisLogger").logAction("thirdPartyAppAttributionImpression"),i.current=!0)}]},[]);return j.jsx(c("PolarisFastLink.react"),{href:d("PolarisLinkBuilder").buildClipsAppPageLink(b,f),onClick:function(){d("PolarisLogger").logAction("thirdPartyAppAttributionClick")},children:j.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:a,id:b,children:function(a){return j.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np",ref:a,children:[g===!0&&j.jsx("div",{className:"xw3qccf",children:j.jsx(c("IGDSExternalLinkPanoOutline24Icon"),{alt:m,size:12})}),j.jsx(c("IGDSText.react").Body2,{breakWord:!0,zeroMargin:!0,children:j.jsx("div",{className:"x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft","data-testid":void 0,children:j.jsx("span",{children:e})})})]})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAudioAttributionText.react",["IGDSMiddleDot.react","IGDSText.react","PolarisClipsConstants","PolarisClipsHelpers","PolarisFastLink.react","PolarisIGCorePressable","PolarisLinkBuilder","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.audioArtist,e=a.audioID,f=a.audioName,g=a.isMediaOwnerOriginalSound,h=a.isMutedAudio,j=a.isOverMedia;j=j===void 0?!1:j;var k=a.isOwnerPrivate,l=a.muteAudioReason,m=a.onDisabledClipsAudioAttributionClick;if(!d("PolarisClipsHelpers").hasAudioAttributionText({audioArtist:b,audioName:f,isMediaOwnerOriginalSound:g}))return null;a=i.jsx(c("IGDSText.react").Body2,{color:j?"textOnMedia":"primaryText",zeroMargin:!0,children:i.jsx("div",{className:"x78zum5 xh8yej3","data-testid":void 0,children:g===!0?i.jsx("span",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:f}):i.jsxs("span",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:[b,i.jsx(c("IGDSMiddleDot.react"),{color:j?"textOnMedia":"primaryText"}),f]})})});var n=g===!0&&k===!0;b=function(){m&&m(n?d("PolarisClipsConstants").AUDIO_PAGE_DOES_NOT_EXIST_PRIVATE_USER:String(l))};return e!=null&&c("gkx")("4914")?n||h?i.jsx(c("PolarisIGCorePressable"),{onPress:b,children:a}):i.jsx(c("PolarisFastLink.react"),{className:"xh8yej3",href:d("PolarisLinkBuilder").buildClipsAudioPageLink(e),children:a}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLoggedOutUserTagIndicatorWithSheet.react",["PolarisConfig","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux","PolarisUA","PolarisUserTagIndicatorWithSheet.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.analyticsContext,e=a.mediaId,f=a.post;a=a.usertags;var g=d("PolarisReactRedux").useDispatch(),h=j(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"tagged_icon_click",module:b||""}),d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()&&g(d("PolarisNavigationActions").openLoginModal("feature_wall",window.location.href,"post_tagged"))},[b,g]);return i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:b,disableSheet:d("PolarisUA").isDesktop(),mediaId:e,onClick:h,post:f,usertags:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostMoreButton",["fbt","IGDSText.react","PolarisIGCorePressable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.handleMoreClick,d=a.isMoreButtonInline;d=d===void 0?!1:d;var e=a.moreTextColor;a=a.truncatedElem;return j.jsxs("span",{children:["...\xa0",j.jsx(c("PolarisIGCorePressable"),{onPress:b,style:{cursor:"pointer",display:d?"inline-block":"inline"},children:j.jsx(c("IGDSText.react"),{color:e,textAlign:"start",zeroMargin:!0,children:a==null?h._("__JHASH__o8KDH-tdLwt__JHASH__"):a})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTruncatedText.react",["PolarisAdsGatingHelpers","PolarisConfig","PolarisIGCorePressable","PolarisIGCoreText","PolarisNavigationActions","PolarisPostMoreButton","PolarisReactRedux","PolarisStringUtils","PolarisUserText.react","browserHistory","nullthrows","polarisMemoizeLast","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useState,m=120,n=/\r\n|[\r\n]/;function a(a){var b=a.analyticsContext,e=a.disableExpansion,f=a.hideAndShowTextOnClick;f=f===void 0?!1:f;var g=a.isCaption,h=a.isImmersiveViewer,o=a.limit,p=o===void 0?m:o,q=a.onMoreClick,r=a.onMoreClickWithoutExpansion;o=a.truncatedElem;a=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","disableExpansion","hideAndShowTextOnClick","isCaption","isImmersiveViewer","limit","onMoreClick","onMoreClickWithoutExpansion","truncatedElem"]);var s=a.color,t=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","value"]);var u=d("PolarisReactRedux").useDispatch(),v=l(!1),w=v[0],x=v[1],y=c("polarisMemoizeLast")(function(a){if(a==null||a==="")return"";var b=a.toString().search(n);b=b>0?Math.min(b,p):p;return d("PolarisStringUtils").truncate(a.toString(),{maxLength:b,omission:"",preferredCutoff:/[.\s]+/m})}),z=k(function(){return t==null||t===""?!1:y(t).length<t.toString().length},[t,y]),A=k(function(){return w||!z},[w,z]);v=k(function(){return A?t:y(c("nullthrows")(t))},[A,y,t]);var B=j(function(a){if(e===!0)return;a.preventDefault();if(!d("PolarisConfig").isLoggedIn()&&b==="postPage"){u(d("PolarisNavigationActions").openLoginModal("reminder_wall",d("browserHistory").browserHistory.location.pathname,"post_caption_see_more"));if(!d("PolarisConfig").isLoggedIn()&&g===!1)return}if(r){r();return}q&&q();x(!0)},[e,b,r,q,u,g]),C=s==="ig-text-on-media"?"textOnMedia":"secondaryText",D=h===!0||!A&&d("PolarisAdsGatingHelpers").showOptimizedFeedAdUI();a=i.jsx(c("PolarisUserText.react"),babelHelpers["extends"]({},a,{color:s,display:"inline",headlineTag:g===!0?"h1":void 0,size:"body",value:v}));return i.jsxs(c("PolarisIGCoreText"),{color:s,display:"inline",zeroMargin:!0,children:[f===!0?i.jsx(c("PolarisIGCorePressable"),{onPress:function(){return x(!w)},style:{display:h===!0?"inline":""},children:a}):a,!A&&i.jsx(c("PolarisPostMoreButton"),{handleMoreClick:B,isMoreButtonInline:D,moreTextColor:C,truncatedElem:o})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastCommentPrimitive.react",["IGDSBox.react","IGDSVerifiedBadge.react","PolarisConfig","PolarisIGCoreText","PolarisTruncatedText.react","PolarisUserLinkWithHoverCard.react","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isAuthorUnpublished;b=b===void 0?!1:b;var e=a.isAuthorVerified;e=e===void 0?!1:e;var f=a.isCaption;f=f===void 0?!1:f;var g=a.onMoreClick,h=a.text,j=a.userId;a=a.username;var k=c("usePolarisAnalyticsContext")();b=b===!0?null:i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-primary-text",triggerAnalyticsContext:"post_commenter",userId:j,username:a}),!d("PolarisConfig").isLoggedIn()&&e&&i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,position:"relative",children:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),i.jsx(c("PolarisIGCoreText"),{display:"inline",zeroMargin:!0,children:"\xa0"})]});return i.jsxs(c("IGDSBox.react"),{"data-testid":void 0,display:"block",flex:"grow",position:"relative",children:[b,!d("PolarisConfig").isLoggedIn()&&f===!1?i.jsx(c("PolarisTruncatedText.react"),{analyticsContext:k,isCaption:f,limit:40,value:h}):i.jsx(c("PolarisTruncatedText.react"),{analyticsContext:k,isCaption:f,onMoreClick:g,value:h})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLikedByListButton.react",["IGDSText.react","PolarisFastLink.react","PolarisUA","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.code,f=a.inModal;a=a.onClick;var g=c("usePolarisViewer")();return i.jsx(c("PolarisFastLink.react"),{href:"/p/"+e+"/liked_by/",onClick:a,shouldOpenModal:!g&&f!==!0||d("PolarisUA").isDesktop(),children:i.jsx(c("IGDSText.react"),{weight:"semibold",zeroMargin:!0,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLikedByText.react",["fbt","IGDSButton.react","IGDSText.react","PolarisBigNumber.react","PolarisFastLink.react","PolarisLikedByListButton.react","PolarisLinkBuilder","PolarisLogger","PolarisPostUtils","PolarisUserLink.react","PolarisUserLinkWithHoverCard.react","nullthrows","react","useCurrentRoute","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){a=a.user;return j.jsx(c("PolarisUserLinkWithHoverCard.react"),{triggerAnalyticsContext:"post_liker",userId:a.id,username:c("nullthrows")(a.username)})}k.displayName=k.name+" [from "+f.id+"]";var l=function(){d("PolarisLogger").logAction("likeCountClick")};function a(a){var b=a.code,e=a.hideCounts,f=a.inModal,g=a.onClick,i=a.onLike,m=a.topLikers,n=a.totalCount;a=a.users;var o=c("usePolarisViewer")(),p=c("useCurrentRoute")();p=p==null?void 0:p.url;var q=d("PolarisPostUtils").getOrderedUsersForLikedByList(a,o),r;n===1?r=h._("__JHASH__zesVpNWdLc7__JHASH__",[h._param("count",n)]):e?r=h._("__JHASH__NVsWra1TrS4__JHASH__"):r=h._("__JHASH__yx6RcYfWPfd__JHASH__",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{value:n}))]);a=n!==0&&a.length===0&&!e;if(a)return j.jsx(c("PolarisLikedByListButton.react"),{code:b,inModal:f,onClick:g,children:r});else if(n===0){if(o)return h._("__JHASH__zPcIHFAljfW__JHASH__",[h._param("like this",j.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__W_f8r2RdLZ8__JHASH__"),onClick:i,variant:"secondary_link"}))]);a=j.jsx(c("PolarisFastLink.react"),{href:d("PolarisLinkBuilder").buildLoginLink(p,{source:"post_likers"}),children:h._("__JHASH__rkOqXU3D6LE__JHASH__")});return h._("__JHASH__VVvwm-KPzHp__JHASH__",[h._param("Log in",a)])}else if(n===1&&e){if(m!=null&&m.length===1){o=m[0];i=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:o,children:j.jsx(c("IGDSText.react"),{weight:"semibold",children:o})});return h._("__JHASH__q4wDyrHVOdd__JHASH__",[h._param("username",i)])}else if(q.length===1)return h._("__JHASH__q4wDyrHVOdd__JHASH__",[h._param("username",j.jsx(k,{user:q[0]}))])}else if((q.length>=1||e&&m!=null&&m.length>=1)&&(n>=2||n===-1)){if(e)if(q.length===2&&n===2)p=j.jsx(k,{user:q[0]}),a=j.jsx(k,{user:q[1]});else{o=h._("__JHASH__qkGZoir7PES__JHASH__");a=j.jsx(c("PolarisLikedByListButton.react"),{code:b,inModal:f,onClick:g,children:o});if(m!=null&&m.length>=1){i=m[0];p=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:i,children:j.jsx(c("IGDSText.react"),{weight:"semibold",children:i})})}else p=j.jsx(k,{user:q[0]})}else o=n>2?h._("__JHASH__TqguRNzb8Vy__JHASH__",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{value:n-1}))]):h._("__JHASH__FHgoDdBvGlx__JHASH__"),a=j.jsx(c("PolarisLikedByListButton.react"),{code:b,inModal:f,onClick:g,children:o}),p=j.jsx(k,{user:q[0]});return h._("__JHASH__ULbzii5uqUI__JHASH__",[h._param("username",p),h._param("other users",a)])}return e?null:j.jsx(c("IGDSButton.react"),{display:"block",label:r,onClick:l,variant:"secondary_link"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPolarisMobileAllCommentsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p/{shortcode}/comments/",Object.freeze({enable_persistent_cta:!1}),void 0);b=a;g["default"]=b}),98);
__d("usePolarisPostShowSavedToastHandler",["fbt","PolarisLinkBuilder","PolarisPostToastProvider.react","PolarisSavedPostsTypes","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback;function a(){var a=d("PolarisPostToastProvider.react").usePostToastContext(),b=c("usePolarisViewer")();return j(function(){var c;d("PolarisPostToastProvider.react").showPostToast(babelHelpers["extends"]({},a,{ActionText:h._("__JHASH__vD_V0nwq90r__JHASH__"),BodyText:h._("__JHASH__Ohp7zsmQCxJ__JHASH__"),actionHref:d("PolarisLinkBuilder").buildUserSavedCollectionLink((c=b==null?void 0:b.username)!=null?c:"",d("PolarisSavedPostsTypes").ALL_POSTS_SAVED_COLLECTION_PATH,d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION)}))},[a,b==null?void 0:b.username])}g["default"]=a}),98);
__d("PolarisPostBoostButton.react",["CometRelay","IGDSBox.react","IGDSButton.react","JSResourceForInteraction","PolarisBoostOkDialog.react","PolarisBoostUtils","PolarisIGTheme.react","PolarisPromotedPostsLogger","isStringNullOrWhitespaceOnly","polarisPostSelectors","react","useIGDSLazyDialog","usePolarisSelector","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useState,m=c("JSResourceForInteraction")("IGDSPro2ProDialog.react").__setRef("PolarisPostBoostButton.react"),n={grayedOutButton:{opacity:"xbyyjgo",$$css:!0}};function a(a){var b,e=a.analyticsContext,f=a.boostedStatus,g=a.boostUnavailableIdentifier,h=a.boostUnavailableReason,o=a.fullWidth;o=o===void 0?!1:o;var p=a.isLink;p=p===void 0?!1:p;var q=a.isOrganicMediaArchived,r=a.mediaId,s=a.productType,t=a.viewerId;a=l(!1);var u=a[0],v=a[1],w=d("PolarisBoostUtils").useGetEligibilityTypeForBoostAdEntries({useCaseIsEligibleForBoostAd:f!=null&&t!=null});a=c("useIGDSLazyDialog")(m);var x=a[0],y=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostOrNullById(a,r)});a=d("PolarisBoostUtils").getIsBoostButtonDisabledFromBoostedStatus(f);var z=!c("isStringNullOrWhitespaceOnly")(h),A=(b=d("PolarisPromotedPostsLogger").getPolarisBoostEntryPointType(e))!=null?b:"",B=k(function(){return new(d("PolarisPromotedPostsLogger").PolarisPromotedPostsLogger)({entry_point:A,m_pk:r,promote_flow_type:d("PolarisBoostUtils").getPromoteFlowType(A,f),waterfall_id:c("uuidv4")()})},[f,A,r]),C=d("CometRelay").useRelayEnvironment();b=j(function(){if(z){var a;v(!0);B.logEnterError((a=g)!=null?a:"",(a=h)!=null?a:"","no_permission")}else if(f===d("PolarisBoostUtils").BoostedStatusEnum.NOT_APPROVED||f===d("PolarisBoostUtils").BoostedStatusEnum.SCHEDULED||f===d("PolarisBoostUtils").BoostedStatusEnum.PAUSED)d("PolarisBoostUtils").handleAdToolsButtonClickWithLogging(t,w,c("uuidv4")(),e);else{var b=c("uuidv4")();d("PolarisBoostUtils").handleBoostButtonClickWithLogging(t,r,y==null?void 0:y.code,w,"media_post_button",s,b,e,function(a){return x({boostUri:a,entryPoint:(a=d("PolarisPromotedPostsLogger").getPolarisBoostEntryPointType(e))!=null?a:void 0,flowID:b})},null,f,"POST",C)}},[e,w,g,h,f,C,z,B,r,x,y==null?void 0:y.code,s,t]);var D=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark;return i.jsxs(c("IGDSBox.react"),{alignItems:"end",direction:"column",width:o?"100%":void 0,children:[i.jsx(c("IGDSButton.react"),{"data-testid":void 0,fullWidth:o,isDisabled:a,label:d("PolarisBoostUtils").getBoostButtonCTAFromBoostedStatus(f,q,s),onClick:b,variant:d("PolarisBoostUtils").getBoostButtonVariantFromBoostedStatus(f,p,D),xstyle:z?n.grayedOutButton:void 0}),u&&h!=null?i.jsx(c("PolarisBoostOkDialog.react"),{body:h,onPress:function(){v(!1)},title:d("PolarisBoostUtils").BOOST_UNAVAILABLE_TEXT}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostViewInsights.react",["fbt","CometPlaceholder.react","CometRouteParams","IGDSButton.react","JSResourceForInteraction","QuickPerformanceLogger","lazyLoadComponent","qpl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useMemo,n=b.useState,o=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostViewInsights.react"));function p(a){switch(a){case"com.instagram.insights.media_refresh.videos.ad_bottom_sheet.action":(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39130588,"1610"),0);break;case"com.instagram.insights.media_refresh.videos.bottom_sheet.action":(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39130588,"1610"),0);break;case"com.instagram.insights.media_refresh.clips.ad_bottom_sheet.action":(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39137013,"1611"),0);break;case"com.instagram.insights.media_refresh.clips.bottom_sheet.action":(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39137013,"1611"),0);break;default:(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(39124994,"1612"),0)}}function a(a){var b=a.bloksAppId,e=a.mediaId;a=d("CometRouteParams").useRouteParams();var f=a.show_insights;a=n(Boolean(f));var g=a[0],i=a[1];l(function(){i(Boolean(f))},[f]);a=m(function(){return{media_id:e}},[e]);var j=function(){return i(!1)};return k.jsxs("section",{children:[k.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__ibs5xsuNLiq__JHASH__"),onClick:function(){i(!0),p(b)},variant:"primary_link"}),g?k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(o,{appId:b,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:j},loadingFallback:k.jsx("div",{}),params:a})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostViews.react",["cx","fbt","IGDSText.react","PolarisBigNumber.react","PolarisLogger","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function m(a){return a===1?i._("__JHASH__-4rMdzmO7iR__JHASH__",[i._param("count",a)]):i._("__JHASH__bzQqcYCqjPQ__JHASH__",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:a}))])}m.displayName=m.name+" [from "+f.id+"]";function n(a){return a===1?i._("__JHASH__gVA7T1ZCZwN__JHASH__",[i._param("count",a)]):i._("__JHASH__7IxnQp4Oj43__JHASH__",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:a}))])}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.likeCount;a=a.onClose;return k.jsxs("div",{children:[k.jsx("div",{className:"_aaur",onClick:a,role:"button",tabIndex:"0"}),k.jsx("div",{className:"_aaus"}),k.jsx("div",{className:"_aaut"}),k.jsx("div",{className:"_aauu",children:n(b)})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.analyticsContext,e=a.likeCount;a=a.viewCount;var f=l(!1),g=f[0],h=f[1];f=function(){g||d("PolarisLogger").logAction("viewCountClick",{source:b}),h(!g)};return k.jsxs("div",{className:"_aauv",children:[k.jsx("span",{className:"_aauw",onClick:f,role:"button",tabIndex:"0",children:k.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:m(a)})}),g&&k.jsx(o,{likeCount:e,onClose:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostTimestamp.react",["cx","IGDSText.react","PolarisFastLink.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisTimestamp.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.code,e=a.lettercase;a=a.postedAt;return j.jsx(c("PolarisIGCoreText"),{dangerouslySetClassName:{__className:c("joinClasses")((e!=="capitalize"?"_aaqb":"")+(e==="capitalize"?" _aaqc":""))},display:"block",zeroMargin:!0,children:j.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:d("PolarisLinkBuilder").buildMediaLink(b),traceParams:{navigation_source:"polaris_timestamp"},children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:e==="capitalize"?"footnote":"miniscule",children:j.jsx(c("PolarisTimestamp.react"),{className:"_aaqe",isLong:!0,value:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostHeader.react",["cx","fbt","IGDSBox.react","IGDSMiddleDot.react","IGDSText.react","IGDSVerifiedBadge.react","PolarisAppAttributionText.react","PolarisAudioAttributionText.react","PolarisAvatarWithStoriesContainer.react","PolarisClickEventLoggerProvider.react","PolarisClipsHelpers","PolarisEligibleForCommissionUnit.react","PolarisFeedPageConstants","PolarisFollowButtonContainer.react","PolarisGroupProfileAvatar.react","PolarisGroupProfileUtils","PolarisHashtagLink.react","PolarisIGCoreButton","PolarisIGCoreText","PolarisLinkBuilder","PolarisLocationLink.react","PolarisPanavisionQEHelpers","PolarisProfileClickEventLoggerProvider.react","PolarisQueryParams","PolarisSponsoredLabel.react","PolarisSponsoredPostContext.react","PolarisSponsorsUnit.react","PolarisTagAvatar.react","PolarisTimestamp.react","PolarisTrackingNodeProvider.react","PolarisTransparencyLabel.react","PolarisTransparencyUtils","PolarisUA","PolarisUserAvatar.react","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserLink.react","URI","cr:5075","err","gkx","nullthrows","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisTrackingDataProfileURLParams"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;var m=e.useContext,n=e.useState,o=c("gkx")("5969"),p=i._("__JHASH__OMxqSO8Gxcr__JHASH__");function q(a,b){a=a;var c=a==null?void 0:a.song_name,d=a==null?void 0:a.artist_name;b=(a==null?void 0:a.uses_original_audio)&&b===a.artist_name;return{audioArtist:d,audioName:c,isMediaOwnerOriginalSound:b}}function r(a){a=a.owner;var b=d("usePolarisTrackingDataProfileURLParams").usePolarisTrackingDataProfileURLParams(m(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext).canUserSeePersistentCta);b=new(j||(j=c("URI")))(d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.username))).setQueryData(b).toString();return l.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",href:b,children:c("nullthrows")(a.username)})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.clipsAudioAttributionInfo,d=a.onDisabledClipsAudioAttributionClick;a=a.owner;b=b;var e=q(b,a.username),f=e.audioArtist,g=e.audioName;e=e.isMediaOwnerOriginalSound;var h=b==null?void 0:b.audio_id;a=a.isPrivate===!0;var i=(b==null?void 0:b.should_mute_audio)===!0;b=b==null?void 0:b.should_mute_audio_reason;return l.jsx(c("PolarisAudioAttributionText.react"),{audioArtist:f,audioID:h,audioName:g,isMediaOwnerOriginalSound:e,isMutedAudio:i,isOwnerPrivate:a,muteAudioReason:b,onDisabledClipsAudioAttributionClick:d})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.clipsAttributionInfo;a=a.mediaID;b=b;var d=b==null?void 0:b.attribution_app_name;b=b==null?void 0:b.attribution_app_id;return d!=null&&b!=null?l.jsx(c("PolarisAppAttributionText.react"),{appId:b.toString(),appName:d,mediaId:a}):null}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.audioAttributionText,e=a.clipsAttributionInfo,f=a.clipsAudioAttributionInfo,g=a.followHashtagInfo,h=a.isOwnerGroupProfile,i=a.isSponsored,j=a.location,k=a.mediaId,m=a.owner,n=a.postAuthor;a.postId;var p=a.showEligibleForCommissions,r=a.showSponsors,s=a.sponsoredLabel;a=a.sponsors;var u=c("usePolarisIsOnAdsActivityPage")(),v=d("PolarisTransparencyUtils").shouldShowTransparencyLabel(m)&&l.jsx(c("PolarisTransparencyLabel.react"),{mediaId:k,screen:"feed",user:m});r=r&&l.jsx(c("PolarisSponsorsUnit.react"),{loggingData:{mediaId:k},sponsors:a||[]});a=g&&l.jsx(c("PolarisUserLink.react"),{className:"_adkn",username:c("nullthrows")(m.username)});g=p&&l.jsx(c("PolarisEligibleForCommissionUnit.react"),{className:"_aaqi"});p=j&&l.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",display:"truncated",zeroMargin:!0,children:l.jsx(c("PolarisLocationLink.react"),{className:"_aaqk",location:c("nullthrows")(j)})});j=h===!0&&(n==null?void 0:n.username)!=null&&l.jsx(c("PolarisUserLink.react"),{className:"_adkn",username:c("nullthrows")(n.username),children:d("PolarisGroupProfileUtils").getGroupMediaPostAuthorAttributionText(c("nullthrows")(n.username))});h=q(f,m.username);n=o&&l.jsx(t,{clipsAttributionInfo:e,mediaID:k});if(i===!0&&s==null&&!u)throw c("err")("Unexpected: a feed ad is being rendered without a sponsored label");return l.jsxs("div",{className:"_aaql",children:[l.jsx(c("IGDSText.react").Body2,{zeroMargin:!0,children:l.jsxs("div",{className:"x78zum5 xdt5ytf",children:[j,v,r,s!=null&&l.jsx(c("PolarisSponsoredLabel.react"),{label:s,placementHasBasicAds:!0}),g,a]})}),l.jsxs("div",{className:"x78zum5",children:[d("PolarisClipsHelpers").hasAudioAttributionText(h)?b:l.jsx("div",{className:"_aaqm",children:p}),e!=null&&l.jsx(c("IGDSMiddleDot.react"),{color:"primaryText"}),n]})]})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.analyticsContext,e=a.coauthorProducers,f=a.followHashtagInfo,g=a.headerAvatarSize,h=a.isOwnerGroupProfile,i=a.isTagAvatarLink,j=a.onTagAvatarShowRing,k=a.owner;a=a.postAuthor;function m(){return b===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT?"reel_feed_timeline_item_header":"reel_feed_timeline"}if(f){var n=f.name;f=f.profile_pic_url;return l.jsx(c("PolarisAvatarWithStoriesContainer.react"),{animateOnLoad:!0,entrypoint:"reel_feed_timeline",onShowRing:j,size:30,tagName:n,children:l.jsxs(l.Fragment,{children:[f!=null&&f.length>0&&l.jsx(c("PolarisTagAvatar.react"),{isLink:i,profilePictureUrl:f,tagName:n}),l.jsx("div",{className:"_aaqo",children:"#"})]})})}if(e==null?void 0:e.length){j=e[0];return l.jsxs(c("IGDSBox.react"),{height:32,position:"relative",width:32,children:[l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:j.profilePictureUrl,size:24,username:j.username}),l.jsx("div",{className:"_aaqp",children:l.jsx(c("IGDSBox.react"),{alignItems:"end",direction:"row",justifyContent:"end",position:"relative",children:l.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:k.profilePictureUrl,size:24,username:k.username})})})]})}return h===!0&&a?l.jsx(c("PolarisGroupProfileAvatar.react"),{groupProfile:k,postAuthor:a}):l.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:!k.isUnpublished,triggerAnalyticsContext:"post_owner_avatar",userId:k.id,children:l.jsx(c("PolarisUserAvatarWithStories.react"),{className:"_aaqq",isLink:!k.isUnpublished,profilePictureUrl:k.profilePictureUrl,showRingWhenSeen:!1,size:g,storyEntrypoint:m(),userId:k.id,username:k.username})})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.coauthorProducers,d=a.followHashtagInfo,e=a.owner;a=a.showVerifiedBadge;if(d)return l.jsx(c("IGDSText.react").Body,{zeroMargin:!0,children:l.jsx(c("PolarisHashtagLink.react"),{className:"_aaqr",tag:d.name})});if(e.isUnpublished===!0)return l.jsx(c("IGDSText.react").Body,{color:"secondaryText",zeroMargin:!0,children:l.jsx("span",{className:"_aaqs",children:e.fullName!=null&&e.fullName!==""?e.fullName:e.username})});if(b==null?void 0:b.length){d=b[0];return l.jsx("div",{className:"_aaqt _aaqu",children:l.jsxs(c("IGDSText.react").BodyEmphasized,{textAlign:"start",zeroMargin:!0,children:[l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!e.isUnpublished,triggerAnalyticsContext:"post_owner",userId:e.id,children:l.jsx(r,{owner:e})}),l.jsxs(c("IGDSText.react").Body,{children:[l.jsx("span",{className:"_aaqv"}),p,l.jsx("span",{className:"_aaqv"})]}),l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!d.isUnpublished,triggerAnalyticsContext:"post_owner",userId:d.id,children:l.jsx(r,{owner:d})})]})})}return l.jsx("div",{className:"_aaqt",children:l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",position:"relative",children:[l.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!e.isUnpublished,triggerAnalyticsContext:"post_owner",userId:e.id,children:l.jsx(r,{owner:e})})}),a===!0&&e.isVerified===!0&&l.jsx(c("IGDSBox.react"),{marginStart:1,position:"relative",children:l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})})]})})}w.displayName=w.name+" [from "+f.id+"]";function a(a){var e=a.analyticsContext,f=a.clipsAttributionInfo,g=a.clipsAudioAttributionInfo,h=a.coauthorProducers,i=a.followHashtagInfo,j=a.headerAvatarSize,k=a.inModal,o=a.isAffiliate,p=a.isOwnerGroupProfile,q=a.isPaidPartnership,r=a.isSharedToCloseFriends,t=a.isSponsored;a.isVideo;var x=a.location,y=a.mediaId,z=a.onDisabledClipsAudioAttributionClick,A=a.owner,B=a.postAuthor,C=a.postedAt,D=a.reducedAvatarMargin,E=a.shouldShowFollowButton,F=a.showVerifiedBadge,G=a.sidebarVariantOptionsButton,H=a.sponsoredLabel,I=a.sponsors;a=a.viewer;var J=n(!0),K=J[0],L=J[1];J=!i&&q;q=!i&&!q&&o;function M(){L(!1)}o=l.jsx(s,{clipsAudioAttributionInfo:g,onDisabledClipsAudioAttributionClick:z,owner:A});z=c("usePolarisIsOnFeedPage")();var N=c("usePolarisIsOnAdsActivityPage")();z=(z||N)&&k!==!0&&d("PolarisUA").isDesktop();N=z&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();k=m(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);k=k.onProfileClick;r=r&&b("cr:5075")!=null;return l.jsx(c("PolarisClickEventLoggerProvider.react"),{children:l.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:k,children:l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:230,children:l.jsxs("header",{className:"_aaqw"+(z?" _aaqx":"")+(N?" _aggb":""),"data-testid":void 0,children:[l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:69,children:l.jsx("div",{children:l.jsx(v,{analyticsContext:e,coauthorProducers:h,followHashtagInfo:i,headerAvatarSize:j,isOwnerGroupProfile:p,isTagAvatarLink:K,onTagAvatarShowRing:M,owner:A,postAuthor:B})})}),l.jsxs("div",{className:"_aaqy"+(G&&!z?" _aaqz":"")+(G&&z?" _aaq-":"")+(D===!0?" _aaq_":""),children:[l.jsxs("div",{className:"_aar0"+(E?" _ad95":"")+(G?" _aar1":""),children:[l.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:10,children:l.jsx("div",{className:"x78zum5",children:l.jsx(w,{coauthorProducers:h,followHashtagInfo:i,owner:A,showVerifiedBadge:F})})}),!t&&C!=null&&N&&l.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",position:"relative",children:l.jsx("div",{className:"_ajqd",children:l.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",zeroMargin:!0,children:[l.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText"}),l.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:C})]})})}),E&&!r&&l.jsxs("div",{className:"_aar2",children:[l.jsx("div",{className:"_aar3",children:l.jsx(c("IGDSMiddleDot.react"),{color:N?"secondaryText":void 0})}),l.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:e,borderless:!0,"data-testid":void 0,isInline:!0,isUserGroupProfile:p,shouldPromptToFollow:a!=null&&d("PolarisQueryParams").isFromLoginWithFollowParam(),userId:A.id,username:(k=A.username)!=null?k:""})]})]}),l.jsx(u,{audioAttributionText:o,clipsAttributionInfo:f,clipsAudioAttributionInfo:g,followHashtagInfo:i,isOwnerGroupProfile:p,isSponsored:t,location:x,mediaId:y,owner:A,postAuthor:B,postId:y,showEligibleForCommissions:q,showSponsors:J,sponsoredLabel:H,sponsors:I})]}),r&&b("cr:5075")&&l.jsx(b("cr:5075"),{onClick:function(){}})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostMediaOverlayInfoFooterCTA.react",["fbt","CometPlaceholder.react","IGDSInfoPanoOutlineIcon","JSResourceForInteraction","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayInfoTypes","PolarisMisinformationConstants","PolarisPostFooterCTA.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostMediaOverlayInfoFooterCTA.react"));function p(a,b){var c=a.analyticsContext,e=a.bannerInfo,f=a.entityID,g=e.bannerButton,h=e.overlayLayout,i=e.overlayType;d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:g,containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(c),entityID:f,event:b,overlayLayout:h,overlayType:i})})}function q(a){var b=a.entityID,c=a.onLoggedImpression;p(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.IMPRESSION);c!=null&&c(b)}function r(a){p(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION)}function s(a,b){r(a),b()}function t(a){a=a.bannerInfo;var b=a.bannerButton,e=a.iconAltText;a=a.iconGlyph;b=b.text_color;e=e!=null?h._("__JHASH__tZoHuCBQNgF__JHASH__",[h._param("text",e)]):d("PolarisMisinformationConstants").POST_FOOTER_CTA_ALT_TEXT;if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.INFO)return j.jsx(c("IGDSInfoPanoOutlineIcon"),{alt:e,color:b!=null?b:"ig-primary-icon",size:16});else if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.WARNING)return j.jsx(c("PolarisIGCoreIcon"),{alt:e,icon:d("PolarisAssetManagerGlyphMapping").ICONS.WARNING_OUTLINE_16_RED5});return null}function a(a,b){var e=n(!1),f=e[0],g=e[1];e=n(0);var h=e[0],i=e[1];e=a.bannerInfo;var m=a["data-testid"],p=a.disableImpressionLogging,r=a.entityID;m=a.forceBottomBorder;var v=a.fullWidth,w=a.isForSidecar,x=e.animationInfo,y=e.bannerButton;e=e.text;var z=x.canAnimateSlideIn,A=x.isHidden;x=y.action;var B=y.action_url,C=y.has_chevron,D=y.is_text_centered,E=y.secondary_text;y=y.text_color;var F=x===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_EXTERNAL_URL?B:void 0,G=u(a),H=G!==r;k(function(){(H||f===!1)&&p!==!0&&A!==!0?(q(a),g(!0)):H&&g(!1)},[p,A,H,f,a,g]);G=x!==d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.NO_OP?function(){return s(a,function(){return i(h+1)})}:void 0;var I=function(){i(0)},J=l(function(){return{media_id:r,module:a.analyticsContext||""}},[r,a.analyticsContext]);return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisPostFooterCTA.react"),{"data-testid":void 0,disableAnimation:!z,externalURL:F,forceBottomBorder:m,fullWidth:v,icon:t(a),isActive:!A,isForSidecar:w,onClick:G,ref:b,secondaryText:E,showChevron:(z=C)!=null?z:!1,text:e,textAlign:D===!0?"center":"left",textThemedColor:y}),x===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&h>0&&B!=null&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(o,{appId:B,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:I},params:J},h)})]})}a.displayName=a.name+" [from "+f.id+"]";function u(a){var b=a.entityID,c=m();k(function(){c.current=b});return c.current}e=j.forwardRef(a);g["default"]=e}),98);
__d("usePolarisShowFooterCTA",["PolarisPostUtils","polarisGetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b,c,e){return i(function(){if(e===!0)return null;if(a==null)return null;var f=a.isSidecar,g=null,h=null;if(f===!0){var i=d("PolarisPostUtils").getCurrentSidecarItemFromPost(a,b);i!=null&&(h=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromSidecarChild(i,c[i.id]===!0),h!=null&&(g=i))}g==null&&(h=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(a,c[a.id]===!0),h!=null&&(g=a));return g==null||h==null?null:{bottomBannerInfo:h,isParentPostSidecar:f,itemWithBanner:g}},[b,c,e,a])}g["default"]=a}),98);
__d("PolarisPostOverlayInfoFooterCTA.react",["PolarisPostMediaOverlayInfoFooterCTA.react","react","usePolarisShowFooterCTA"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=a.analyticsContext,d=a.bottomBannerInfo,e=a.dynamicFooterRef,f=a.idsWithDisabledMediaOverlayInfoImpressionLogging,g=a.isParentPostSidecar,h=a.itemWithBannerID;a=a.onLogOverlayImpression;var j=d.hasMediaCover;j=j||f[h]===!0;return i.jsx(c("PolarisPostMediaOverlayInfoFooterCTA.react"),{analyticsContext:b,bannerInfo:d,"data-testid":void 0,disableImpressionLogging:j,entityID:h,isForSidecar:g,onLoggedImpression:a,ref:e})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.currentSidecarIndex,d=a.idsWithClearedBlurOverlays,e=a.rootPost;a=babelHelpers.objectWithoutPropertiesLoose(a,["currentSidecarIndex","idsWithClearedBlurOverlays","rootPost"]);e=c("usePolarisShowFooterCTA")(e,b,d);return e!=null?i.jsx(j,babelHelpers["extends"]({bottomBannerInfo:e.bottomBannerInfo,isParentPostSidecar:e.isParentPostSidecar,itemWithBannerID:e.itemWithBanner.id},a)):null}a.displayName=a.name+" [from "+f.id+"]";g.PolarisPostOverlayInfoFooterCTARenderer=j;g.PolarisPostOverlayInfoFooterCTA=a}),98);
__d("PolarisPostSidecarIndexHelpers",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a===void 0&&(a=!1);return a?c("qex")._("300")===!0:c("qex")._("86")===!0};g.shouldHaveIndexableUrls=a}),98);
__d("usePolarisPostSetURLSidecarIndex",["react","useURLSearchParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("useURLSearchParams").useURLSearchParams(),b=a[0];return i(function(a){var c=new URLSearchParams(b);c.set("img_index",String(a));d("useURLSearchParams").areURLSearchParamsEqual(b,c)||window.history.replaceState(babelHelpers["extends"]({},history.state),"","?"+c.toString())},[b])}g["default"]=a}),98);
__d("PolarisMorePostsLikeThisHeader.react",["fbt","IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__b43n4KvPB6j__JHASH__");function a(){return j.jsx(c("IGDSBox.react"),{marginBottom:1,marginStart:4,marginTop:4,children:j.jsx(c("IGDSText.react"),{size:"label",weight:"bold",children:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVideoIndicatorIcon.react",["PolarisConfig","PolarisLoggedOutUserTagIndicatorWithSheet.react","PolarisUpcomingEventIndicatorWithSheetOrModal.react","PolarisUserTagIndicatorWithSheet.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.analyticsContext,e=a.asSidecarChild,f=a.firstSidecarChildSrc,g=a.post;a=a.upcomingEventMediaId;var h=g.id,j=g.src,k=g.upcomingEvent,l=g.usertags;if(k)return i.jsx(c("PolarisUpcomingEventIndicatorWithSheetOrModal.react"),{analyticsContext:b,isVideo:!0,mediaId:c("nullthrows")(a),upcomingEvent:k,upcomingEventThumbnailSrc:c("nullthrows")(e===!0?f:j),usertags:l});return l!=null&&l.length>0&&b!=="reelsTab"?d("PolarisConfig").isLoggedIn()?i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:b,mediaId:h,post:g,usertags:l}):i.jsx(c("PolarisLoggedOutUserTagIndicatorWithSheet.react"),{analyticsContext:b,mediaId:h,post:g,usertags:l}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostPageGatedContentAPIReasonFallback.react",["PolarisHttpGatedContentPage.react","PolarisHttpGatedContentPageWithShell.react","react","useGatedContentInfo","usePolarisGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.error,d=a.fullpage;d=d===void 0?!0:d;a=a.postId;var e=c("usePolarisGetQuery")("/api/v1/web/get_ruling_for_content/",{query:{content_type:"MEDIA",target_id:a}});e=c("useGatedContentInfo")(e);if(e==null)throw b;b=d?c("PolarisHttpGatedContentPageWithShell.react"):c("PolarisHttpGatedContentPage.react");return i.jsx(b,{blocksLoggingData:e.blocks_logging_data,description:e.description,entityId:a,sessionId:e.session_id,title:e.title,userAvatarUrl:"",username:""})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisVideoVolumeControls",["PolarisVideoConstants","PolarisVolumeControlsManager.react","VideoPlayerHooks","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=a.enabled,e=(i||(i=d("VideoPlayerHooks"))).useController(),f=d("PolarisVolumeControlsManager.react").useVolumeControls(),g=i.usePaused(),h=i.useMuted(),k=c("usePrevious")(h),l=i.useLastMuteReason();j(function(){b&&k!=null&&k!==h&&l==="user_initiated"&&f.setAudioState(h?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on)},[b,h,l,k,f]);j(function(){b&&!g&&f.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&e.setMuted(f.audioState==="off","product_initiated")},[b,e,g,f.audioState]);return f.audioState}g["default"]=a}),98);
__d("usePolarisVideoAudioState",["PolarisConfig","PolarisVideoConstants","VideoPlayerHooks","usePolarisVideoVolumeControls"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.noAudio;var b=(h||(h=d("VideoPlayerHooks"))).useMuted(),e=!d("PolarisConfig").isIOS(),f=c("usePolarisVideoVolumeControls")({enabled:e});if(a===!0)return d("PolarisVideoConstants").AUDIO_STATES.none;return!e?b?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:f}g["default"]=a}),98);
__d("usePolarisVideoPressInteraction",["fbt","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||d("react")).useCallback;function a(a){var b=a.playButtonShowing,c=a.shouldUnmuteOnPlay,e=(j||(j=d("VideoPlayerHooks"))).useController(),f=j.useLastMuteReason();a=k(function(){e.pause("user_initiated")},[e]);var g=k(function(){e.play("user_initiated"),c&&f!=="user_initiated"&&e.setMuted(!1,"product_initiated")},[e,f,c]);return b?{ariaLabel:h._("__JHASH__JwOWQUoE3fU__JHASH__"),handler:g,overlayLabel:""}:{ariaLabel:h._("__JHASH__9n2Yt6-FC2y__JHASH__"),handler:a,overlayLabel:""}}g["default"]=a}),98);
__d("usePolarisVideoShowPlayButton",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=d("VideoPlayerHooks"))).usePlaying(),b=h.usePaused(),c=h.useIsTransitioningToNextLoop();return!a&&b&&!c}g["default"]=a}),98);
__d("PolarisPostVideoPlayerScrubber.react",["VideoPlayerHooks","VideoPlayerScrubberBase.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback,l=5,m={timelineBackgroundXStyle:{backgroundColor:"x1o95745",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelineBuffered:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelinePlayed:{backgroundColor:"xz3rzyy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0}},n=function(){return(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)};function a(){var a=n(),b=(i||(i=d("VideoPlayerHooks"))).useBufferEnd(),e=i.useDuration(),f=i.useController(),g=k(function(){f.scrubEnd(null)},[f]),h=k(function(a){f.scrubEnd(a)},[f]),o=k(function(){f.scrubBegin()},[f]),p=k(function(){f.seek(0)},[f]),q=k(function(){var a=f.getPlayheadPosition()-l;a<0?f.seek(0):f.seek(a)},[f]),r=k(function(){var a=f.getPlayheadPosition()+l;a>=e?f.seek(e-.01):f.seek(a)},[f,e]),s=i.useLastPlayReason();return!s?null:j.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:b,currentTime:a,disableKeyCommands:!0,duration:e,isLive:!1,isLiveRewindActive:!1,keyLeftDescription:"",keyRightDescription:"",onScrubCancel:g,onScrubEnd:h,onScrubStart:o,playFromBeginningImpl:p,skipBackwardImpl:q,skipForwardImpl:r,skipToEndImpl:c("emptyFunction"),supportsTouch:!0,timelineBackgroundXStyle:m.timelineBackgroundXStyle,timelineBufferedXStyle:m.timelineBuffered,timelinePlayedXStyle:m.timelinePlayed})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostVideoPlayerTimestamp.react",["IGDSBox.react","IGDSText.react","PolarisTimeConverter","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=function(){return(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)};function a(){var a=k();return j.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",marginEnd:2,marginStart:2,width:32,children:j.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",children:d("PolarisTimeConverter").convertSecondsToHoursMinutesAndSeconds(Math.round(a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisPostVideoToggleAudio",["PolarisVideoConstants","VideoPlayerHooks","react","usePolarisVideoAudioState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a){var b=(i||(i=d("VideoPlayerHooks"))).useController(),e=a.clipsMusicAttributionInfo;a=a.hasAudio;var f=c("usePolarisVideoAudioState")({noAudio:a===!1||(e==null?void 0:e.should_mute_audio)===!0});return{audioState:f,clipsMusicAttributionInfo:e,hasAudio:a,toggleAudio:j(function(){if(f!==d("PolarisVideoConstants").AUDIO_STATES.none){var a=b.getCurrentState();a=a.muted;b.setMuted(!a,"user_initiated")}},[f,b])}}g["default"]=a}),98);
__d("PolarisPostVideoVolumeControls.react",["PolarisVideoConstants","PolarisVideoVolumeControls.react","react","usePolarisPostVideoToggleAudio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.inPlayerControls;a=a.post;a=c("usePolarisPostVideoToggleAudio")(a);var e=a.audioState,f=a.clipsMusicAttributionInfo;a=a.toggleAudio;return i.jsx(c("PolarisVideoVolumeControls.react"),{audioState:e,forceMuteReason:e===d("PolarisVideoConstants").AUDIO_STATES.none?f==null?void 0:f.should_mute_audio_reason:void 0,inPlayerControls:b,onClick:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostVideoPlayerControls.react",["IGDSBox.react","PolarisPostVideoPlayerScrubber.react","PolarisPostVideoPlayerTimestamp.react","PolarisPostVideoVolumeControls.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.post,e=a.shouldUseVolumeControls;a=a.showVideoControls;if(e===!0)return i.jsx(c("PolarisPostVideoVolumeControls.react"),{post:b});if(a===!0){e=i.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:!0,children:i.jsx(c("PolarisPostVideoPlayerScrubber.react"),{})});a=i.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:i.jsx(c("PolarisPostVideoPlayerTimestamp.react"),{})});b=i.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:i.jsx(c("PolarisPostVideoVolumeControls.react"),{inPlayerControls:!0,post:b})});return i.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:!0,children:i.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",padding:4,width:"100%",children:[e,a,b]})})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisPostVideoPlayerRegisterKeyboardShortcuts",["PolarisVideoConstants","getPolarisKeyCommandConfig","gkx","react","useGlobalKeyCommands","usePolarisPostVideoToggleAudio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){a=c("usePolarisPostVideoToggleAudio")(a);var b=a.audioState,e=a.toggleAudio;a=i(function(){var a=[];c("gkx")("8378")&&(b!==d("PolarisVideoConstants").AUDIO_STATES.none&&a.push(d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("keyboardShortcutsModal","toggleSound",e)));return a},[b,e]);c("useGlobalKeyCommands")(a,!1,!1)}g["default"]=a}),98);
__d("usePolarisVideoPlayerControllerLoopSubscription",["react","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=c("useVideoPlayerControllerSubscription")(function(a){return a.getCurrentState().loopCurrent});i(function(){a&&b>0&&a()},[a,b])}g["default"]=a}),98);
__d("PolarisPostVideoPlayerSurface.react",["cx","CometImage.react","PolarisGenericStrings","PolarisPostVideoPlayerControls.react","PolarisVideoHelpers","PolarisVideoIndicatorIcon.react","VideoPlayerInteractionOverlay.react","VideoPlayerSurface.react","polarisVideoUtils","react","usePolarisPostVideoPlayerRegisterKeyboardShortcuts","usePolarisShouldShowVideoThumbnail","usePolarisVideoPlayerControllerLoopSubscription","usePolarisVideoPressInteraction","usePolarisVideoShowPlayButton","usePolarisVideoXControllerLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={playButtonWrapper:{marginStart:"xjq0wde",marginTop:"xa2bojp",position:"x10l6tqk",start:"xtzzx4i",top:"xwa60dl",$$css:!0},thumbnail:{height:"x5yr21d",$$css:!0},thumbnailConstraints:{maxHeight:"xmz0i5r",maxWidth:"x193iq5w",$$css:!0},thumbnailWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function l(a){var b=a.autoplay,e=a.post;a=a.showVideoControls;b=b===!0&&!a;var f=c("usePolarisVideoShowPlayButton")(),g=c("usePolarisVideoPressInteraction")({playButtonShowing:f,shouldUnmuteOnPlay:!b});return j.jsxs(j.Fragment,{children:[j.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:g,children:f?j.jsx("div",{className:"xjq0wde xa2bojp x10l6tqk xtzzx4i xwa60dl",children:j.jsx("div",{"aria-label":d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,className:"_9zwu"})}):null}),j.jsx(c("PolarisPostVideoPlayerControls.react"),{post:e,shouldUseVolumeControls:b,showVideoControls:a})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.adInfo,e=a.analyticsContext,f=a.asSidecarChild,g=a.autoplay,h=a.firstSidecarChildSrc,i=a.onLoop,m=a.post,n=a.relationship;a=a.upcomingEventMediaId;c("usePolarisVideoXControllerLogger")({adInfo:b,analyticsContext:e,carouselParentId:m.carouselParentId,dashInfo:d("PolarisVideoHelpers").getDashInfoFromPost(m),followingStatus:d("polarisVideoUtils").getFollowingStatus(n),id:m.id,ownerId:(b=m.owner)==null?void 0:b.id,postedAt:m.postedAt,trackingToken:m.trackingToken});c("usePolarisVideoPlayerControllerLoopSubscription")(i);c("usePolarisPostVideoPlayerRegisterKeyboardShortcuts")(m);n=c("usePolarisShouldShowVideoThumbnail")();b=d("polarisVideoUtils").shouldCenterCropPosterHeight(e,m);i=m.src;return j.jsxs(c("VideoPlayerSurface.react"),{children:[n&&i!=null&&j.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np x5yr21d xl56j7k xh8yej3",children:j.jsx(c("CometImage.react"),{src:i,xstyle:[k.thumbnailConstraints,b&&k.thumbnail]})}),j.jsx(l,{autoplay:g,post:m,showVideoControls:!1}),j.jsx(c("PolarisVideoIndicatorIcon.react"),{analyticsContext:e,asSidecarChild:f,firstSidecarChildSrc:h,post:m,upcomingEventMediaId:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostVideoPlayerWrapper.react",["PolarisVideoHelpers","polarisVideoUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.analyticsContext,c=a.children;a=a.post;b=d("polarisVideoUtils").shouldCenterCropPosterHeight(b,a);a=d("PolarisVideoHelpers").getVideoPaddingPercentFromDimensions(a.dimensions,b);return i.jsx("div",{className:"xg10s4p x1n2onr6",style:{paddingBottom:a+"%"},children:i.jsx("div",{className:"xyzq4qe x5yr21d x10l6tqk xh8yej3",children:c})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostVideoPlayer.react",["PolarisPanavisionQEHelpers","PolarisPostVideoPlayerSurface.react","PolarisPostVideoPlayerWrapper.react","PolarisVideo.react","PolarisVideoHelpers","react","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=a.analyticsContext,f=a.post;a=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","post"]);b=(b=d("PolarisVideoHelpers").getSDVideoSrcFromPost(f))!=null?b:f.videoUrl;var g=d("PolarisVideoHelpers").getHDVideoSrcFromPost(f),h=c("usePolarisIsOnFeedPage")(),j=d("PolarisPanavisionQEHelpers").hasNoLetterboxing();return i.jsx(c("PolarisPostVideoPlayerWrapper.react"),{analyticsContext:e,post:f,children:i.jsx(c("PolarisVideo.react"),{autoplay:!0,dashInfo:d("PolarisVideoHelpers").getDashInfoFromPost(f),hdSrc:g,loopCount:-1,mediaId:f.id,originalHeight:(g=f.dimensions)==null?void 0:g.height,originalWidth:(g=f.dimensions)==null?void 0:g.width,sdSrc:b,children:i.jsxs(i.Fragment,{children:[h&&j&&i.jsx("div",{className:"x1b1cigj x1ey2m1c x78zum5 xds687c xdt5ytf x5yr21d x1qughib x10l6tqk x17qophe x13vifvy xh8yej3"}),i.jsx(c("PolarisPostVideoPlayerSurface.react"),babelHelpers["extends"]({analyticsContext:e,post:f},a,{autoplay:!0}))]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisPostActionLoadPostQueryInlineFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"child_comment_count"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_comment_count"},c={defaultValue:10,kind:"LocalArgument",name:"fetch_like_count"},d={defaultValue:2,kind:"LocalArgument",name:"fetch_preview_comment_count"},e={defaultValue:3,kind:"LocalArgument",name:"fetch_related_profile_media_count"},f={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},g={defaultValue:!1,kind:"LocalArgument",name:"has_threaded_comments"},h={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},i={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},j={defaultValue:null,kind:"LocalArgument",name:"parent_comment_count"},k={defaultValue:null,kind:"LocalArgument",name:"shortcode"},aa=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},p={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},y={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[q,r,s,t,u,v,w,x],storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},C={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[A,B,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},D={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},E={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},H={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},A,G],storageKey:null},I=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},H,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];I={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:I,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:I,storageKey:null},r,H,x,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};H={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};x={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};G={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[G,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};var J={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},L={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[m,t,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},ba=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],M={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},ca={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[M,N,m,O,B,P],storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},fa={alias:null,args:ba,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ca,da,ea],storageKey:null}],storageKey:null}],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},S=[R],T={alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:S,storageKey:null};N={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[m,P,O,B,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},N,M,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},Q,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:S,storageKey:null},T],storageKey:null};var ga=[{kind:"Literal",name:"first",value:1}],U={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null},V=[m,O,B,P],oa={alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_like_count"}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[R,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:V,storageKey:null}],storageKey:null}],storageKey:null},W=[m,P],pa={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:W,storageKey:null},qa={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};A={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},A,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var sa={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},va={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},wa={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},xa={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},ya={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:V,storageKey:null},za={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:V,storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Z=[Y],$={kind:"InlineFragment",selections:Z,type:"XDTGraphImage",abstractKey:null};M={alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles_connection",kind:"LinkedField",name:"edge_related_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:[m,M,Q,O,B,P,T,{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_related_profile_media_count"}],concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:[R,{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,m,n,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:S,storageKey:null},o,{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:W,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[q,r,s,t,u,v,w],storageKey:null},E,I,J,$,{kind:"InlineFragment",selections:Z,type:"XDTGraphSidecar",abstractKey:null},{kind:"InlineFragment",selections:Z,type:"XDTGraphVideo",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};Q={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null};O={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null};B={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null};P={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};W={kind:"InlineFragment",selections:[Y,Q,O,B,P,T,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};q={kind:"InlineFragment",selections:[Y,Q,O,B,P,T],type:"XDTGraphVideo",abstractKey:null};r={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null};s={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null};u={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:V,storageKey:null};v={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:S,storageKey:null};w={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null};Z=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,F,U,s,u,X,v,w],storageKey:null}];t={condition:"has_threaded_comments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_to_comment_connection",kind:"LinkedField",name:"edge_media_to_comment",plural:!1,selections:[R,r,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_comment",kind:"LinkedField",name:"edges",plural:!0,selections:Z,storageKey:null}],storageKey:null}]};Q={alias:null,args:[{kind:"Variable",name:"first",variableName:"child_comment_count"}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[R,r,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:Z,storageKey:null}],storageKey:null};O={condition:"has_threaded_comments",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"parent_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[R,r,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,F,U,s,u,X,v,w,Q],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[m,F,U,s,u,X,v,w,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:Z,storageKey:null}],storageKey:null},Q],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_preview_comment_count"}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[R,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:Z,storageKey:null}],storageKey:null}]};B={alias:null,args:ba,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ca,da,ea,m],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h,i,j,k],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:aa,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragment",selections:[l,m,n,o,p,y,z,C,D,E,I,H,x,G,J,K,L,fa,N,{alias:null,args:ga,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[U,F],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ha,ia,ja,ka,la,ma,na,oa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[pa],storageKey:null}],storageKey:null}],storageKey:null},qa,ra,A,sa,X,ta,ua,va,wa,xa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,o],storageKey:null}],storageKey:null}],storageKey:null},ya,za,M,W,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,m,n,p,y,z,C,D,E,I,H,x,G,q,$,J,K,L,fa],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null},t,O],args:null,argumentDefinitions:[{kind:"RootArgument",name:"child_comment_count"},{kind:"RootArgument",name:"fetch_comment_count"},{kind:"RootArgument",name:"fetch_like_count"},{kind:"RootArgument",name:"fetch_preview_comment_count"},{kind:"RootArgument",name:"fetch_related_profile_media_count"},{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"has_threaded_comments"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"},{kind:"RootArgument",name:"parent_comment_count"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[k,b,e,j,a,c,f,d,g,h,i],kind:"Operation",name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:aa,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},m,n,o,p,y,z,C,D,E,I,H,x,G,J,K,L,B,N,{alias:null,args:ga,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[U,F,m],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ha,ia,ja,ka,la,ma,na,oa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[pa,m],storageKey:null}],storageKey:null}],storageKey:null},qa,ra,A,sa,X,ta,ua,va,wa,xa,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,n,o,m],storageKey:null}],storageKey:null}],storageKey:null},ya,za,M,W,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,m,n,p,y,z,C,D,E,I,H,x,G,q,$,J,K,L,B],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null},t,O],storageKey:null}]},params:{id:"10015901848480474",metadata:{},name:"PolarisPostActionLoadPostQueryQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("IGDSCircleAddPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisAPIEditCollection",["PolarisInstapi","emptyObject","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.collectionName,f=a.postIdsToAdd;a=a.postIdsToRemove;a=babelHelpers["extends"]({added_media_ids:JSON.stringify((f=f)!=null?f:[]),removed_media_ids:JSON.stringify((f=a)!=null?f:[])},c("isStringNullOrEmpty")(e)?c("emptyObject"):{name:e});return d("PolarisInstapi").apiPost("/api/v1/collections/{collection_id}/edit/",{body:a,path:{collection_id:b}}).then(function(a){return a.data})}g.editCollection=a}),98);
__d("PolarisPostActionAddPostToCollection",["InstagramODS","PolarisAPIEditCollection","nullthrows","polarisUserSelectors"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.failureHandler,f=a.postIds,g=a.successHandler;return function(a,h){h=h();var i=c("nullthrows")(d("polarisUserSelectors").getViewer__DEPRECATED(h)).id;a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_REQUESTED"});c("InstagramODS").incr("web.saveToCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToAdd:[].concat(f)}).then(function(){a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_SUCCEEDED",userId:i}),c("InstagramODS").incr("web.saveToCollection.success"),g!=null&&g()})["catch"](function(){a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_FAILED"}),c("InstagramODS").incr("web.saveToCollection.failure"),e!=null&&e()})}}g.addPostToCollection=a}),98);
__d("PolarisPostActionLoadPostQuery",["PolarisPostActionLoadPostQueryInlineFragment.graphql","PolarisPostActionLoadPostQueryQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=h!==void 0?h:h=b("PolarisPostActionLoadPostQueryInlineFragment.graphql");c=i!==void 0?i:i=b("PolarisPostActionLoadPostQueryQuery.graphql");g.INLINE_FRAGMENT=a;g.POST_QUERY=c}),98);
__d("PolarisPostActionPostPageLoaded",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{postData:c("nullthrows")(a.shortcode_media),type:"POST_PAGE_LOADED"}}g.postPageLoaded=a}),98);
__d("PolarisAPIGetChildComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/{parent_comment_id}/child_comments/",{path:{media_id:a,parent_comment_id:b},query:babelHelpers["extends"]({},c!=null?{max_id:c}:{})}).then(function(a){return a.data})}g.getChildComments=a}),98);
__d("PolarisAPIGetInitialComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:{can_support_threading:!0,permalink_enabled:!!b,target_comment_id:b}}).then(function(a){return a.data})}g.getInitialComments=a}),98);
__d("PolarisAPIGetPaginationComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c=!0);return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:babelHelpers["extends"]({can_support_threading:!0},c===!0?{min_id:b}:{max_id:b})}).then(function(a){return a.data})}g.getPaginationComments=a}),98);
__d("polarisTransformCommentEntities",["PolarisCommentModel","PolarisUserModel","polarisTransformEntities"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;return{comments:c("polarisTransformEntities")((b=a.commentDicts)!=null?b:{},function(a){return c("PolarisCommentModel").fromNativeResponse(a).toReduxStore()}),users:c("polarisTransformEntities")((b=a.userDicts)!=null?b:{},function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()})}}g["default"]=a}),98);
__d("PolarisThreadedCommentActions",["PolarisAPIGetChildComments","PolarisAPIGetInitialComments","PolarisAPIGetPaginationComments","PolarisPaginationUtils","PolarisThreadedCommentActionConstants","nullthrows","polarisNormalizeComments","polarisTransformCommentEntities"],(function(a,b,c,d,e,f,g){"use strict";var h,i="bc3296d1ce80a24b1b6e40b1e72903f5",j="1ee91c32fc020d44158a3192eda98247";function a(a){return{commentPageData:c("nullthrows")(a.shortcode_media),type:"MOBILE_ALL_COMMENTS_PAGE_LOADED"}}function b(a){return{parentId:a,type:"HIDE_CHILD_COMMENTS"}}function e(a){return{parentId:a,type:"SHOW_CHILD_COMMENTS"}}function k(a,b){b=b.map(function(a){return a.pk});var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f!=null&&a[f]!=null&&(c[f]=a[f])}return c}i=d("PolarisPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return a.threadedComments.parentByPostId.get(b).pagination},onError:function(a,b,c){return{fetch:b,postId:c,type:"PARENT_COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,d,e){b=b==null?void 0:(b=b.shortcode_media)==null?void 0:b.edge_media_to_parent_comment;var f={};if(b!=null)for(var g=b.edges,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;var k=c("nullthrows")(j.node.edge_threaded_comments);k={comments:k.edges.map(function(a){return a.node}),count:k.count,pageInfo:k.page_info};f[j.node.id]=k}return{childComments:f,comments:b?b.edges.map(function(a){return a.node}):[],count:b&&b.count,fetch:a,hasRankedComments:e,pageInfo:b&&b.page_info,postId:d,type:"PARENT_COMMENT_REQUEST_UPDATED"}},pageSize:(h=d("PolarisThreadedCommentActionConstants")).PARENT_PAGE_SIZE,pagesToPreload:h.PAGES_TO_PRELOAD,queryId:i,queryParams:function(a,b,c){return{shortcode:c}}});h=d("PolarisPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return(a=a.threadedComments.childByParentId[b])==null?void 0:a.pagination},onError:function(a,b,c){return{fetch:b,parentId:c,type:"CHILD_COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,c){b=b==null?void 0:(b=b.comment)==null?void 0:b.edge_threaded_comments;return{comments:b&&b.edges?b.edges.map(function(a){return a.node}):[],count:b&&b.count,fetch:a,pageInfo:b&&b.page_info,parentId:c,type:"CHILD_COMMENT_REQUEST_UPDATED"}},pageSize:h.CHILD_PAGE_SIZE,pagesToPreload:h.PAGES_TO_PRELOAD,queryId:j,queryParams:function(a){return{comment_id:a}}});function l(a,b){var e,f=b.has_more_comments===!0||b.has_more_headload_comments===!0,g=b.has_more_headload_comments===!0,h=f?g?b.next_min_id:b.next_max_id:"";e=(e=b.comment_count)!=null?e:0;b=(b=b.comments)!=null?b:[];var i=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(b).entities);return{comments:k(i.comments,b),count:e,pagination:{end_cursor:h,has_next_page:f,has_previous_page:g},postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADED",users:(b=i.users)!=null?b:{}}}function m(a){return{postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_FAILED"}}function n(a,b){return function(c){c({postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetInitialComments").getInitialComments(a,b).then(function(b){c(l(a,b))})["catch"](function(b){c(m(a))})}}function o(a,b){return function(e,f){f=f();f=f.threadedComments;f=(f=(f=f.parentByPostId[a])==null?void 0:f.pagination)!=null?f:null;if(f==null)return;var g=d("PolarisPaginationUtils").getEndCursor(f);if(g==null)return;e({postId:a,type:"PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetPaginationComments").getPaginationComments(a,g,d("PolarisPaginationUtils").hasPreviousPage(f)===!0).then(function(f){var g,h=f.has_more_comments===!0||f.has_more_headload_comments===!0,i=f.has_more_headload_comments===!0,j=h?i?f.next_min_id:f.next_max_id:"";g=(g=f.comment_count)!=null?g:0;f=(f=f.comments)!=null?f:[];var l=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(f).entities);e({comments:k(l.comments,f),count:g,hasRankedComments:(f=b)!=null?f:!1,pagination:{end_cursor:j,has_next_page:h,has_previous_page:i},postId:a,type:"PARENT_COMMENT_REQUEST_UPDATED_V2",users:(g=l.users)!=null?g:{}})})["catch"](function(){e({postId:a,type:"PARENT_COMMENT_REQUEST_FAILED_V2"})})}}function p(a,b){return function(e,f){e({parentId:b,type:"CHILD_COMMENT_REQUEST_LOADING"});f=f();f=f.threadedComments;f=(f=f.childByParentId[b])==null?void 0:f.pagination;var g;f!=null&&(g=d("PolarisPaginationUtils").getEndCursor(f));g=(f=g)!=null?f:null;return d("PolarisAPIGetChildComments").getChildComments(a,b,g).then(function(f){var g,h,i,j=f.has_more_head_child_comments===!0||f.has_more_tail_child_comments===!0;g=(g=f.next_max_child_cursor)!=null?g:"";h=(h=f.child_comment_count)!=null?h:0;f=(f=f.child_comments)!=null?f:[];f=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(f).entities);e({comments:(i=f.comments)!=null?i:{},count:h,pagination:{end_cursor:g,has_next_page:j},parentId:b,postId:a,type:"CHILD_COMMENT_REQUEST_UPDATED_V2",users:(i=f.users)!=null?i:{}})})["catch"](function(){e({parentId:b,type:"CHILD_COMMENT_REQUEST_FAILED_V2"})})}}j=i.next;function f(a,b){return function(c){return c(o(a,b))}}function q(a,b){return function(c){return c(n(a,b))}}i=h.next;function r(a,b){return function(c){return c(p(a,b))}}function s(){return function(a){return a({type:"INCREMENT_COMMENT_COVER_SEEN_COUNTER"})}}function t(a){return function(b){return function(c){c(l(a,b))}}}g.mobileAllCommentsPageLoaded=a;g.hideChildComments=b;g.showChildComments=e;g.initialCommentsError=m;g.requestNextParentCommentPage=j;g.requestNextParentCommentPageV2=f;g.requestInitialComments=q;g.requestNextChildCommentPage=i;g.requestNextChildCommentPageV2=r;g.incrementCommentCoverSeenCounter=s;g.setupPostComments=t}),98);
__d("PolarisPostActionLoadPost",["CometRelay","PolarisAdsActions","PolarisConfig","PolarisInstapi","PolarisMonitorErrors","PolarisPostActionLoadPostQuery","PolarisPostActionPostLoadedV2","PolarisPostActionPostPageLoaded","PolarisRelayEnvironment","PolarisThreadedCommentActions","asyncToGeneratorRuntime","nullthrows","polarisUnexpected"],(function(a,b,c,d,e,f,g){"use strict";var h=40,i=24,j=3;function a(a,e){return function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f){b({shortcode:a,type:"POST_PAGE_LOADING"});if(e!=null&&d("PolarisConfig").isLoggedIn())try{b(d("PolarisThreadedCommentActions").requestInitialComments(e));var g=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/info/",{path:{media_id:e},query:{}}));g=g.data;if(g.items!=null){g=[].concat(g.items);var k=g[0];f=new Set(f().ads.feed.keys());k!=null&&k.ad_id!=null?b(d("PolarisAdsActions").adMediaInfoLoaded(g[0],a)):b(d("PolarisPostActionPostLoadedV2").postLoadedV2(g,a,f))}}catch(a){d("PolarisMonitorErrors").logError(a)}else try{k=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_QUERY,{child_comment_count:j,fetch_comment_count:h,has_threaded_comments:!0,parent_comment_count:i,shortcode:a}).toPromise());g=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT,k==null?void 0:k.xdt_shortcode_media);b(d("PolarisPostActionPostPageLoaded").postPageLoaded({shortcode_media:c("nullthrows")(g)}))}catch(a){c("polarisUnexpected")(a)}});return function(a,b){return f.apply(this,arguments)}}()}g.loadPost=a}),98);
__d("PolarisPostRemoveCommentsSelectors",["reselect"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.postRemoveComments}b=d("reselect").createSelector(a,function(a){a=a.isVisible;return a});g.getPostRemoveCommentsIsVisible=b}),98);
__d("PolarisSavedPostsActionEditCollection",["PolarisAPIEditCollection","PolarisGenericStrings","PolarisSavedPostsLogger","Promise","polarisNormalizeCollections"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.collectionId,e=a.collectionName,f=a.postIdsToAdd,g=a.postIdsToRemove,i=a.retryHandler,j=a.source,k=a.userId;return function(a){a({collectionId:c,type:"SAVED_COLLECTION_EDIT_PENDING",userId:k});d("PolarisSavedPostsLogger").logEditCollection("attempt",j);return d("PolarisAPIEditCollection").editCollection({collectionId:c,collectionName:e,postIdsToAdd:f,postIdsToRemove:g}).then(function(b){b=d("polarisNormalizeCollections").normalizeCollection(b);a({collection:b,postIdsToAdd:f,postIdsToRemove:g,type:"SAVED_COLLECTION_EDIT_SUCCESS",userId:k});d("PolarisSavedPostsLogger").logEditCollection("success",j)})["catch"](function(e){a({collectionId:c,toast:{actionHandler:i,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE},type:"SAVED_COLLECTION_EDIT_ERRORED",userId:k});d("PolarisSavedPostsLogger").logEditCollection("failure",j);return(h||(h=b("Promise"))).reject(e)})}}g.editCollection=a}),98);
__d("PolarisThreadedCommentSelectors",["PolarisPaginationUtils","immutable-4.0.0-rc.9","nullthrows","polarisCreateSelectorWithArg"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!a.deleted&&!a.didReportAsSpam}b=c("polarisCreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a){return a.threadedComments.parentByPostId},function(a,b,e){return function(f){var g=e[f];f=a.get(f);if(!g||!f)return d("immutable-4.0.0-rc.9").List();var i=g.commentIds;g=d("PolarisPaginationUtils").getVisibleCount(g.pagination);f=f.hasRankedComments===!0?0:i.count()-g;return i.map(function(a){return c("nullthrows")(b.get(a))}).slice(f,f+g).filter(function(a){return h(a)})}});e=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(e){e=c("nullthrows")(b[e]);var f=e.commentIds;e=e.pagination;f=f.map(function(b){return c("nullthrows")(a.get(b))});e=f.count()-d("PolarisPaginationUtils").getVisibleCount(e);var g=f.slice(e,f.count()).filter(function(a){return h(a)});f=f.slice(0,e).filter(function(a){return h(a)});e=f.map(function(a){return a.id});return{remainingCachedShowableChildCommentIds:e,visibleChildComments:g}}});f=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(a){a=c("nullthrows")(b[a]);return a.count||0}});function a(a,b){return!!a.threadedComments.initialCommentsLoading[b]}g.selectVisibleParentCommentsForPostId=b;g.selectChildCommentsForParentIdSplitByVisibility=e;g.getTotalChildCommentCountForParentId=f;g.getThreadedCommentsLoading=a}),98);
__d("PolarisInFeedPostModalContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(c("emptyFunction"));g.InFeedPostModalContext=b}),98);
__d("PolarisPostCommentInputPicker.react",["cx","CometPlaceholder.react","PolarisPanavisionQEHelpers","deferredLoadComponent","react","requireDeferredForDisplay","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisPostCommentInput.react").__setRef("PolarisPostCommentInputPicker.react"));a=j.forwardRef(function(a,b){var e=c("usePolarisIsOnFeedPage")(),f=c("usePolarisIsOnAdsActivityPage")();e=(e||f)&&a.inModal!==!0&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("div",{className:(e?"":"_aan1")+(e?" _ajpo":"")}),name:"PostCommentInputPicker",children:j.jsx(k,babelHelpers["extends"]({},a,{ref:b}))})});b=a;g["default"]=b}),98);
__d("PolarisPostFastCommentLikeButton.react",["PolarisCommentActions","PolarisConfig","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisReactRedux","react","usePolarisAnalyticsContext","usePolarisComment","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){var e=d("usePolarisComment").useComment(a,function(a){return a.id}),f=d("usePolarisPost").usePost(b,d("PolarisInteractionsLogger").getMediaTypeFromPost),g=d("usePolarisPost").usePostAndOwner(b,function(a,b){return b.id}),h=c("usePolarisAnalyticsContext")();return{commentAuthorId:e,commentId:a,containerModule:h,mediaAuthorId:g,mediaId:b,mediaType:f,userId:(e=d("PolarisConfig").getViewerId())!=null?e:""}}function a(a){var b=a.color,e=a.commentId;a=a.postId;var f=d("PolarisReactRedux").useDispatch(),g=j(e,a);a=d("usePolarisComment").useComment(e,function(a){return a.likedByViewer});e=function(a){a?f(d("PolarisCommentActions").likeComment(g)):f(d("PolarisCommentActions").unlikeComment(g))};return i.jsx(c("PolarisLikeButton.react"),{color:b,isLiked:a,large:!1,onChange:e})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisPostFastPreviewCaption.react",["CarouselAutoplayContext","IGDSBox.react","PolarisPostFastCommentPrimitive.react","PolarisUA","nullthrows","polarisCommentSelectors","react","usePolarisIsOnFeedPage","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=a.inModal;a=a.postId;var e=c("usePolarisIsOnFeedPage")();e=e&&b!==!0&&d("PolarisUA").isDesktop();b=d("usePolarisPost").usePostAndOwner(a,function(a,b){return c("nullthrows")(b.id)});var f=d("usePolarisPost").usePostAndOwner(a,function(a,b){return c("nullthrows")(b.username)}),g=d("usePolarisPost").usePostAndOwner(a,function(a,b){return b.isVerified}),h=d("usePolarisPost").usePostAndOwner(a,function(a,b){return b.isUnpublished}),k=d("usePolarisPost").usePost(a,function(a){return a.caption});a=d("usePolarisPost").usePost(a,function(a){return a.captionCommentId});a=d("polarisCommentSelectors").useCommentTranslation(a);var l=j(c("CarouselAutoplayContext")),m=l.pauseCarouselAutoplay;l=function(){m()};if(k==null||k==="")return null;(a==null?void 0:a.showTranslatedText)===!0&&a.translatedText!=null&&(k=a.translatedText);return i.jsx(c("IGDSBox.react"),{marginBottom:e?2:1,position:"relative",children:i.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorUnpublished:h,isAuthorVerified:g,isCaption:!0,onMoreClick:l,text:k,userId:b,username:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastPreviewComment.react",["PolarisPostFastCommentPrimitive.react","nullthrows","react","usePolarisComment"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b;a=a.commentId;var e=(b=d("usePolarisComment")).useCommentAndOwner(a,function(a,b){return c("nullthrows")(b.id)}),f=b.useCommentAndOwner(a,function(a,b){return c("nullthrows")(b.username)}),g=b.useComment(a,function(a){return a.text});b=b.useComment(a,function(a){return a.isAuthorVerified});return i.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:b,text:g,userId:e,username:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastViewAllComments.react",["fbt","IGDSText.react","PolarisBigNumber.react","PolarisConfig","PolarisFastLink.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","nullthrows","react","usePolarisAnalyticsContext","usePolarisPost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext;function a(a){var b=a.onLoggedOutIntentClickLoginModal,e=a.postId,f=(a=d("usePolarisPost")).usePost(e,function(a){return a.numComments||0}),g=a.usePost(e,function(a){return c("nullthrows")((a=a.owner)==null?void 0:a.id)}),i=a.usePost(e,d("PolarisInteractionsLogger").getMediaTypeFromPost),m=l(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),n=m.canUserSeePersistentCta,o=a.usePost(e,function(a){var b;return c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((b={},b[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=n,b.shortcode=c("nullthrows")(a.code),b))}),p=d("PolarisReactRedux").useDispatch(),q=c("usePolarisAnalyticsContext")(),r=l(d("PolarisInFeedPostModalContext").InFeedPostModalContext),s=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile();m=s||d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isDesktop();var t=k(function(a,f){d("PolarisConfig").isLoggedIn()?(d("PolarisInteractionsLogger").logInteractionAction({containerModule:q,eventName:"instagram_organic_comment_view_all",mediaAuthorId:g,mediaId:e,mediaType:i}),d("PolarisUA").isDesktop()&&(a.preventDefault(),p(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(e)),c("logPolarisPostModalOpen")(q,i,"feed_view_all_comments"),r(e))):s&&(a.preventDefault(),d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"post_comment_view_all_click",module:q||""}),b(f,"post_comment_view_all",e))},[q,p,b,g,e,i,s,r]);return j.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:o,onClick:function(a){return t(a,o)},shouldOpenModal:m,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",zeroMargin:!0,children:f===1?h._("__JHASH__72aa16zdD4E__JHASH__"):h._("__JHASH__goQVaKpz6ee__JHASH__",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{value:f}))])})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){return{onLoggedOutIntentClickLoginModal:function(b,c,e){var f=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(f,b,c,null,e))}}}e=d("PolarisReactRedux").connect(null,b)(a);g["default"]=e}),98);
__d("PolarisPostFastPreviewCommentsList.react",["IGDSBox.react","PolarisConfig","PolarisPanavisionQEHelpers","PolarisPostFastCommentLikeButton.react","PolarisPostFastPreviewComment.react","PolarisPostFastViewAllComments.react","PolarisReactRedux","PolarisUA","polarisCommentSelectors","qex","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a){var b=a.postId;a=a.previewCommentIds;var e=c("usePolarisIsOnFeedPage")(),f=c("usePolarisIsOnAdsActivityPage")();e=(e||f)&&d("PolarisUA").isDesktop();var g=e&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();if(d("PolarisConfig").isLoggedOutFRXEligible())return null;return a.length>0?i.jsx(c("IGDSBox.react"),{marginBottom:e?1:0,position:"relative",children:a.map(function(a){return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:1,position:"relative",children:[i.jsx(c("PolarisPostFastPreviewComment.react"),{commentId:a}),d("PolarisConfig").isLoggedIn()&&i.jsx(c("IGDSBox.react"),{marginStart:g?2:0,position:"relative",children:i.jsx(c("PolarisPostFastCommentLikeButton.react"),{color:g?"ig-secondary-icon":void 0,commentId:a,postId:b})})]},a)})}):null}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.inModal,e=a.postId;a=c("usePolarisIsOnFeedPage")();a=a&&b!==!0&&d("PolarisUA").isDesktop();b=d("usePolarisPost").usePost(e,function(a){return!a.commentsDisabled});var f=d("PolarisReactRedux").useSelector(function(a){return d("polarisCommentSelectors").getPreviewCommentsForPostId(a,e)}),g=j(function(){return f.map(function(a){return a.id})},[f]),h=d("usePolarisPost").usePost(e,function(a){return(a=a.numComments)!=null?a:0}),l=h>g.length;if(!b||h<=0)return null;b=!d("PolarisConfig").isLoggedIn()&&g.length>0&&c("qex")._("345")!==!0;return i.jsxs(i.Fragment,{children:[l&&i.jsx(c("IGDSBox.react"),{alignItems:"start",marginBottom:a?2:1,position:"relative",children:i.jsx(c("PolarisPostFastViewAllComments.react"),{postId:e})}),i.jsx(k,{postId:e,previewCommentIds:b?g.slice(-1):g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCaptionTranslationPrompt.react",["IGDSBox.react","PolarisCommentTranslationPrompt.react","react","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.inFeed,e=a.marginBottom;e=e===void 0?0:e;a=a.postId;var f=d("usePolarisPost").usePost(a,function(a){return a.captionHasTranslation});a=d("usePolarisPost").usePost(a,function(a){return a.captionCommentId});return f!==!0||a==null?null:i.jsx(c("IGDSBox.react"),{marginBottom:e,children:i.jsx(c("PolarisCommentTranslationPrompt.react"),{commentId:a,inFeed:b,isCaptionWithTranslation:!0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDeleteCommentModal.react",["fbt","IGCoreDialog","PolarisCommentActions","PolarisGenericStrings","PolarisLogger","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.analyticsContext,c=a.commentId,e=a.onClose,f=a.postId,g=d("PolarisReactRedux").useDispatch();a=function(a){d("PolarisLogger").logAction("commentDelete",{source:b}),g(d("PolarisCommentActions").deleteComment(f,c)),e(a)};return j.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:e,children:[j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:h._("__JHASH__-8Hu0_GPJrv__JHASH__")}),j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:e,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUnhideCommentDialog.react",["fbt","IGCoreDialog","InstagramWellbeingCommentCoverEventFalcoEvent","PolarisCommentActions","PolarisGenericStrings","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.commentId,e=a.onClose,f=a.postId,g=a.postOwnerId,i=d("PolarisReactRedux").useDispatch();a=function(){i(d("PolarisCommentActions").unhideCoveredComment(b,f,g)),c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"click",comment_id:b,media_id:f,step:"unhide_comment_confirm"}}),e()};var k=function(){e()};return j.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:k,title:"Unhide comment?",children:[j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-secondary-button",onClick:a,children:h._("__JHASH__WoQXEjvVkkZ__JHASH__")}),j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:k,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostComment.react",["cx","fbt","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon","IGDSText.react","IGDSVerifiedBadge.react","InstagramWellbeingCommentCoverEventFalcoEvent","Locale","PolarisApproveCommentDialog.react","PolarisCommentActions","PolarisCommentLikeListsActions","PolarisCommentOptionsDialog.react","PolarisCommentTranslationPrompt.react","PolarisConfig","PolarisDoubleTappable","PolarisEngagementLogger","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisLikeButton.react","PolarisLinkBuilder","PolarisNavigationActions","PolarisPendingCommentActions","PolarisPostCaptionTranslationPrompt.react","PolarisPostGifComment.react","PolarisPostStrings","PolarisPostVariants","PolarisReactRedux","PolarisTimestamp.react","PolarisTruncatedText.react","PolarisUA","PolarisUnhideCommentDialog.react","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserText.react","PolarisViewpointReact.react","gkx","joinClasses","nullthrows","polarisPostSelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=750;function m(a){var b=a.parentProps,e=b.commentOwnerId,f=b.commentOwnerUsername,g=b.isAuthorVerified;g=g===void 0?!1:g;var h=b.isCaption;h=h===void 0?!1:h;var i=b.isRestrictedPending,j=b.postOwnerIsUnpublished;j=j===void 0?!1:j;b=b.showRichComment;b=b===void 0?!1:b;a=i&&!a.parentState.showRestrictedContent;var l=h?"h2":"h3";if(a)return k.jsx(c("IGDSBox.react"),{marginBottom:1,position:"relative",children:k.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"body",weight:"semibold",children:d("PolarisPostStrings").RESTRICTED_ACCOUNT_HEADER_TEXT})});else if(!h||j!==!0)return k.jsxs(l,{className:"_a9zc"+(i===!0?" _a9zd":""),children:[k.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:k.jsx(c("PolarisUserHoverCard.react"),{display:"inline",triggerAnalyticsContext:"post_commenter",userId:e,children:k.jsx(c("IGDSButton.react"),{display:"block",href:d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(f)),label:c("nullthrows")(f),variant:"secondary_link"})})}),b&&g&&k.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:k.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})})]});return null}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.parentProps;var b=a.captionCreatedAt,e=a.commentThreadId,f=a.disableTimestampNav,g=a.id,h=a.isCaption;h=h===void 0?!1:h;var i=a.isEdited;i=i===void 0?!1:i;var j=a.postedAt;a=a.postShortcode;h=k.jsx(c("PolarisTimestamp.react"),{className:"_a9ze _a9zf",value:h&&i&&b!=null?b:j});if(a!=null&&g!=null){i=e!=null&&e!==g?d("PolarisLinkBuilder").buildReplyPermalink(a,e,g,d("PolarisUA").isMobile()):d("PolarisLinkBuilder").buildCommentPermalink(a,g,d("PolarisUA").isMobile());b=f===!0?function(a){return a.preventDefault()}:void 0;h=k.jsx(c("PolarisFastLink.react"),{className:"_a9zg",href:i,onClick:b,children:h})}return h}n.displayName=n.name+" [from "+f.id+"]";h=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1,showUnhideDialog:!1},e.$3=function(){e.setState({showCommentOptionsDialog:!0})},e.$4=function(){if(!d("PolarisUA").isMobile()||e.props.showRichComment!==!0||e.props.isCaption===!0)return;e.$1=window.setTimeout(e.$3,l)},e.$2=function(){window.clearTimeout(e.$1)},e.$5=function(){e.setState({showCommentOptionsDialog:!1})},e.$6=function(){e.setState({showCommentOptionsDialog:!1}),e.props.onDeleteComment()},e.$7=function(){var a=e.props,b=a.id;a=a.onDeleteCommentClick;a&&a(c("nullthrows")(b))},e.$8=function(a){var b=e.props,c=b.onLikeComment;b=b.onUnlikeComment;a?c():b()},e.$9=function(){var a=e.props,b=a.isRestrictedPending;b=b===void 0?!1:b;var c=a.likedByViewer;c=c===void 0?!1:c;a=a.onLikeComment;!c&&!b&&a()},e.$10=function(){var a=e.props,b=a.code,f=a.fetchCommentLikes,g=a.id,h=a.loggedIn,i=a.onLikeCountClick,j=a.onLoggedOutIntentClick;a=a.onLoggedOutIntentClickLoginModal;if(h)i&&(f(),i(c("nullthrows")(g)));else{h="post_comment_like_count";d("PolarisUA").isDesktop()?a(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(b)),h):j(h)}},e.$11=function(a){var b=e.props,f=b.analyticsContext,g=b.commentOwnerId,h=b.commentThreadId,i=b.id,j=b.isCovered,k=b.isRestrictedPending,l=b.mediaType,m=b.postId,n=b.postOwnerId;b=b.viewerId;switch(a.state){case"entered":if(i!=null&&b!=null){d("PolarisEngagementLogger").logCommentImpression({commentAuthorId:g,commentId:i,commentThreadId:h,containerModule:f,isCovered:j,mediaAuthorId:n,mediaId:m,mediaType:l});k&&c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:g,commentId:i,commentThreadId:h,parentMediaId:m,step:"pending_comment"});return}}},e.$12=function(){var a=e.props,b=a.code,f=a.loggedIn,g=a.onLoggedOutIntentClick,h=a.onLoggedOutIntentClickLoginModal;a=a.onReplyClick;if(f)a();else{f="post_comment_reply";d("PolarisUA").isDesktop()?h(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(b)),f):g(f)}},e.$13=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_see_hidden"});e.setState({showRestrictedContent:!0})},e.$14=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_approve"});e.setState({showApproveCommentDialog:!0})},e.$15=function(){e.setState({showApproveCommentDialog:!1})},e.$16=function(){e.setState({showUnhideDialog:!1})},e.$17=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:e.state.showRestrictedContent?"pending_comment_delete":"pending_comment_delete_hidden"});e.$7()},e.$18=function(){var a=e.props,b=a.id,d=a.postId;c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"click",comment_id:b,media_id:d,step:"unhide_comment_click"}});e.setState({showUnhideDialog:!0})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentWillUnmount=function(){this.$2()};e.$19=function(){var a=this.props,b=a.code,e=a.id,f=a.likeCount;a=a.loggedIn;if(f==null||f===0)return null;var g=f.toLocaleString(),h=i._("__JHASH__7PgeOKK7Hd0__JHASH__",[i._param("like count",g)]);g=i._("__JHASH__-wTB86PYRly__JHASH__",[i._param("like count",g)]);h=f===1?h:g;return f>0&&(d("PolarisUA").isDesktop()||!a?k.jsx("button",{className:"_a9ze",onClick:this.$10,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:h})}):k.jsx(c("PolarisFastLink.react"),{className:"_a9ze _amp7",href:"/p/"+c("nullthrows")(b)+"/c/"+c("nullthrows")(e)+"/liked_by/",children:h}))};e.render=function(){var a=this,b=this.props,e=b.className,f=b.commentingDisabledForViewer,g=b.commentOwnerAvatar,h=b.commentOwnerId,i=b.commentOwnerUsername,j=b.commentThreadId,l=b.customPaddingStyle,o=b.giphyMediaInfo,p=b.hideUserAvatar,q=p===void 0?!1:p,r=b.id;p=b.isCaption;var s=p===void 0?!1:p;p=b.isCovered;var t=p===void 0?!1:p;p=b.isEdited;var u=p===void 0?!1:p;p=b.isPermalinkedComment;p=p===void 0?!1:p;var v=b.isRestrictedPending,w=b.likedByViewer,x=b.postId,y=b.postOwnerId,z=b.postOwnerIsUnpublished,A=b.reducedAvatarMargin,B=b.showCommentOptionsInline,C=B===void 0?!1:B;B=b.showRemoveIcon;var D=b.showRichComment,E=D===void 0?!1:D;D=b.translation;var F=b.variant,G=b.viewerId,H=this.props.text.toString();(D==null?void 0:D.showTranslatedText)===!0&&D.translatedText!=null&&(H=D.translatedText);var I=!s&&G!=null&&(G===h||y===G),J=I&&B&&!E,K=!s&&G!=null&&!J&&!v;b=d("PolarisConfig").isLoggedOutFRXEligible()&&p;var L=b||E&&!d("PolarisUA").isMobile()&&!s&&G!=null,M=F===d("PolarisPostVariants").VARIANTS.feed?c("PolarisTruncatedText.react"):c("PolarisUserText.react"),N=!!s||!K&&!I,O=v&&!this.state.showRestrictedContent,P=v&&this.state.showRestrictedContent;D=o!=null;var Q=D?o==null?void 0:(B=o.images)==null?void 0:(p=B.fixed_height)==null?void 0:p.url:void 0,R=k.jsx("div",{className:C===!0?"_a9ze":"",children:k.jsx("div",{className:(C!==!0?"_a9zh":"")+(C===!0?" _a9zi":""),children:k.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,onClick:this.$3,children:k.jsx(c("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:k.jsx(c("IGDSMoreHorizontalPanoOutlineIcon"),{alt:d("PolarisPostStrings").COMMENT_OPTIONS_ALT_TEXT,color:"ig-secondary-text"})})})})});return k.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:this.$11,id:H.replace(" ","-"),children:function(b){return k.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:a.$9,role:"button",children:[k.jsx("li",{className:c("joinClasses")((E?"_a9zj":"")+(l==="compact"?" _a9zk":"")+" _a9zl",e),onMouseDown:a.$4,onMouseUp:a.$2,onTouchEnd:a.$2,onTouchMove:a.$2,onTouchStart:a.$4,ref:b,children:k.jsxs("div",{className:"_a9zm","data-testid":void 0,children:[k.jsxs("div",{className:(N?"_a9zn":"")+" _a9zo",children:[E&&!q&&k.jsx(c("PolarisUserHoverCard.react"),{display:"block",triggerAnalyticsContext:"post_commenter_avatar",userId:h,children:k.jsx(c("PolarisUserAvatarWithStories.react"),{className:"_a9zp"+(A===!0?" _a9zq":"")+(v===!0?" _a9zd":""),isLink:!z,profilePictureUrl:(b=g)!=null?b:"",size:c("PolarisIGCoreConstants").AVATAR_SIZES.small,storyEntrypoint:"post_comment",username:i})}),k.jsxs("div",{className:"_a9zr",children:[k.jsx(m,{parentProps:a.props,parentState:a.state}),!O&&(Q!=null?k.jsx(c("PolarisPostGifComment.react"),{gifSrc:Q}):k.jsx("div",{className:"_a9zs"+(v===!0?" _a9zd":""),"data-testid":void 0,children:k.jsx(M,{display:"inline",headlineTag:s===!0?"h1":void 0,size:"body",value:H})})),E&&k.jsx(c("IGDSBox.react"),{marginBottom:1,marginTop:2,position:"relative",children:k.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",dir:c("Locale").isRTL()?"rtl":"ltr",children:[s&&u&&k.jsxs(k.Fragment,{children:[d("PolarisPostStrings").CAPTION_EDITED_TEXT,"\xa0\xb7\xa0"]}),k.jsx(n,{parentProps:a.props}),s&&k.jsx(c("IGDSBox.react"),{display:"inlineBlock",position:"relative",children:k.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{postId:x})}),!s&&!v&&k.jsxs(k.Fragment,{children:[a.$19(),f!==!0&&k.jsx("button",{className:"_a9ze",onClick:a.$12,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").REPLY_TEXT})}),c("gkx")("3006")&&t&&y===G&&k.jsx("button",{className:"_a9ze",onClick:a.$18,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").UNHIDE_TEXT})}),r!=null&&k.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginEnd:2,position:"relative",children:k.jsx(c("PolarisCommentTranslationPrompt.react"),{commentId:r})}),L&&C===!0&&R]}),O&&k.jsx("button",{className:"_a9ze",onClick:a.$13,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT})}),P&&k.jsx("button",{className:"_a9ze",onClick:a.$14,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisApproveCommentDialog.react").APPROVE_COMMENT_CTA})}),v&&k.jsx("button",{className:"_a9ze",onClick:a.$17,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT})})]})})]})]}),J&&k.jsx("button",{className:"_a9zt",onClick:a.$7,title:d("PolarisPostStrings").DELETE_COMMENT_TEXT,children:k.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").DELETE_COMMENT_TEXT})}),L&&!C&&R,K&&k.jsx(c("PolarisLikeButton.react"),{className:"_a9zu",isLiked:!!w,large:!1,onChange:a.$8})]})}),a.state.showUnhideDialog&&r!=null&&k.jsx(c("PolarisUnhideCommentDialog.react"),{commentId:r,onClose:a.$16,postId:x,postOwnerId:y}),a.state.showCommentOptionsDialog&&r!=null&&k.jsx(c("PolarisCommentOptionsDialog.react"),{canDeleteComment:!!I,commentId:r,commentOwnerAvatar:(b=g)!=null?b:"",commentOwnerId:h,commentOwnerUsername:i,mediaOwnerId:y,onClose:a.$5,onDelete:a.$6}),a.state.showApproveCommentDialog&&r!=null&&k.jsx(d("PolarisApproveCommentDialog.react").ApproveCommentDialog,{commentId:r,commentOwnerId:h,commentOwnerUsername:i,commentThreadId:j,onClose:a.$15,postId:x})]})}})};return b}(k.PureComponent);h.defaultProps={showRichComment:!1};function a(a,b){var e=b.commentOwnerId,f=b.postId,g=b.postOwnerId;e=d("polarisUserSelectors").getUserById(a,e);f=d("polarisPostSelectors").getPostOrNullById(a,f);b=b.id;b==null&&(b=f==null?void 0:f.captionCommentId);return{commentOwnerAvatar:e.profilePictureUrl,commentOwnerId:c("nullthrows")(e.id),commentOwnerUsername:c("nullthrows")(e.username),postOwnerIsUnpublished:d("polarisUserSelectors").getUserById(a,g).isUnpublished,postShortcode:f&&f.code,translation:b!=null?a.comments.translationById.get(b):null,viewerId:a.users.viewerId}}function b(a,b){var e={commentAuthorId:b.commentOwnerId,commentId:b.id||"",containerModule:b.analyticsContext,mediaAuthorId:b.postOwnerId,mediaId:b.id||"",mediaType:b.mediaType||0};return{fetchCommentLikes:function(){return a(d("PolarisCommentLikeListsActions").requestCommentLikes(c("nullthrows")(b.id)))},onDeleteComment:function(){return a(d("PolarisCommentActions").deleteComment(b.postId,b.id||""))},onLikeComment:function(b){return a(d("PolarisCommentActions").likeComment(babelHelpers["extends"]({},e,{userId:b||""})))},onLoggedOutIntentClick:function(b){a(d("PolarisNavigationActions").openLoggedOutIntentDialog(b))},onLoggedOutIntentClickLoginModal:function(b,c,e){var f=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(f,b,c,e,b))},onReplyClick:function(e){return a(d("PolarisPendingCommentActions").changePendingComment(b.postId,"@"+(e||"")+" ",c("nullthrows")(b.commentThreadId),b.commentOwnerId,e))},onUnlikeComment:function(b){return a(d("PolarisCommentActions").unlikeComment(babelHelpers["extends"]({},e,{userId:b||""})))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onLikeComment:function(){return b.onLikeComment(a.viewerId)},onReplyClick:function(){return b.onReplyClick(a.commentOwnerUsername)},onUnlikeComment:function(){return b.onUnlikeComment(a.viewerId)}})}f=d("PolarisReactRedux").connect(a,b,e)(h);g["default"]=f}),98);
__d("PolarisPreviewComments.react",["cx","fbt","IGDSSpinner.react","PolarisBatchDOM","PolarisBigNumber.react","PolarisCommentActionConstants","PolarisCommentActions","PolarisIGCoreButton","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNavigationActions","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux","PolarisUA","browserHistory","isStringNullOrEmpty","joinClasses","polarisCommentSelectors","polarisPostSelectors","react","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useMemo;e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=function(a){var b=c.props,e=b.analyticsContext,f=b.code,g=b.id,h=b.loadMore,i=b.loggedIn,j=b.mediaType,k=b.onLoggedOutIntentClick,l=b.ownerId;b=b.variant;var m=d("PolarisUA").isMobile();a.preventDefault();if(b===d("PolarisPostVariants").VARIANTS.feed||m){a=d("PolarisLinkBuilder").buildMediaCommentsLink(f,m);i?(d("browserHistory").browserHistory.push(a),d("PolarisInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_all",mediaAuthorId:l,mediaId:g,mediaType:j})):k("post_comment_view_all")}else h(g,f),d("PolarisInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_more",mediaAuthorId:l,mediaId:g,mediaType:j})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b,c){var e=this,f=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,g=this.$1;if(!g)return;d("PolarisBatchDOM").measure(function(){var b=g.scrollTop;f?b=g.scrollHeight:c!=null?b=g.scrollHeight-c:e.props.id!==a.id&&(b=0);d("PolarisBatchDOM").mutate(function(){g.scrollTop=b})})};e.getSnapshotBeforeUpdate=function(a){var b=a.comments,c=this.props.comments;if(a.id===this.props.id&&c&&b&&c.count()>b.count()){a=this.$1;if(a)return a.scrollHeight-a.scrollTop}return null};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.captionAndTitle,g=b.captionIsEdited,h=b.className,i=b.commentsAreStacked,j=b.commentsDisabled,l=b.commentsHasNextPage,m=b.commentsTotalCount,n=b.handleDeleteCommentClick,o=b.id,p=b.loggedIn,q=b.mediaType,r=b.ownerId,s=b.postedAt,t=b.previewComments,u=b.showRemoveCommentIcons,v=b.variant;b=j!==!0&&(l===!0||t!=null&&t.length<m);if((f==null||f==="")&&m===0&&!b)return null;l=t;return k.jsx("div",{className:c("joinClasses")("_acri"+(!d("PolarisUA").isMobile()&&v===d("PolarisPostVariants").VARIANTS.flexible&&!i?" _acrj":""),h),ref:function(b){return a.$1=b},children:k.jsxs("ul",{className:"_acrk",children:[!c("isStringNullOrEmpty")(f)&&k.jsx(c("PolarisPostComment.react"),{analyticsContext:e,commentOwnerId:r,isCaption:!0,isEdited:!!g,isRestrictedPending:!1,loggedIn:p,mediaType:q,postedAt:s,postId:o,postOwnerId:r,showRemoveIcon:!1,text:f,variant:v},"captionAndTitle"),b&&this.renderLoadMoreCommentsLink(),j!==!0&&l&&l.map(function(a){return k.jsx(c("PolarisPostComment.react"),{analyticsContext:e,commentOwnerId:a.userId,id:a.id,isAuthorVerified:a.isAuthorVerified,isRestrictedPending:a.isRestrictedPending,likedByViewer:a.likedByViewer,loggedIn:p,mediaType:q,onDeleteCommentClick:n,postedAt:a.postedAt,postId:o,postOwnerId:r,showRemoveIcon:u,text:a.text,variant:v},a.id)})]})})};e.renderLoadMoreCommentsLink=function(){var a=this.props,b=a.comments,e=a.commentsIsFetching,f=a.commentsTotalCount;a=a.variant;var g=i._("__JHASH__EzDl3Q5qBhq__JHASH__");b&&b.count()+d("PolarisCommentActionConstants").PAGE_SIZE>=f||a===d("PolarisPostVariants").VARIANTS.feed||d("PolarisUA").isMobile()?b=i._("__JHASH__goQVaKpz6ee__JHASH__",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:f}))]):b=g;return k.jsxs("li",{className:"_acrl",children:[k.jsx(c("PolarisIGCoreButton"),{borderless:!0,dangerouslySetClassName:{__className:"_acrm"},disabled:e,onClick:this.$2,children:b}),e&&k.jsx("div",{className:"_acrn",children:k.jsx(c("IGDSSpinner.react"),{position:"static",size:"small"})})]})};return b}(k.PureComponent);function a(a,b){var c=d("polarisCommentSelectors").getPreviewCommentsForPostId(a,b.id);b=d("polarisPostSelectors").getNumCommentsForPostId(a,b.id);a=a.navigation.pageIdentifier||"";return{analyticsContext:a,commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:b,previewComments:c}}function b(){var a=c("usePolarisDisplayProperties")(),b=a.viewportWidth;return l(function(){return{viewportWidth:b}},[b])}f={loadMore:d("PolarisCommentActions").requestNextCommentPage,onLoggedOutIntentClick:d("PolarisNavigationActions").openLoggedOutIntentDialog};h=d("PolarisReactRedux").connect(a,f)(e);a=d("PolarisReactRedux").connectHooks(b)(h);g["default"]=a}),98);
__d("PolarisCommentCover.react",["fbt","BaseButton.react","IGDSBox.react","IGDSEyeOffOutlineIcon","IGDSText.react","InstagramWellbeingCommentCoverEventFalcoEvent","PolarisReactRedux","PolarisThreadedCommentActions","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n={viewHiddenCommentsButton:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0}},o=function(a){var b=k(function(){a()},[a]);return c("usePartialViewImpression")({onImpressionStart:b})};function a(a){var b=a.nuxSeenCounter,e=a.onClick,f=a.postId;a.postOwnerId;var g=d("PolarisReactRedux").useDispatch();a=m(!1);var i=a[0],k=a[1];a=m(!1);var p=a[0],q=a[1];a=o(function(){return q(!0)});l(function(){b<=2&&k(!0)},[b]);l(function(){p&&(g(d("PolarisThreadedCommentActions").incrementCommentCoverSeenCounter()),c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_cta_impression"}}),i&&c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_nux_impression"}}))},[p,g,f,i]);var r=function(){c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"click",media_id:f,step:i?"comment_cover_cta_with_nux_click":"comment_cover_cta_without_nux_click"}}),e()};return j.jsxs(c("IGDSBox.react"),{containerRef:a,direction:"column",marginStart:12,children:[j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:4,children:[j.jsx(c("IGDSEyeOffOutlineIcon"),{alt:h._("__JHASH__ajqT5_2IQub__JHASH__"),color:"ig-secondary-text",size:15}),j.jsx(c("IGDSBox.react"),{marginStart:2,children:j.jsx(c("BaseButton.react"),{onClick:r,xstyle:n.viewHiddenCommentsButton,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"medium",children:h._("__JHASH__klfeVaNFXrI__JHASH__")})})})]}),i&&j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"light",children:h._("__JHASH__jw4oHGOmBxA__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCommentThread.react",["cx","fbt","IGDSBox.react","IGDSSpinner.react","PolarisConfig","PolarisIGCoreButton","PolarisInteractionsLogger","PolarisPaginationUtils","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","isStringNullOrEmpty","nullthrows","polarisCommentReducer","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function l(a){var b=a.childComment,e=a.disableTimestampNav;a=a.parentProps;var f=a.analyticsContext,g=a.code,h=a.commentingDisabledForViewer,i=a.hideUserAvatar,j=a.loggedIn,l=a.onDeleteCommentClick,m=a.onLikeCountClick,n=a.parentComment,o=a.postId,p=a.postOwnerId,q=a.reducedAvatarMargin,r=a.showCommentOptionsInline;a=a.showRemoveIcon;return k.jsx(c("PolarisPostComment.react"),{analyticsContext:f,className:"_a9ye",code:g,commentingDisabledForViewer:h,commentOwnerId:b.userId,commentThreadId:n.id,disableTimestampNav:e,giphyMediaInfo:b.giphyMediaInfo,hideUserAvatar:!!i,id:b.id,isAuthorVerified:b.isAuthorVerified,isRestrictedPending:b.isRestrictedPending,likeCount:b.likeCount,likedByViewer:b.likedByViewer,loggedIn:j,onDeleteCommentClick:l,onLikeCountClick:m,postedAt:b.postedAt,postId:o,postOwnerId:p,reducedAvatarMargin:q,showCommentOptionsInline:r,showRemoveIcon:a,showRichComment:!0,text:b.text,variant:d("PolarisPostVariants").VARIANTS.flexible},b.id)}l.displayName=l.name+" [from "+f.id+"]";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasPermalinkedReplyBeenHidden:!1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b){(a.parentComment.id!==this.props.parentComment.id||a.permalinkedReplyId!==this.props.permalinkedReplyId)&&this.setState({hasPermalinkedReplyBeenHidden:!1})};e.$1=function(){var a=this.props,b=a.childCommentsCacheCanShowMoreWithoutFetch,c=a.childCommentsCanFetchMorePagination,d=a.childCommentsHasNextPage,e=a.permalinkedReply;a=a.remainingCachedShowableChildCommentIds;return e!=null&&d===!0&&b===!0&&c!==!0&&a.count()===1&&a.get(0)===e.id};e.$2=function(a){var b=this.props.childCommentsHasNextPage;return b!==!0||a&&this.$1()};e.$3=function(a){var b=this.props,c=b.analyticsContext,e=b.childCommentsCacheCanShowMoreWithoutFetch,f=b.childCommentsIsFetching,g=b.hideReplies,h=b.loadChildComments,i=b.loadChildCommentsV2,j=b.onHidePermalinkReply,k=b.parentComment,l=k.id;k=k.userId;var m=b.permalinkedReply,n=b.postId,o=b.postOwnerId;b=b.showReplies;if(f)return;else a?(g(l),d("PolarisInteractionsLogger").logInteractionAction({commentAuthorId:k,commentId:l,containerModule:c,eventName:"instagram_child_comments_collapse",mediaAuthorId:o,mediaId:n}),m!=null&&(j!=null&&j(),this.setState({hasPermalinkedReplyBeenHidden:!0}))):e?b(l):d("PolarisConfig").isLoggedIn()?i(n,l):h(l)};e.$4=function(a,b){var d=this,e=this.props,f=e.childCommentsIsFetching,g=e.replyPagerNodeRef;e=e.totalChildCommentCount;var h=this.$2(b),j=b?1:0;j=a+j;e=e-j;h&&!f?j=i._("__JHASH__l0QlXOkD0E9__JHASH__"):e<=0?j=i._("__JHASH__obWV52hm5rV__JHASH__"):j=i._("__JHASH__vGrwkOmYrh5__JHASH__",[i._param("hidden replies",e)]);return k.jsx("li",{className:"_a9yg",ref:g,children:k.jsxs(c("IGDSBox.react"),{direction:"row",marginBottom:a>0?4:0,marginTop:b?2:0,position:"relative",children:[k.jsxs(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return d.$3(h)},children:[k.jsx("div",{className:"_a9yh"}),k.jsx("span",{className:"_a9yi",children:j})]}),f&&k.jsx("div",{className:"_a9yj",children:k.jsx(c("IGDSSpinner.react"),{size:"small"})})]})})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.code,g=b.commentingDisabledForViewer,h=b.customIndentationPadding,i=b.hideUserAvatar,j=b.innerRef,m=b.isPermalinkedComment,n=b.loggedIn,o=b.onDeleteCommentClick,p=b.onLikeCountClick,q=b.parentComment,r=b.permalinkedReply,s=b.permalinkedReplyAnimating,t=b.permalinkedReplyId,u=b.permalinkedReplyNodeRef,v=b.postId,w=b.postOwnerId,x=b.reducedAvatarMargin,y=b.showCommentOptionsInline,z=b.showRemoveIcon,A=b.totalChildCommentCount;b=b.visibleChildComments;var B=this.state.hasPermalinkedReplyBeenHidden,C=null;r&&!(B&&b.count()===0)&&(C=k.jsx("div",{className:"_a9yk"+(s===!0&&!B?" _a9yl":""),ref:u,children:k.jsx(l,{childComment:r,disableTimestampNav:!0,parentProps:this.props})}));s=b.map(function(b,d){return C&&c("nullthrows")(r).id===b.id?null:k.jsx(l,{childComment:b,parentProps:a.props},d)}).filter(function(a){return a!=null});B=this.$4(s.count(),C!=null);u=h!=null?{margin:"12px 0 0 "+h+"px",width:"calc(100% - "+h+"px)"}:void 0;return k.jsxs("ul",{className:"_a9ym",ref:j,children:[k.jsx(c("PolarisPostComment.react"),{analyticsContext:e,code:f,commentingDisabledForViewer:g,commentOwnerId:q.userId,commentThreadId:q.id,disableTimestampNav:m===!0&&t==null,giphyMediaInfo:q.giphyMediaInfo,hideUserAvatar:!!i,id:q.id,isAuthorVerified:q.isAuthorVerified,isCovered:q.isCovered,isPermalinkedComment:m,isRestrictedPending:q.isRestrictedPending,likeCount:q.likeCount,likedByViewer:q.likedByViewer,loggedIn:n,onDeleteCommentClick:o,onLikeCountClick:p,postedAt:q.postedAt,postId:v,postOwnerId:w,reducedAvatarMargin:x,showCommentOptionsInline:y,showRemoveIcon:z,showRichComment:!0,text:q.text,variant:d("PolarisPostVariants").VARIANTS.flexible}),A!==0&&k.jsx("li",{children:k.jsxs("ul",{className:"_a9yo",style:u,children:[C,B,s]})})]})};return b}(k.Component);function a(a,b){var e=b.parentComment;b=b.permalinkedReplyId;var f=d("PolarisThreadedCommentSelectors").selectChildCommentsForParentIdSplitByVisibility(a,e.id),g=f.remainingCachedShowableChildCommentIds;f=f.visibleChildComments;var h=d("PolarisThreadedCommentSelectors").getTotalChildCommentCountForParentId(a,e.id);e=(e=a.threadedComments.childByParentId[e.id])!=null?e:d("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE;e=e.pagination;var i=null;c("isStringNullOrEmpty")(b)||(i=a.comments.byId.get(b));return{childCommentsCacheCanShowMoreWithoutFetch:d("PolarisPaginationUtils").getVisibleCount(e)<d("PolarisPaginationUtils").getLoadedCount(e),childCommentsCanFetchMorePagination:d("PolarisPaginationUtils").canFetchMorePagination(e),childCommentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(e),childCommentsIsFetching:d("PolarisPaginationUtils").isFetching(e),permalinkedReply:i,remainingCachedShowableChildCommentIds:g,totalChildCommentCount:h||0,visibleChildComments:f}}e={hideReplies:d("PolarisThreadedCommentActions").hideChildComments,loadChildComments:d("PolarisThreadedCommentActions").requestNextChildCommentPage,loadChildCommentsV2:d("PolarisThreadedCommentActions").requestNextChildCommentPageV2,showReplies:d("PolarisThreadedCommentActions").showChildComments};h=d("PolarisReactRedux").connect(a,e)(b);g["default"]=h}),98);
__d("PolarisThreadedCommentsLoadMoreButton.react",["fbt","IGDSBox.react","IGDSCircleAddPanoOutlineIcon","IGDSSpinner.react","PolarisIGCoreSVGIconButton","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__JVvIkhGLRc7__JHASH__");function a(a){var b=function(b){var c=a.handleLoadMoreCommentsClick,e=a.loggedIn,f=a.onLoggedOutIntentClickLoginModal,g=a.url;b.preventDefault();!e&&d("PolarisUA").isDesktop()?f(g,"post_comment_view_all"):c(g)};return j.jsxs(c("IGDSBox.react"),{justifyContent:"center",marginBottom:a.marginBottom,marginTop:a.marginTop,minHeight:40,position:"relative",children:[!a.commentsIsFetching&&j.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(a){return b(a)},children:j.jsx(c("IGDSCircleAddPanoOutlineIcon"),{alt:k})}),a.commentsIsFetching&&j.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisThreadedComments.react",["cx","IGDSBox.react","IGDSSpinner.react","PolarisBatchDOM","PolarisCommentCover.react","PolarisCommentThread.react","PolarisConfig","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNavigationActions","PolarisNoCommentsPlaceholder.react","PolarisPaginationUtils","PolarisPendingCommentState","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","PolarisThreadedCommentsLoadMoreButton.react","PolarisUA","isStringNullOrEmpty","nullthrows","polarisCommentReducer","polarisRequestIdleCallback","polarisUserSelectors","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("qex")._("1193");function l(a,b){var c=b.getBoundingClientRect().top;c=c-b.scrollTop;b=a.getBoundingClientRect().top;return b-c}function m(a){var b=a.innerRef,d=a.isPermalinkedComment,e=a.onHidePermalinkReply,f=a.parentComment,g=a.parentProps,h=a.parentState,i=a.permalinkedReplyId,k=a.permalinkedReplyNodeRef;a=a.replyPagerNodeRef;var l=g.analyticsContext,m=g.code,n=g.commentingDisabledForViewer,o=g.customIndentationPadding,p=g.handleDeleteCommentClick,q=g.hideUserAvatar,r=g.id,s=g.isDeletingComments,t=g.loggedIn,u=g.onLikeCountClick,v=g.ownerId,w=g.reducedAvatarMargin;g=g.showCommentOptionsInline;h=h.commentPermalinkAnimEnabled;return j.jsx(c("PolarisCommentThread.react"),{analyticsContext:l,code:m,commentingDisabledForViewer:n,customIndentationPadding:o,hideUserAvatar:q,innerRef:b,isPermalinkedComment:d,loggedIn:t,onDeleteCommentClick:p,onHidePermalinkReply:e,onLikeCountClick:u,parentComment:f,permalinkedReplyAnimating:h,permalinkedReplyId:i,permalinkedReplyNodeRef:k,postId:r,postOwnerId:v,reducedAvatarMargin:w,replyPagerNodeRef:a,showCommentOptionsInline:g,showRemoveIcon:s})}m.displayName=m.name+" [from "+f.id+"]";e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=j.createRef(),c.$3=j.createRef(),c.$4=j.createRef(),c.$5=[],c.state={commentPermalinkAnimEnabled:!1,isAutoscrollingCommentPermalink:!1,replyPermalinkLastHideTime:null,showHiddenComments:!1},c.$13=function(a){a=c.props;var b=a.analyticsContext,e=a.code,f=a.hasRankedComments,g=a.id,h=a.loadMore,i=a.mediaType;a=a.ownerId;h(g,f,e);d("PolarisInteractionsLogger").logInteractionAction({containerModule:b,eventName:"instagram_child_comments_load_more",mediaAuthorId:a,mediaId:g,mediaType:i})},c.$14=function(){c.setState({showHiddenComments:!0})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$6=function(){return this.$2.current||null};e.$7=function(){return this.$3.current||null};e.$8=function(){return this.$4.current||null};e.$9=function(a,b,c,e){var f=this;this.setState({commentPermalinkAnimEnabled:!1,isAutoscrollingCommentPermalink:!0});d("PolarisBatchDOM").measure(function(){var g,h=l(b,a);if(c){var i=l(c,a),j=c.getBoundingClientRect().height,k=a.getBoundingClientRect().height;k=Math.max(k-j,0);g=Math.max(h,i-k)}else g=h;d("PolarisBatchDOM").mutate(function(){a.scrollTop=g;var b=function(){f.setState({commentPermalinkAnimEnabled:!0,isAutoscrollingCommentPermalink:!1})};e?d("polarisRequestIdleCallback").requestIdleCallback(function(){b()}):b()})})};e.componentDidMount=function(){var a=this.$1;if(!a)return;var b=this.$6();if(b)this.$9(a,b,this.$7(),!0);else if(!this.props.hasRankedComments){if(d("PolarisUA").isDesktop())return;a.scrollTop=a.scrollHeight}};e.componentDidUpdate=function(a,b,c){var d=this.$1;if(!d)return;var e=this.$6();if(e)if(this.state.isAutoscrollingCommentPermalink)return;else if(this.props.permalinkedCommentId!==a.permalinkedCommentId||this.props.permalinkedReplyId!==a.permalinkedReplyId||this.props.permalinkedComment!==a.permalinkedComment){this.$9(d,e,this.$7(),!1);return}this.$10(a,b,c,d,e)};e.$10=function(a,b,c,e,f){var g=this,h=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight;c=c||{};var i=c.newCommentCachedOffset,j=a.id===this.props.id&&a.permalinkedCommentId===this.props.permalinkedCommentId&&a.permalinkedReplyId===this.props.permalinkedReplyId&&b.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,k=this.$8();h&&!a.commentWasReply&&(this.$5[0]&&this.$5[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}));d("PolarisBatchDOM").measure(function(){var b=null;h&&!a.commentWasReply&&!g.props.hasRankedComments?b=e.scrollHeight:i!=null?b=e.scrollHeight-i:j&&f&&k&&(b=g.$11(e,f,k));d("PolarisBatchDOM").mutate(function(){b!=null&&(e.scrollTop=b)})})};e.$11=function(a,b,c){c=l(c,a);b=l(b,a);var d=6;c=Math.max(c-d,b);return a.scrollTop>c?c:null};e.getSnapshotBeforeUpdate=function(a,b){b=a.comments;var c=this.props.comments,d=this.$1;return d&&a.id===this.props.id&&c.count()>b.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:d.scrollHeight-d.scrollTop}:null};e.$12=function(){this.setState({replyPermalinkLastHideTime:new Date().valueOf()})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.captionAndTitle,g=b.captionCreatedAt,h=b.captionIsEdited,i=b.className,l=b.commentCoverSeenCounter,n=b.comments,o=b.commentsDisabled,p=b.commentsHasNextPage,q=b.disableScroll,r=b.hasCoveredComments,s=b.hasRankedComments,t=b.hideUserAvatar,u=b.id,v=b.initialCommentsLoading,w=b.isOwnerVerified,x=b.loggedIn,y=b.mediaType,z=b.ownerId,A=b.permalinkedComment,B=b.permalinkedReplyId,C=b.postedAt,D=b.reducedAvatarMargin,E=b.showCommentOptionsInline;b=b.showPagerBelowComments;p=o!==!0&&Boolean(p);v=v&&n.size===0;if((f==null||f==="")&&n.count()===0&&!p&&!v)return d("PolarisUA").isDesktop()?j.jsx("div",{className:i,children:j.jsx(c("PolarisNoCommentsPlaceholder.react"),{})}):j.jsx("div",{className:i});var F=null,G=null,H=null;!v&&o!=null&&(F=A?j.jsx("div",{className:"_a9z3"+(this.state.commentPermalinkAnimEnabled&&!B?" _a9yl":""),ref:this.$2,children:j.jsx(m,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return a.$12()},parentComment:A,parentProps:this.props,parentState:this.state,permalinkedReplyId:B,permalinkedReplyNodeRef:this.$3,replyPagerNodeRef:this.$4})}):null,G=n.map(function(b,c){if(A&&b.id===A.id)return null;return k===!0&&b.isCovered===!0?null:j.jsx(m,{innerRef:function(b){return a.$5[c]=b},parentComment:b,parentProps:a.props,parentState:a.state},c)}).filter(function(a){return!!a}),H=n.filter(function(a){return a.isCovered===!0}).map(function(b,c){return j.jsx(m,{innerRef:function(b){return a.$5[c]=b},parentComment:b,parentProps:a.props,parentState:a.state},c)}));o=null;c("isStringNullOrEmpty")(f)||(o=j.jsx(c("PolarisPostComment.react"),{analyticsContext:e,captionCreatedAt:g,className:(d("PolarisUA").isMobile()?"_a9z4":"")+" _a9z5",commentOwnerId:z,hideUserAvatar:!!t,isAuthorVerified:!!w,isCaption:!0,isEdited:!!h,isRestrictedPending:!1,loggedIn:x,mediaType:y,postedAt:c("nullthrows")(C),postId:u,postOwnerId:z,reducedAvatarMargin:D,showCommentOptionsInline:E,showRemoveIcon:!1,showRichComment:!0,text:f,variant:d("PolarisPostVariants").VARIANTS.flexible},"captionAndTitle"));B=p&&this.renderLoadMoreCommentsLink(F!=null);n=s||b===!0;return j.jsx("div",{className:i,children:j.jsxs("ul",{className:"_a9z6"+(q?" _a9z7":"")+(F!==null?" _a9z8":"")+(o===null?" _a9z9":"")+(!B||n?" _a9za":""),ref:function(b){return a.$1=b},children:[o,F,v?j.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative",children:j.jsx(c("IGDSSpinner.react"),{})}):null,!n&&B,!d("PolarisConfig").isLoggedOutFRXEligible()&&G,n&&B,k===!0&&!B&&r&&!this.state.showHiddenComments&&j.jsx(c("PolarisCommentCover.react"),{nuxSeenCounter:l,onClick:this.$14,postId:u,postOwnerId:z}),k===!0&&this.state.showHiddenComments&&H]})})};e.renderLoadMoreCommentsLink=function(a){var b=this.props,e=b.code,f=b.commentsIsFetching,g=b.hasRankedComments,h=b.loggedIn;b=b.onLoggedOutIntentClickLoginModal;e=d("PolarisLinkBuilder").buildMediaCommentsLink(c("nullthrows")(e),d("PolarisUA").isMobile());var i;g?(g=0,i=0):a?(g=2,i=2):(g=0,i=4);return j.jsx("li",{children:j.jsx(c("PolarisThreadedCommentsLoadMoreButton.react"),{commentsIsFetching:f,handleLoadMoreCommentsClick:this.$13,loggedIn:h,marginBottom:i,marginTop:g,onLoggedOutIntentClickLoginModal:b,url:e})})};return b}(j.PureComponent);function a(a,b){var c,e=b.id,f=b.ownerId;b=b.permalinkedCommentId;var g=d("PolarisThreadedCommentSelectors").getThreadedCommentsLoading(a,e),h=d("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,e);c=(c=a.threadedComments.parentByPostId[e])!=null?c:d("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE;var i=c.count;c=c.pagination;e=(e=a.pendingComments[e])!=null?e:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT;var j=null;!g&&b!=null&&b!==""&&(j=a.comments.byId.get(b));return{commentCoverSeenCounter:a.comments.commentCoverSeenCounter,comments:h,commentSaveIsInFlight:e.committing,commentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(c),commentsIsFetching:d("PolarisPaginationUtils").isFetching(c),commentsTotalCount:i!=null?i:0,commentWasReply:e.repliedToCommentId!=null,hasCoveredComments:h.some(function(a){return a.isCovered===!0}),initialCommentsLoading:g,isOwnerVerified:d("polarisUserSelectors").getUserById(a,f).isVerified,permalinkedComment:j}}function b(a){return{loadMore:function(b,c,e){d("PolarisConfig").isLoggedIn()?a(d("PolarisThreadedCommentActions").requestNextParentCommentPageV2(b,c)):a(d("PolarisThreadedCommentActions").requestNextParentCommentPage(b,c,e))},onLoggedOutIntentClickLoginModal:function(b,c){a(d("PolarisNavigationActions").openLoginModal("feature_wall",b,c,null,b))}}}h=d("PolarisReactRedux").connect(a,b)(e);g["default"]=h}),98);
__d("PolarisThreadedCommentsLoader.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisErrorBoundary.react","PolarisMonitorErrors","PolarisReactRedux","PolarisThreadedCommentActions","react","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=a.children,e=a.initialCommentsQuery;a=a.postId;c("usePolarisGetQuerySetup")(e,d("PolarisThreadedCommentActions").setupPostComments(a));return b}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.initialCommentsQuery,f=a.postId,g=d("PolarisReactRedux").useDispatch();a=function(a){g(d("PolarisThreadedCommentActions").initialCommentsError(f)),d("PolarisMonitorErrors").logError(a)};return i.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(){return null},onError:a,children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative",children:i.jsx(c("IGDSSpinner.react"),{})}),children:i.jsx(j,{initialCommentsQuery:e,postId:f,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostComments.react",["PolarisDeleteCommentModal.react","PolarisPostRemoveCommentsSelectors","PolarisPostVariants","PolarisPreviewComments.react","PolarisReactRedux","PolarisThreadedComments.react","PolarisThreadedCommentsLoader.react","PolarisUA","nullthrows","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={commentToDeleteId:null,showDeleteCommentModal:!1},c.$1=function(a){c.setState({commentToDeleteId:a,showDeleteCommentModal:!0})},c.$2=function(){c.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$3=function(){return this.props.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile()};e.render=function(){var a=this.props,b=a.analyticsContext,d=a.caption,e=a.captionCreatedAt,f=a.captionIsEdited,g=a.className,h=a.code,j=a.commentingDisabledForViewer,k=a.commentsAreStacked,l=a.commentsDisabled,m=a.customIndentationPadding,n=a.hasRankedComments,o=a.hideUserAvatar,p=a.id,q=a.initialCommentsQuery,r=a.mediaType,s=a.onLikeCountClick,t=a.ownerId,u=a.permalinkedCommentId,v=a.permalinkedReplyId,w=a.postedAt,x=a.reducedAvatarMargin,y=a.showCommentOptionsInline,z=a.showRemoveCommentIcons,A=a.variant;a=a.viewerId;a=a!=null;this.$3()?(e=i.jsx(c("PolarisThreadedComments.react"),{analyticsContext:b,captionAndTitle:d,captionCreatedAt:e,captionIsEdited:f,className:g,code:h,commentingDisabledForViewer:j,commentsDisabled:l,customIndentationPadding:m,handleDeleteCommentClick:this.$1,hasRankedComments:n,hideUserAvatar:!!o,id:p,isDeletingComments:z,loggedIn:a,mediaType:r,onLikeCountClick:s,ownerId:t,permalinkedCommentId:u,permalinkedReplyId:v,postedAt:w,reducedAvatarMargin:x,showCommentOptionsInline:y}),q!=null&&(e=i.jsx(c("PolarisThreadedCommentsLoader.react"),{initialCommentsQuery:q,postId:p,children:e}))):e=i.jsx(c("PolarisPreviewComments.react"),{captionAndTitle:d,captionIsEdited:f,className:g,code:h,commentsAreStacked:k,commentsDisabled:l,handleDeleteCommentClick:this.$1,id:p,loggedIn:a,mediaType:r,ownerId:t,postedAt:w,showRemoveCommentIcons:z,variant:A});return i.jsxs(i.Fragment,{children:[e,this.state.showDeleteCommentModal&&i.jsx(c("PolarisDeleteCommentModal.react"),{analyticsContext:b,commentId:c("nullthrows")(this.state.commentToDeleteId),onClose:this.$2,postId:p})]})};return b}(i.PureComponent);b.defaultProps={variant:d("PolarisPostVariants").VARIANTS.flexible};function a(a){return{showRemoveCommentIcons:d("PolarisPostRemoveCommentsSelectors").getPostRemoveCommentsIsVisible(a),viewerId:(a=d("polarisUserSelectors").getViewer__DEPRECATED(a))==null?void 0:a.id}}e=d("PolarisReactRedux").connect(a)(b);g["default"]=e}),98);
__d("PolarisPostPreviewCommentsPicker.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisPanavisionQEHelpers","PolarisPostCaptionTranslationPrompt.react","PolarisPostComments.react","PolarisPostFastPreviewCaption.react","PolarisPostFastPreviewCommentsList.react","PolarisPostVariants","PolarisUA","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=c("usePolarisIsOnFeedPage")(),f=c("usePolarisIsOnAdsActivityPage")();e=(e||f)&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();f=a.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile();if(f)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{className:a.className,children:i.jsx(c("IGDSSpinner.react"),{position:"absolute"})}),children:i.jsx(c("PolarisPostComments.react"),babelHelpers["extends"]({},a))});f=c("xigRequireInterop")(b("PolarisPostFastPreviewCommentsList.react"))["default"];var g=c("xigRequireInterop")(b("PolarisPostFastPreviewCaption.react"))["default"];return i.jsx("div",{className:a.className,children:i.jsxs(c("IGDSBox.react"),{position:"relative",children:[i.jsx(g,{inModal:a.inModal,postId:a.id}),e&&i.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,marginBottom:2,postId:a.id}),i.jsx(f,{inModal:a.inModal,postId:a.id})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("polarisPostModalHelpers",["fbt","justknobx","polarisUnexpected"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1032,j=55,k=500,l=250,m=h._("__JHASH__l_M0CG6unzO__JHASH__");h=h._("__JHASH__wVnrOsb2lsR__JHASH__");var n=-1,o=1;function a(a){var b="";switch(a){case"profilePage":case"selfProfilePage":b="profilePageModal";break;case"locationPage":b="locationPageModal";break;case"tagPage":b="tagPageModal";break;case"exploreLandingPage":b="discoverMediaPageModal";break;case"GuidePage":b="guidePageModal";break;case"DirectThreadPage":b="directThreadPageModal";break;case"ClipsAudioPage":b="clipsAudioPageModal";break;case"feedPage":b="feedPageModal";break;case"KeywordSearchExplorePage":b="keywordSearchExplorePageModal";break;case"adsActivityFeed":b="adActivityFeedModal";break;case"ExploreSERPPage":b="ExploreSERPPageModal";break;default:c("polarisUnexpected")("Unexpected analytics context: "+a)}return b}function b(a){a=a.match(new RegExp("^(.+/)(saved)/(.+)/(.+)/"));return a!=null?a[4]:null}function d(a){return!!a.match(new RegExp("/p/"))}function e(a){a=a.match(new RegExp("/([^/]+)/[^/]*$"));return a?a[1]:null}function p(a,b,c,d){if(a.height>a.width){var e=c/a.height;d.style.maxHeight=c;d.style.maxWidth=a.width*e;d.style.aspectRatio=a.width+" / "+a.height}else b&&(d.style.aspectRatio="1"),d.style.maxHeight=c,d.style.maxWidth=c;return d}function q(a,b,c,d){c.style.maxWidth=b;b=b/a.width;c.style.maxHeight=a.height*b+d;c.style.aspectRatio=a.width*b+" / "+(a.height*b+d);return c}function f(a){var b=a.dimensions,d=a.footerHeight;d=d===void 0?j:d;var e=a.viewportHeight,f=a.viewportWidth,g=a.hasSidebarInRedesign;a=a.hasFooter;a=a===void 0?!1:a;if(b==null||e===0||f===0)return null;var h={style:{maxHeight:0,maxWidth:0}},m=f-64*2-(g?k:0);if(b){var n=e>f&&a===!0?m:g?e-24*2:e-24*2-l;n>i&&c("justknobx")._("64")&&(n=i);if(a===!1)h=p(b,g,n,h);else{a=b.height;a=(n-d)/a;h.style.maxHeight=n;!g?h=q(b,n,h,d):b.height>=b.width?e>f?h=q(b,n,h,d):b.width*a>m?h=q(b,m,h,d):(h.style.maxHeight=n,h.style.aspectRatio=b.width*a+" / "+(b.height*a+d),h.style.maxWidth=b.width*a):(h.style.aspectRatio=b.width*a>b.height*a+d?"1":b.width*a+" / "+(b.height*a+d),h.style.maxWidth=e>f?n:b.width*a>b.height*a+d?n:b.width*a)}g&&(h.style.flexBasis=h.style.maxWidth)}return h}g.PREVIOUS_ARROW_TITLE=m;g.NEXT_ARROW_TITLE=h;g.LEFT_DELTA=n;g.RIGHT_DELTA=o;g.getModalPageIdFromAnalyticsContext=a;g.getCollectionIdFromPath=b;g.isPostUrl=d;g.getPostCodeFromPath=e;g.getMediaContainerProps=f}),98);
__d("PolarisPostPageRouteReferrerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({referrerTracePolicy:null});g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeDeleteThenInsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeNotify:function(a){var b=a.newValue,c=a.prevValue;a=a.tableName;return{newValue:d("ReStoreVaulting").maybeVaultDbRow(b,a),prevValue:d("ReStoreVaulting").maybeVaultDbRow(c,a)}},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeUpsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("LSDatabaseProviderType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.persistenceTypes)}function g(a){return a.includes("indexeddb")}f.isProviderPersisted=a;f.hasPersistentType=g}),66);
__d("LSStorage",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){a=a.tableNames[b];b=a.indexes;a=a.primaryKeyIds;a=e==null?a:b[e];return a.reduceRight(function(a,b){if(d[b]!==void 0||e!=null)return{hd:d[b],tl:a};throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")},0)}function b(a,b){while(a!==0&&b!==0){if(a.hd!==b.hd&&!(Array.isArray(a.hd)&&Array.isArray(b.hd)&&a.hd.length===b.hd.length&&a.hd.every(function(a,c){return a===b.hd[c]})))return!1;a=a.tl;b=b.tl}return a===0&&b===0}g.searchKey=a;g.areKeysEqual=b}),98);
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSTableDefaults",["I64MigrationHelper"],(function(a,b,c,d,e,f){e.exports={sync_groups:{syncStatus:(a=b("I64MigrationHelper")).cast([0,0]),sendSyncParams:!1,minTimeToSyncTimestampMs:a.cast([0,0]),canIgnoreTimestamp:!1,priority:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),lastSyncCompletedTimestampMs:a.cast([0,0]),syncChannel:a.cast([0,1])},pending_tasks:{enqueueTimestampMs:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},pending_fire_and_forget_tasks:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},contacts:{isMessengerUser:!1,isMemorialized:!1,blockedByViewerStatus:a.cast([0,0]),rank:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),canViewerMessage:!0,gender:a.cast([0,0]),authorityLevel:a.cast([0,0]),optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),isEmployee:!1},ig_contact_info:{e2eeEligibility:a.cast([0,0])},reactions:{timestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0])},threads:{lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),isAdminSnippet:!1,ongoingCallState:a.cast([0,0]),snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,capabilities:a.cast([0,0]),isCustomThreadPicture:!1,isDisappearingMode:!1,unreadDisappearingMessageCount:a.cast([0,0]),authorityLevel:a.cast([0,0]),capabilities2:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),unsendLimitMs:a.cast([0,0]),threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),capabilities3:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),isReadReceiptsDisabled:!1,readReceiptsDisabledV2:a.cast([0,0]),capabilities4:a.cast([0,0])},threads_ranges_v2__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},messages:{timestampMs:a.cast([0,0]),primarySortKey:a.cast([0,0]),secondarySortKey:a.cast([0,0]),isAdminMessage:!1,sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),isUnsent:!1,replyStatus:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),hasQuickReplies:!1,textHasLinks:!1,viewFlags:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),quickReplyType:a.cast([0,0]),authorityLevel:a.cast([0,0]),unsentTimestampMs:a.cast([0,0]),isCollapsed:!1,messageRenderingType:a.cast([0,0])},messages_ranges_v2__generated:{isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},participants:{readWatermarkTimestampMs:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),threadRoles:a.cast([0,0])},attachments:{timestampMs:a.cast([0,0]),attachmentType:a.cast([0,0]),hasMedia:!1,isSharable:!1,hasXma:!1,attachmentIndex:a.cast([0,0]),authorityLevel:a.cast([0,0])},attachments_ranges_v2__generated:{mediaGroup:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},attachment_items:{attachmentIndex:a.cast([0,0])},group_membership_approval_requests:{authorityLevel:a.cast([0,0])},admin_message_ctas:{timestampMs:a.cast([0,0]),showAdChoiceIcon:!1},thread_nullstate:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},messages_status:{timestampMs:a.cast([0,0])},polls:{pollType:a.cast([0,0])},poll_options_v2:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},filtered_threads_ranges_v3__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,folderName:"inbox",secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},community_folders:{capabilities:a.cast([0,0]),notificationMutedUntil:a.cast([0,0]),inviteStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0])},community_members:{source:a.cast([0,0]),adminActions:a.cast([0,0]),contactCapabilities:a.cast([0,0]),channelBadges:a.cast([0,0]),threadRoles:a.cast([0,0]),requestId:""},inbox_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_direct_invites_presets:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},sync_group_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_chat_polls:{pollType:a.cast([0,0])},community_chat_poll_options:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},reactions_v2:{viewerReactionTimestampMs:a.cast([0,0]),lastUpdatedTimestampMs:a.cast([0,0])},group_invitations_pending:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},thread_label_mappings:{sortKey:a.cast([0,0])},inbox_view_state:{value:""},inbox_view_state_v2:{value:""},discoverable_chat_participants:{source:a.cast([0,0])},roll_calls:{viewerHasContributed:!1,viewerCanEditPrompt:!1,isBlurred:!1,canViewWithoutContributing:!1},roll_call_contributions_v2:{contributorId:a.cast([0,0]),contributionSource:a.cast([0,0])},shared_albums:{lastActivityTimestampMs:a.cast([0,0]),contributionCount:a.cast([0,0])},shared_album_contributions:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},search_queries:{surfaceType:a.cast([0,1])},universal_search_recent_searches:{lastAccessedTimestampMs:a.cast([0,0])},cm_search_nullstate_metadata:{score:0},contact_upload_settings:{authorityLevel:a.cast([0,0])},presence_settings:{isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1,hasConvertedToViewSideSettings:!1},video_chat_links_joining:{canAnonymousUsersJoin:a.cast([0,0])},notification_settings:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},avatar_settings:{enableAvatarHotlike:!1},messaging_privacy_settings:{readReceiptsDisabled:a.cast([0,0])},rtc_call_events:{isProcessed:!1},transaction_history:{timestampMs:a.cast([0,0])},thread_themes:{isDeprecated:!1,iconUrl:"",iconUrlFallback:"",backgroundUrl:""},ranking_scores:{score:a.cast([0,0]),scoreIndex:a.cast([0,0])},story_buckets:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},stories:{authorityLevel:a.cast([0,0])},story_viewers:{interactionType:a.cast([0,1]),authorityLevel:a.cast([0,0])},story_reactions:{authorityLevel:a.cast([0,0])},story_ad_unit:{shouldShowAdChoice:!1},story_overlays:{authorityLevel:a.cast([0,0])},rooms:{notificationMutedUntilMs:a.cast([0,0])},media_staging:{progress:a.cast([0,0])},client_messages:{textSize:a.cast([0,0]),sendStatus:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isReplyOnly:!1,messageContentType:a.cast([0,0]),messageContentSubtype:a.cast([0,0]),messageSource:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),replyStatus:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),isForwarded:!1,isReadonly:!1,disabledActionsReason:a.cast([0,0]),shouldPersist:!1,shouldHideInSnippet:!1},client_participants:{isPending:!1,capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),readActionTsMs:a.cast([0,0])},client_threads:{isAdminSnippet:!1,isHotlikeSnippet:!1,groupMemberAddMode:a.cast([0,0]),capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isPending:!1,isShadowThread:!1,pinnedMessagesCount:a.cast([0,0])},data_trace_meta:{initTimestampMs:a.cast([0,0]),foregroundTimestampMs:a.cast([0,0]),traceType:a.cast([0,0]),shouldFlush:!1},data_trace_addon:{timestampMs:a.cast([0,0])},secure_encrypted_backups_client_state:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},secure_encrypted_backups_epochs:{authorityLevel:a.cast([0,0])},encrypted_backups:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},secure_encrypted_backups_generated_recovery_code:{virtualDeviceType:a.cast([0,1])},encrypted_backups_virtual_devices:{virtualDeviceType:a.cast([0,1]),removalStatus:a.cast([0,1]),requiresHsmMigration:!1},encrypted_backups_metadata:{authorityLevel:a.cast([0,0])},cutover_threads:{isMigrated:!1,showOpenMessageHistory:!1},persistent_menu_ctas:{ctaType:"fallback"}}}),null);
__d("MWTabNotifierWhenPDBEnabled",["cr:3107"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3107")}),98);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";e="_db_schema_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d;g.schemaVersionTableName=e}),98);
__d("ReStoreUtils",["LSTableDefaults","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[],c=(yield a.next());while(!c.done)b.push(c.value),c=(yield a.next());return b});return h.apply(this,arguments)}function d(a,b){var d=c("LSTableDefaults")[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers["extends"]({},a))}g.collectIterator=a;g.appendDefaultValues=d}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","LSTableDefaults","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a=(yield h(a,b));b={};for(d in d.tableNames){var e=c("LSTableDefaults")[d];if(e!=null)for(var f in e){var g;g=(g=a[d])==null?void 0:g.has(f);if(!g){b[d]=(g=b[d])!=null?g:{};b[d][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(b in b){var e=Object.keys(c("LSTableDefaults")[b]||{});e={columns:e,tableName:b};yield a.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var e=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(c,a,b));try{for(var f in b){var g=a.table(f).entries(c),h=(yield g.next());while(!h.done){var i=babelHelpers["extends"]({},h.value[1]);i=d("ReStoreUtils").appendDefaultValues(i,f);yield a.table(f).put(i);h=(yield g.next())}}yield l(a,b);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){e(a,"setDefaultValues")}}catch(a){e(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{afterEntriesNext:a.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterGet:a.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),beforeAdd:a.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers["extends"]({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeDeleteThenInsert:a.reduce(function(a,b){var c=b.onBeforeDeleteThenInsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers["extends"]({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeNotify:a.reduce(function(a,b){var c=b.onBeforeNotify;return c?function(b){var d=a(b),e=d.newValue;d=d.prevValue;return c({newValue:e,prevValue:d,tableName:b.tableName})}:a},function(a){var b=a.newValue;a=a.prevValue;return{newValue:b,prevValue:a}}),beforePut:a.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers["extends"]({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeUpsert:a.reduce(function(a,b){var c=b.onBeforeUpsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers["extends"]({},b,{value:a}))})}:a},function(a){a=a.value;return a})}}g.createHookManager=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string",tableName:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"?null:{data:e,indexName:a.indexName,tableName:a.tableName}}function b(a,b){if(a==null)return!0;if(a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}function d(a){return{indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName}}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreIndexMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreIndexMetadata").indicesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]={index:e.data,key:b}}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j=f.indexes[g];i=(i=a[e])==null?void 0:i[g];if(d("ReStoreIndexMetadata").indicesDiffer(i==null?void 0:i.index,j)){b[e]=(i=b[e])!=null?i:{};b[e][g]=j}}}i={};for(j in a){g=a[j];for(f in g){var k;e=g[f];k=(k=c.tableNames[j])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){i[j]=(k=i[j])!=null?k:{};i[j][f]=e}}}return{toRemove:i,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f];g={data:g,indexName:f,tableName:c};yield a.table(d("ReStoreIndexMetadata").indicesTableName).put(d("ReStoreIndexMetadata").indexDataToValue(g))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f].key;yield a.table(d("ReStoreIndexMetadata").indicesTableName)["delete"](g)}}});return o.apply(this,arguments)}function a(a,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(f,a,c).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=b.toRemove;b=b.toUpdate;var g=Array.from(new Set([].concat(Object.keys(b),Object.keys(f))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:g.length},string_array:{index_migration_rebuilt_tables:g}});for(g of g)if(c.tableNames[g]!=null){var h;h=Array.from(new Set([].concat(Object.keys((h=b[g])!=null?h:{}),Object.keys((h=f[g])!=null?h:{}))));yield e(g,h)}yield l(a,b);yield n(a,f);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return f.apply(this,arguments)}}(),function(a){return g(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return g(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStorePersistence",["FBLogger","PromiseOrValue","asyncToGeneratorRuntime","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={SENTINEL_DELETED:1};function k(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function l(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=Array.isArray(e)?[].concat(e):e;return a}function m(a,b){b===void 0&&(b=j);return a===b}function a(a){var e;return{clearCache:a.clearCache,close:a.close,createTransaction:function(e){var f=new Map(),g=!1;function n(){if(g)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}return{close:function(){g=!0},flush:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b===void 0&&(b={upgrade:!1}),yield a.flush(f,b),g=!0});function d(a){return c.apply(this,arguments)}return d}(),table:function(b){function g(c,d){n();var f=p.get(d);if(m(f))return void 0;return f!==void 0?f:a.get(c,b,d,e)}function o(c,f){return(i||(i=d("PromiseOrValue"))).map(g(c,f),function(c){if(c===void 0){var d=p.get(f);a.logError==null?void 0:a.logError(b,e,"dbCorruption",{deletedInThisTxn:m(d)?"true":"false",id:JSON.stringify(f)||""})}return c})}var p=k(f,b,function(){return new Map()});function q(a,b){return{read:function*(b){b=g(a,b);return(h||(h=c("isPromise")))(b)?yield b:b},readExn:function*(b){b=o(a,b);return(h||(h=c("isPromise")))(b)?yield b:b},readHeader:function*(){var d=g(a,b);return(h||(h=c("isPromise")))(d)?yield d:d},remove:function*(a){n(),p.set(a,j)},removeHeader:function*(){n(),p.set(b,j)},write:function*(a,b){n(),p.set(a,b)},writeHeader:function*(a){n(),p.set(b,a)},writeNew:function*(b){var e=(i||(i=d("PromiseOrValue"))).map(g(a,"nextId"),function(a){a===void 0&&(a=0);p.set("nextId",a+1);p.set(a,b);return a});return(h||(h=c("isPromise")))(e)?yield e:e}}}return{getBPlusTreeStore:q,incrementSeed:function*(a,b){a=g(a,"seed");a=(a=(h||(h=c("isPromise")))(a)?yield a:a)!=null?a:0;p.set("seed",Math.max(a,b||0)+1);return b===void 0?a:b},readData:function*(a,b){a=g(a,b);return(h||(h=c("isPromise")))(a)?yield a:a},readDataExn:function*(a,b){a=o(a,b);return(h||(h=c("isPromise")))(a)?yield a:a},readSeed:function(a){return(i||(i=d("PromiseOrValue"))).map(g(a,"seed"),function(a){a===void 0&&(a=0);return a})},remove:function(a,b){n(),p.set(b,j)},writeData:function(a,b,c){n(),p.set(b,l(c))},writeNewData:function*(a,b){a=g(a,"nextId");a=(a=(h||(h=c("isPromise")))(a)?yield a:a)!=null?a:0;p.set("nextId",a+1);p.set(a,l(b));return a}}},types:a.types}},isClosed:a.isClosed||function(){return!1},logError:a.logError,queueCommitWork:(e=a.queueCommitWork)!=null?e:function(a){return a()},runExclusively:a.runExclusively}}g.sentinelDeleted=j;g.isDeletedValue=m;g.createDbStore=a}),98);
__d("ReStoreTransactionLock",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.waitFor=null;a!=null&&(this.waitFor=a.then(function(a){return b.waitFor=null}))}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();b=function(){function a(){this.lock=null}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this,d=this.lock;if(d==null){var e=a("\ud83d\udd12");if((h||(h=c("isPromise")))(e))d=e;else return e}else d=d.then(function(){return a("\ud83d\udd12")});var f=d["finally"](function(a){b.lock===f&&(b.lock=null);return a});this.lock=f;return f};return a}();g.WaitForPromiseLock=a;g.ReStoreTransactionLock=b}),98);
__d("IntervalList",["FBLogger","LSDbKeyComparer","ReQLBounds"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* k(a){var f=a,i={hd:(h||(h=d("LSDbKeyComparer"))).MAX_KEY,tl:0},j=0;while(f!==0&&e.size){j++;var k=f,l=f.tl;f.tl=j<b?i:0;try{var m=e.get(JSON.stringify(a));if(m!=null)for(m of m)yield m}finally{k.tl=l}f=k.tl}for(m of c.entries()){l=m[0];k=m[1];c.has(l)&&g(a,k)&&(yield l)}}function l(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=j(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function m(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify((i||(i=d("ReQLBounds"))).nextKey(a.gte,b)))===JSON.stringify(a.lte)){var j=e.get(h);j==null&&(j=new Set(),e.set(h,j));j.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":l,findIntersecting:k,set:m}}g["default"]=a}),98);
__d("killswitchMessengerWebPersistedDB",["killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("killswitch")("MESSENGER_WEB_PERSISTED_DB")}g.check=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","LSDatabaseProviderType","LSDbKeyComparer","LSStorage","MWTabNotifierWhenPDBEnabled","Promise","PromiseOrValue","asyncToGeneratorRuntime","killswitchMessengerWebPersistedDB","nullthrows","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).startTransition;function a(a,e,f,g){var l;(i||(i=c("ExecutionEnvironment"))).isInBrowser&&c("MWTabNotifierWhenPDBEnabled")!=null&&(l=c("MWTabNotifierWhenPDBEnabled")(g));var n=d("LSDatabaseProviderType").hasPersistentType(f),o=new Map(),p=new Map();function q(a,b){return(j||(j=d("LSDbKeyComparer"))).compareValue(a,b)===0}function r(a,b,c,d){a=(a=B.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g!==0;h++){if(g&1){var i=a[(f<<5)+h];if(!q(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function s(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function t(a,c,e,f,g){var i=Array.from(c(f));if(g.operation==="put"&&g.prevValue!=null){c=function(){var b=g.prevValue,c=[];for(var h of i){h[0];var j=h[1];j!=null&&j.forEach(function(a,b){c[b]=((b=c[b])!=null?b:0)|a})}var l=r(a,c,b,g.value);return{v:(k||(k=d("PromiseOrValue"))).all(i.map(function(a){var b=a[0];a=a[1];if(a==null||s(l,a))return b(f,g,e)}))}}();if(typeof c==="object")return c.v}return(h||(h=b("Promise"))).all(i.map(function(a){var b=a[0];a[1];return b(f,g,e)}))}function u(b){return c("nullthrows")((o.has(b)?o:o.set(b,[c("IntervalList")((j||(j=d("LSDbKeyComparer"))).compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function v(b,e){var f=u(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")((j||(j=d("LSDbKeyComparer"))).compareKey,a.tableNames[b].indexes[e].length))).get(e))}function w(b,e,f,g,h,i){var l=function(a,c){return t(e,b.findIntersecting,i,a,c)},m=f==null?void 0:d("LSStorage").searchKey(a,e,f,h),n=g==null?void 0:d("LSStorage").searchKey(a,e,g,h);if(n==null&&m!=null)return l(m,{operation:"delete",prevValue:f});if(m==null&&n!=null)return l(n,{operation:"add",value:c("nullthrows")(g)});if(m!=null&&n!=null)return(j||(j=d("LSDbKeyComparer"))).compareKey(m,n)===0?l(m,{operation:"put",prevValue:f,value:c("nullthrows")(g)}):(k||(k=d("PromiseOrValue"))).map(l(m,{operation:"delete",prevValue:f}),function(){return l(n,{operation:"add",value:c("nullthrows")(g)})})}function x(a,b,c,e){var f=u(a),g=f[0],h=f[1];return(k||(k=d("PromiseOrValue"))).map(w(g,a,b,c,null,e),function(){return(k||(k=d("PromiseOrValue"))).all(Array.from(h.entries()).map(function(d){var f=d[0];d=d[1];return w(d,a,b,c,f,e)}).filter(function(a){return a!=null}))})}function y(){m(function(){return p.forEach(function(a){return a()})})}function z(a,b){function f(){var d=new Map();try{for(var f of a){var g=f[0],h=f[1];e(b,g)&&d.set(g,h)}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(d)}if((i||(i=c("ExecutionEnvironment"))).isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&l!=null&&n)){f=f();if(f.length===0)return;l.postMessage(b,f)}}(i||(i=c("ExecutionEnvironment"))).isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&l!=null&&n&&l.onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap(),c=a.values();yield (k||(k=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];var f=a.values();return(k||(k=d("PromiseOrValue"))).map(k.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var c=a[0];a=a[1];return(k||(k=d("PromiseOrValue"))).map(x(e,c,a,b),function(){return{action:"continue",value:f.next()}})},f.next()),function(){return{action:"continue",value:c.next()}})},c.next());y()})())}));var A=new Map(),B=new Map();function C(a,b){if(b==null)return null;var c=A.get(a);c==null&&(c=new Map(),A.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=B.get(a);f==null&&(f=[],B.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){o.clear(),p.clear()},notifyCommit:y,notifyTableAndIndexSubscribers:x,notifyTableV2:z,subscribeIndex:function(a,c,d,e,f){var g=v(a,c),i=!1;c=function(a,c,e){return i?(h||(h=b("Promise"))).resolve():d(a,c,e)};var j=[c,C(a,f)];g.set(e,j);return function(){i=!0,g["delete"](j)}},subscribeTable:function(a,c,d,e){var f=u(a),g=f[0],i=!1;f=function(a,d,e){return i?(h||(h=b("Promise"))).resolve():c(a,d,e)};var j=[f,C(a,e)];g.set(d,j);return function(){i=!0,g["delete"](j)}},subscribeToCommit:function(a){p.set(a,a);return function(){p["delete"](a)}}}}g["default"]=a}),98);
__d("hashString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return b}f["default"]=a}),66);
__d("setImmediate",["TimeSlice","TimerStorage","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g){function a(a){var b,d=function(){c("TimerStorage").unset(c("TimerStorage").IMMEDIATE,b);for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];Function.prototype.apply.call(a,this,e)};c("TimeSlice").copyGuardForWrapper(a,d);for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];b=c("setImmediateAcrossTransitions").apply(void 0,[d].concat(f));c("TimerStorage").set(c("TimerStorage").IMMEDIATE,b);return b}g["default"]=a}),98);
__d("ReStore",["BPlusTreeBase","ExecutionEnvironment","FBLogger","I64","LSDatabaseProviderType","LSDbKeyComparer","LSPlatformLsInitLog","LSStorage","LSTableDefaults","MWTabNotifierWhenPDBEnabled","MessengerLogHistory","MetaConfig","Promise","PromiseOrValue","ReQLBounds","ReStoreDefaultValueMigration","ReStoreDefaultValuesMetadata","ReStoreHooks","ReStoreIndicesMigration","ReStorePersistence","ReStoreTransactionLock","ReStoreUtils","asyncToGeneratorRuntime","clearTimeout","cr:1088","cr:1242","createReStoreSubscriptionManager","err","gkx","hashString","isPromise","killswitchMessengerWebPersistedDB","promiseDone","setImmediate","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=d("MessengerLogHistory").getInstance("db_init");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"Transaction has finished")||this}return b}(babelHelpers.wrapNativeSuper(Error));function p(a){a=(n||(n=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return n.to_float(a)}function q(a,b){function d(b){if(b.done)return b.value;if(!(i||(i=c("isPromise")))(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function r(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return q(a.next(b,c))})}}}function s(a,b,e){return c("BPlusTreeBase")((m||(m=d("LSDbKeyComparer"))).compareKey,16,b.getBPlusTreeStore(a,e==null?"root":"index("+e+")"))}function t(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e,f){f===void 0&&(f=[]);var g=d("ReStorePersistence").createDbStore(a),i="restore-table-"+a.uniqueId,v=c("createReStoreSubscriptionManager")(e,a.shouldSync,a.types,i),w=d("ReStoreHooks").createHookManager(f);f=(l||(l=c("ExecutionEnvironment"))).isInBrowser?c("MWTabNotifierWhenPDBEnabled")==null?void 0:c("MWTabNotifierWhenPDBEnabled")(i):void 0;var x=b("LSStorage").searchKey.bind(null,e),y={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},z=c("hashString")(JSON.stringify(e)),A=c("hashString")(JSON.stringify(c("LSTableDefaults")));d("LSPlatformLsInitLog").addAnnotations({"int":{defaultValuesVersion:A,schemaVersion:z}});d("LSPlatformLsInitLog").addPoint("migration_start");o.debug("restore migration start");var B=new(d("ReStoreTransactionLock").WaitForPromiseLock)(g.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("migration_execute_start");var a=new Map(),f=g.createTransaction("readwrite"),i=X(f,a),j="schema_version",k="default_value_version";if(c("MetaConfig")._("59")){var l,m;l=(l=(yield (h||(h=b("Promise"))).resolve(f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),j).next().value)))==null?void 0:l.schemaVersion;m=(m=(yield (h||(h=b("Promise"))).resolve(f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),k).next().value)))==null?void 0:m.defaultValuesVersion;l!=null&&d("LSPlatformLsInitLog").addAnnotations({"int":{storeDefaultValuesVersion:m,storeSchemaVersion:l}});if(l===z&&m===A){f.close();o.debug("restore migration skipped");d("LSPlatformLsInitLog").addPoint("migration_skipped");return}}try{yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(i,e);yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(i,e,function(b,c){return new(d("ReStoreTransactionLock").ReStoreTransactionLock)().chainPromiseOrValue(function(d){return q(W(a,f,new WeakMap(),b,c,d))})});d("LSPlatformLsInitLog").addPoint("migration_execute_end");o.debug("restore migration complete");l=!0;c("MetaConfig")._("59")&&(a.size===0&&(l=!1),f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),j,{schemaVersion:z}),f.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),k,{defaultValuesVersion:A}));yield f.flush({upgrade:l})}catch(a){f.close();throw a}d("LSPlatformLsInitLog").addPoint("migration_end");o.debug("restore migration end")}))["catch"](function(a){d("LSPlatformLsInitLog").addAnnotations({string:{migration_error:a.message}});d("LSPlatformLsInitLog").fail("migration_error");o.debug("restore migration error");throw a})),C=new Map();function D(a,b){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=new WeakMap();yield g.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new Map(),f=g.createTransaction("readwrite"),h=X(f,b),i=c.values();yield (j||(j=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var c=b[0],f=b[1];return(j||(j=d("PromiseOrValue"))).map(j.map(f==null?h.table(a)["delete"](x(a,c)):h.table(a).put(f),function(){return v.notifyTableAndIndexSubscribers(a,c,f,e)}),function(){return{action:"continue",value:i.next()}})},i.next());try{yield f.flush({upgrade:!0})}catch(a){f.close();throw a}}))});return E.apply(this,arguments)}function F(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}function G(a,b,c,d,e,f){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f){f=a.table(c);a=s(b,f,d);d=(yield q(a.getWithDefault(e,void 0)));if(d===void 0)return void 0;a=(yield q(f.readDataExn(b,d)));return w.afterGet({tableName:c,value:a})});return H.apply(this,arguments)}function I(a,b,c,d,e,f){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f){a=(yield G(a,b,c,d,e,f));return a===void 0?void 0:x(c,a)});return J.apply(this,arguments)}function K(a,b,c,f,g,h){function i(){var l=a.table(c);l=s(b,l,f);var j=l.entries(babelHelpers["extends"]({},(k||(k=d("ReQLBounds"))).extendBounds(h,(f===void 0?e.tableNames[c].primaryKeyIds:e.tableNames[c].indexes[f]).length),{dir:g}));return l={next:function*(a,b){a=(yield* j.next(b));return a.done?{done:!0}:{done:!1,value:a.value[0]}}},l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,l}return i()}function L(a,b,c,f,g,h){function i(){var l=a.table(c),m=s(b,l,f),j=m.entries(babelHelpers["extends"]({},(k||(k=d("ReQLBounds"))).extendBounds(h,(f===void 0?e.tableNames[c].primaryKeyIds:e.tableNames[c].indexes[f]).length),{dir:g}));return m={next:function*(a,d){a=(yield* j.next(d));if(a.done)return{done:!0};d=(yield* l.readDataExn(b,a.value[1]));return{done:!1,value:[a.value[0],w.afterEntriesNext({tableName:c,value:d})]}}},m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,m}return i()}function* M(a,b,c,f,g,h,i){function j(a,b){var c=[],e=a;while(e!==0)c.push(e.hd),e=e.tl;return c.length>=b?a:c.reduceRight(function(a,b){return{hd:b,tl:a}},{hd:(m||(m=d("LSDbKeyComparer"))).MAX_KEY,tl:0})}if(h!=null&&(m||(m=d("LSDbKeyComparer"))).compareKey(g,h)===0)return;f=e.tableNames[f];var k=f.cascadeUpdates,l=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var k=e.tableNames[d],m=k.indexes;k=k.primaryKeyIds;var n=f==null?k:m[f];k={gte:g,lte:j(g,n.length)};m=L(b,c,d,f,"asc",k);f=[];k=(yield* m.next(i));while(!k.done)f.push(k.value),k=(yield* m.next(i));for(m of f){m[0];k=m[1];f=x(d,k);if(h===void 0)yield* R(a,b,c,d,f,i),yield* M(a,b,c,d,f,void 0,i);else{k=l.reduce(function(a,b,c){b=a[0];a=a[1];if(!a)return[b,a];b[n[c]]=a.hd;return[b,a.tl]},[babelHelpers["extends"]({},k),h])[0];yield* Q(a,b,c,d,f,k,i);yield* M(a,b,c,d,f,x(d,k),i)}}};for(k of k)yield* f(k)}function N(a,b,c,d){return O.apply(this,arguments)}function O(){O=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,f,g){g=e.tableNames[f].autoIncrement;if(!g)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","messenger_web_product");g=(yield a.table(f).readSeed(b));if(g===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","messenger_web_product");return(n||(n=d("I64"))).of_float(g)});return O.apply(this,arguments)}function* P(a,b,c,f,g,h){var i=b.table(f),j=s(c,i),k=e.tableNames[f];if(k.autoIncrement){var l=g[k.primaryKeyIds[0]];l=(n||(n=d("I64"))).of_float(yield* i.incrementSeed(c,l===void 0?l:p(l)));g[k.primaryKeyIds[0]]=l}l=x(f,g);var o={},q=(yield* j.getWithDefault(l,void 0)),r,t=g;q!==void 0?(r=(yield* i.readDataExn(c,q)),o=S(Object.keys(k.indexes),f,r),i.writeData(c,q,t)):(t=d("ReStoreUtils").appendDefaultValues(g,k.name),q=(yield* i.writeNewData(c,t)),yield* j.set(l,q));g=S(Object.keys(k.indexes),f,t);for(j of Object.keys(g))o[j]!==void 0&&(m||(m=d("LSDbKeyComparer"))).compareKey(o[j],g[j])===0&&(delete g[j],delete o[j]);yield* T(a,b,c,f,g,h);yield* U(b,c,f,q,g);for(k of Object.keys(o)){j=s(c,i,k);yield* j["delete"](o[k])}F(a,f,l,r,t)}function* Q(a,b,c,e,f,g,h){var i=x(e,g);d("LSStorage").areKeysEqual(f,i)||(yield* R(a,b,c,e,f,h));yield* P(a,b,c,e,g,h)}function* R(a,b,c,d,f,g){g=b.table(d);b=s(c,g);var h=e.tableNames[d],i=(yield* b.getWithDefault(f,void 0)),j;if(i!==void 0){j=(yield* g.readDataExn(c,i));if(Object.keys(h.indexes).length)for(h of Object.keys(h.indexes)){var k=x(d,j,h);if(k!=null){var l=s(c,g,h);yield* l["delete"](k)}}yield* b["delete"](f);g.remove(c,i);F(a,d,f,j,void 0)}}function S(a,b,c){return a.reduce(function(a,d){var e=x(b,c,d);a[d]=e;return a},{})}function* T(a,b,c,d,e,f){var g=b.table(d),h=new Set();for(var i of Object.keys(e)){var j=s(c,g,i),k=e[i];j=(yield* j.getWithDefault(k));if(j!=null&&!h.has(j)){k=x(d,yield* g.readDataExn(c,j));yield* R(a,b,c,d,k,f);yield* M(a,b,c,d,k,void 0,f);h.add(j)}}}function* U(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=s(b,a,c),g=e[c];yield* f.set(g,d)}}function* V(a,b,c,f,g,h){var i=b.table(f),j=s(c,i),k=e.tableNames[f];if(k.autoIncrement){var l=g[k.primaryKeyIds[0]];l=(n||(n=d("I64"))).of_float(yield* i.incrementSeed(c,l===void 0?l:p(l)));g[k.primaryKeyIds[0]]=l}l=d("ReStoreUtils").appendDefaultValues(g,k.name);g=x(f,l);if(g==null)throw new Error("Evaluating the object store's key path did not yield a value");if(!(yield* j.has(g))){k=S(Object.keys(k.indexes),f,l);yield* T(a,b,c,f,k,h);h=(yield* i.writeNewData(c,l));yield* j.set(g,h);yield* U(b,c,f,h,k);F(a,f,g,void 0,l)}}function* W(a,b,c,d,f,g){var h=b.table(d),i=f.map(function(a){return s(c,h,a)});for(i of i)yield* i.clear();i=f.filter(function(a){var b;return((b=e.tableNames[d])==null?void 0:b.indexes[a])!=null});if(i.length===0)return;f=s(c,h);var j=L(b,c,d,void 0,"asc",void 0),k=[],l=(yield* j.next(g));while(!l.done)k.push(l.value),l=(yield* j.next(g));for(j of k){l=j[0];k=j[1];k=S(i,d,k);yield* T(a,b,c,d,k,g);l=(yield* f.get(l));yield* U(b,c,d,l,k)}}function X(a,c,f){var g=new(d("ReStoreTransactionLock").ReStoreTransactionLock)(),i=new WeakMap(),k=f==null?void 0:f.instanceKey,l={table:function(f){return{add:function(e){return(h||(h=b("Promise"))).resolve((j||(j=d("PromiseOrValue"))).map(w.beforeAdd({tableName:f,transaction:l,value:e}),function(d){return g.chainPromiseOrValue(function(e){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k);return q(V(c,a,i,f,d,e))})}))},"delete":function(d){return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(e){return q(function*(){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k),yield* R(c,a,i,f,d,e),yield* M(c,a,i,f,d,void 0,e)}())}))},deleteThenInsert:function(e){return(h||(h=b("Promise"))).resolve((j||(j=d("PromiseOrValue"))).map(w.beforeDeleteThenInsert({tableName:f,transaction:l,value:d("ReStoreUtils").appendDefaultValues(e,f)}),function(d){return g.chainPromiseOrValue(function(e){return q(function*(){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k),yield* P(c,a,i,f,d,e),yield* M(c,a,i,f,x(f,d),void 0,e)}())})}))},entries:function(b,c,d){c===void 0&&(c="asc");return r(L(a,i,f,void 0,c,d),g)},get:function(c){return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(b){return G(a,i,f,void 0,c,b)}))},index:function(c){return{entries:function(b,d,e){d===void 0&&(d="asc");return r(L(a,i,f,c,d,e),g)},get:function(d){return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(b){return G(a,i,f,c,d,b)}))},getKey:function(d){return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(b){return I(a,i,f,c,d,b)}))},keyFields:e.tableNames[f].indexes[c],keys:function(b,d,e){d===void 0&&(d="asc");return r(K(a,i,f,c,d,e),g)}}},keyFields:e.tableNames[f].primaryKeyIds,keys:function(b,c,d){c===void 0&&(c="asc");return r(K(a,i,f,void 0,c,d),g)},peekNextAutoIncrementId:function(){return(h||(h=b("Promise"))).resolve(g.chainPromiseOrValue(function(b){return N(a,i,f,b)}))},put:function(e){return(h||(h=b("Promise"))).resolve((j||(j=d("PromiseOrValue"))).map(w.beforePut({tableName:f,transaction:l,value:e}),function(d){return g.chainPromiseOrValue(function(e){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k);return q(P(c,a,i,f,d,e))})}))},upsert:function(e,m){return(h||(h=b("Promise"))).resolve((j||(j=d("PromiseOrValue"))).map(w.beforeUpsert({tableName:f,transaction:l,value:m}),function(d){return g.chainPromiseOrValue(function(g){return q(function*(){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(k),yield* Q(c,a,i,f,e,d,g),yield* M(c,a,i,f,e,x(f,m),g)}())})}))}}}};return l}var Y;function Z(a,d){return new(h||(h=b("Promise")))(function(b,e){c("gkx")("789")&&(Y=e),y[d].last==null?y[d].first=y[d].last={value:function(){return a().then(b,e)}}:y[d].last=y[d].last.next={value:function(){return a().then(b,e)}}})}function aa(){return g.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=y.ui.first!=null?y.ui:y.sync_script.first!=null?y.sync_script:y.background;if(a.first==null){c("FBLogger")("messenger_web_product").mustfix("Expected work is missing");return}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;yield b.value()}))}function ba(a,b,c){return $.apply(this,arguments)}function $(){$=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f,i){i===void 0&&(i="background");var k,l,m,n,o,p,q=b("cr:1242")==null?void 0:b("cr:1242").startTracking(a.types,i);(c("MetaConfig")._("26")||c("MetaConfig")._("27")||b("cr:1088"))&&(k=c("err")("Transaction timeout"));b("cr:1088")&&(l=Date.now());function f(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){b("cr:1242")==null?void 0:b("cr:1242").mark(q,"execute_start");b("cr:1088")&&(m=Date.now());var a={ref:void 0},f=new Map(),i=g.createTransaction("readwrite"),r;try{var s=X(i,f,{instanceKey:q});r=(yield (h||(h=b("Promise"))).race([e(s),u(k,a)]));a.ref!=null&&c("clearTimeout")(a.ref);b("cr:1088")&&(n=Date.now());b("cr:1242")==null?void 0:b("cr:1242").mark(q,"execute_end");b("cr:1242")==null?void 0:b("cr:1242").mark(q,"flush_start");yield i.flush({instanceKey:q});b("cr:1242")==null?void 0:b("cr:1242").mark(q,"flush_end")}catch(d){a.ref!=null&&c("clearTimeout")(a.ref);i.close();b("cr:1242")==null?void 0:b("cr:1242").fail(q);throw d}b("cr:1088")&&(p=Date.now());b("cr:1242")==null?void 0:b("cr:1242").mark(q,"broadcast_start");var t=new WeakMap(),x=new Map();for(s of f){a=s[0];i=s[1];a=JSON.parse(a);var y=a[0];a[1];a=x.get(y);a==null&&(a=[],x.set(y,a));var z=i[0];i=i[1];i=w.beforeNotify({newValue:i,prevValue:z,tableName:y});z=i.newValue;y=i.prevValue;a.push([y,z])}var A=x.entries();yield (j||(j=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var a=b[0];b=b[1];var c=b.values();return(j||(j=d("PromiseOrValue"))).map(j.loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0];b=b[1];return(j||(j=d("PromiseOrValue"))).map(v.notifyTableAndIndexSubscribers(a,e,b,t),function(){return{action:"continue",value:c.next()}})},c.next()),function(){return{action:"continue",value:A.next()}})},A.next());yield g.queueCommitWork(function(){v.notifyTableV2(x,"notifyTableV2");v.notifyTableV2(x,"notifyInMemoryTable");return(h||(h=b("Promise"))).resolve()});v.notifyCommit();if(b("cr:1088")){o=Date.now();i={broadcast:o,complete:n,flush:p,queue:l,start:m};b("cr:1088").recordRestoreTransaction(k,i,{changedKeys:f})}b("cr:1242")==null?void 0:b("cr:1242").mark(q,"broadcast_end");b("cr:1242")==null?void 0:b("cr:1242").mark(q,"post_commit_start");c("setImmediate")(function(){b("cr:1242")==null?void 0:b("cr:1242").mark(q,"post_commit_end"),b("cr:1242")==null?void 0:b("cr:1242").end(q)});return r});return r.apply(this,arguments)}var s=i==="background"&&c("MetaConfig")._("39")?new(h||(h=b("Promise")))(function(a){return c("setTimeout")(a,0)}):(h||(h=b("Promise"))).resolve();yield s;s=Z(f,i);c("promiseDone")(aa(),function(){},function(a){Y==null?void 0:Y(a)});return s});return $.apply(this,arguments)}i=d("LSDatabaseProviderType").hasPersistentType(a.types);(l||(l=c("ExecutionEnvironment"))).isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&f!=null&&i&&f.onEventReceive("notifyInMemoryTable",function(d){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var b of d){var c=b[0],e=b[1];a.shouldApplySync("notifyInMemoryTable",c)&&(yield D(c,e))}v.notifyCommit()})())}));return{clearCacheIfSupported:function(){var a=g;a instanceof Object&&a.clearCache!==void 0&&a.clearCache instanceof Function&&a.clearCache()},closeDb:function(){var a=g;a instanceof Object&&a.close!==void 0&&a.close()},getTableData:function(){return e},isClosed:function(){return g.isClosed()},persistenceTypes:a.types,runInTransaction:ba,subscribeToCommit:function(a){return v.subscribeToCommit(a)},subscriptionManager:v,table:function(a){return t(C,a,function(){var b=new Map();return{entries:function(b,c,d){c===void 0&&(c="asc");return r(L(g.createTransaction("readonly"),b,a,void 0,c,d),B)},get:function(b,c){c===void 0&&(c=new WeakMap());return B.chainPromiseOrValue(function(d){return G(g.createTransaction("readonly"),c,a,void 0,b,d)})},index:function(c){return t(b,c,function(){return{entries:function(b,d,e){d===void 0&&(d="asc");return r(L(g.createTransaction("readonly"),b,a,c,d,e),B)},get:function(b,d){d===void 0&&(d=new WeakMap());return B.chainPromiseOrValue(function(e){return G(g.createTransaction("readonly"),d,a,c,b,e)})},getKey:function(b){return B.chainPromiseOrValue(function(d){return I(g.createTransaction("readonly"),new WeakMap(),a,c,b,d)})},keyFields:e.tableNames[a].indexes[c],keys:function(b,d,e){d===void 0&&(d="asc");return r(K(g.createTransaction("readonly"),b,a,c,d,e),B)},subscribe:function(b,f,g){return v.subscribeIndex(a,c,b,(k||(k=d("ReQLBounds"))).extendBounds(f,e.tableNames[a].indexes[c]),g)}}})},keyFields:e.tableNames[a].primaryKeyIds,keys:function(b,c,d){c===void 0&&(c="asc");return r(K(g.createTransaction("readonly"),b,a,void 0,c,d),B)},peekNextAutoIncrementId:function(){return B.chainPromiseOrValue(function(b){return N(g.createTransaction("readonly"),new WeakMap(),a,b)})},subscribe:function(b,c,f){return v.subscribeTable(a,b,(k||(k=d("ReQLBounds"))).extendBounds(c,e.tableNames[a].primaryKeyIds.length),f)}}})}}}function u(a,d){return(l||(l=c("ExecutionEnvironment"))).canUseDOM&&c("MetaConfig")._("27")?new(h||(h=b("Promise")))(function(b,e){var f=5e3;d.ref=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").catching(a).blameToPreviousFrame().mustfix("ReStore transaction took longer than %s ms to execute",f.toString()),e(a)},f)}):new(h||(h=b("Promise")))(function(){})}a.TransactionClosedError=e;g["default"]=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(){var a=(h||(h=b("Promise"))).resolve(),e=new Map();function f(a){return i(e,a,function(){return new Map()})}return{flush:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.forEach(function(a,b){var c=f(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})})});function c(b){return a.apply(this,arguments)}return c}(),get:function(a,b,c){a=f(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:void 0,runExclusively:function(c){return new(h||(h=b("Promise")))(function(d,e){a=a.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d(yield c())}catch(a){e(a)}}))})},shouldApplySync:function(){return!1},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:""}}g["default"]=a}),98);
__d("LSJSInMemoryStorage",["MAWLSVaultingHooks","ReStore","createReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("ReStore")(c("createReStoreEphemeralPersistence")(),a,[c("MAWLSVaultingHooks")])}g["default"]=a}),98);
__d("CurrentMessengerUser",["CurrentEnvironment","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("CurrentEnvironment").instagramdotcom?c("CurrentUser").getEIMU():c("CurrentUser").getID()}function b(){return c("CurrentUser").getPageMessagingMailboxId()}g.getIDorEIMU=a;g.getPageMessagingMailboxId=b}),98);
__d("LSDbSchema",[],(function(a,b,c,d,e,f){"use strict";a={auto_increment:!1,indexes:{userJid:["userJid","deviceJid"]},name:"e2ee_identity",primary_key:["deviceJid"]};b={auto_increment:!0,indexes:{externalId:["externalId","userId"]},name:"e2ee_appData",primary_key:["userId"]};c={auto_increment:!1,indexes:{},name:"e2ee_meta",primary_key:["key"]};d={auto_increment:!1,indexes:{},name:"e2ee_appMeta",primary_key:["key"]};e={auto_increment:!0,indexes:{},name:"e2ee_jobs",primary_key:["jobId"]};var g={auto_increment:!1,indexes:{},name:"e2ee_prekey",primary_key:["keyId"]},h={auto_increment:!1,indexes:{},name:"e2ee_prekeyGeneration",primary_key:["generationId"]},i={auto_increment:!1,indexes:{},name:"e2ee_session",primary_key:["id"]},j={auto_increment:!1,indexes:{},name:"e2ee_signedPrekey",primary_key:["keyId"]},k={auto_increment:!1,indexes:{},name:"e2ee_tasks",primary_key:["taskName"]},l={auto_increment:!1,indexes:{},name:"e2ee_senderKeySessions",primary_key:["id"]},m={auto_increment:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primary_key:["groupJid"]},n={auto_increment:!0,indexes:{"[thread+sortOrderMs]":["thread","sortOrderMs","rowId"],altIndex:["altIndex","rowId"],externalId:["externalId","rowId"],messageDeleteTs:["messageDeleteTs","rowId"],messageExpirationTs:["messageExpirationTs","rowId"],msgId:["msgId","rowId"],quoteExternalId:["quoteExternalId","rowId"],revokedExternalId:["revokedExternalId","rowId"],unsendMsgContentDeleteTs:["unsendMsgContentDeleteTs","rowId"]},name:"e2ee_messages",primary_key:["rowId"]},o={auto_increment:!0,indexes:{externalId:["externalId","rowId"],messageDeleteForMeTs:["messageDeleteForMeTs","rowId"],msgId:["msgId","rowId"]},name:"e2ee_unrenderedMessages",primary_key:["rowId"]},p={auto_increment:!0,indexes:{deleteTs:["deleteTs","rowId"],externalIdWithType:["externalIdWithType","rowId"]},name:"e2ee_pendingStanzas",primary_key:["rowId"]},q={auto_increment:!0,indexes:{associatedMessageId:["associatedMessageId","xmaId"],externalId:["externalId","xmaId"],targetExpiringAtSec:["targetExpiringAtSec","xmaId"]},name:"e2ee_xma",primary_key:["xmaId"]},r={auto_increment:!1,indexes:{threadId:["threadId","groupJid"]},name:"e2ee_groupInfo",primary_key:["groupJid"]},s={auto_increment:!1,indexes:{threadId:["threadId","id"],userJid:["userJid","id"]},name:"e2ee_participants",primary_key:["id"]},t={auto_increment:!1,indexes:{},name:"e2ee_contacts",primary_key:["contactJid"]},u={auto_increment:!1,indexes:{},name:"e2ee_receipts",primary_key:["msgId"]},v={auto_increment:!0,indexes:{hashedPlaintextHash:["hashedPlaintextHash","mediaId"],objectId:["objectId","mediaId"]},name:"e2ee_media",primary_key:["mediaId"]},w={auto_increment:!0,indexes:{externalId:["externalId","rowId"],reactionId:["reactionId","rowId"],reactToExternalId:["reactToExternalId","rowId"],reactToMsgId:["reactToMsgId","rowId"]},name:"e2ee_reactions",primary_key:["rowId"]},x={auto_increment:!0,indexes:{hashedPlaintextHash:["hashedPlaintextHash","rowId"]},name:"e2ee_chunk",primary_key:["rowId"]},y={auto_increment:!0,indexes:{mediaId:["mediaId","mediaBackupId"],msgId:["msgId","mediaBackupId"],objectId:["objectId","mediaBackupId"]},name:"e2ee_mediaBackup",primary_key:["mediaBackupId"]},z={auto_increment:!0,indexes:{authoritativeThreadKey:["authoritativeThreadKey","chatId"],jid:["jid","chatId"],threadOrder:["threadOrder","chatId"]},name:"e2ee_threads",primary_key:["chatId"]},A={auto_increment:!0,indexes:{},name:"e2ee_isDualSend",primary_key:["rowId"]},B={auto_increment:!0,indexes:{"[jid+type]":["jid","type","stanzaQueueId"],jid:["jid","stanzaQueueId"],stanzaId:["stanzaId","stanzaQueueId"],type:["type","stanzaQueueId"]},name:"e2ee_stanzaQueue",primary_key:["stanzaQueueId"]},C={auto_increment:!1,indexes:{},name:"e2ee_existingUsers",primary_key:["id"]},D={auto_increment:!1,indexes:{},name:"e2ee_pendingReceipts",primary_key:["id"]},E={auto_increment:!1,indexes:{},name:"e2ee_groupInvites",primary_key:["invitedParticipantId","inviterJid"]},F={auto_increment:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primary_key:["deviceChangeAlertsId"]},G={auto_increment:!0,indexes:{originalMsgExternalId:["originalMsgExternalId","editMsgHistoryId"]},name:"e2ee_editMsgHistory",primary_key:["editMsgHistoryId"]},H={auto_increment:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primary_key:["threadId"]},I={auto_increment:!0,indexes:{},name:"e2ee_browserEncryptionMeta",primary_key:["id"]},J={auto_increment:!0,indexes:{},name:"e2ee_collectionVersions",primary_key:["id"]},K={auto_increment:!1,indexes:{},name:"e2ee_dualSendMedia",primary_key:["id"]},L={auto_increment:!0,indexes:{},name:"e2ee_dyiBatch",primary_key:["batchId"]},M={auto_increment:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primary_key:["rowId"]},N={auto_increment:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primary_key:["key"]},O={auto_increment:!1,indexes:{},name:"e2ee_missingKeys",primary_key:["keyHex"]},P={auto_increment:!1,indexes:{},name:"e2ee_pendingMutations",primary_key:["id"]},Q={auto_increment:!1,indexes:{},name:"e2ee_syncActions",primary_key:["index"]},R={auto_increment:!0,indexes:{},name:"e2ee_syncKeys",primary_key:["id"]},S={auto_increment:!1,indexes:{traceId:["traceId","externalId"]},name:"e2ee_uploadRetryStatus",primary_key:["externalId","lastRetryTs"]};b=[b,d,a,e,c,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,L,S,I,J,K,M,N,O,P,Q,R];f.clientSchema=b}),66);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"}]};b=a;f["default"]=b}),66);
__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,primary_key:["groupId"]},{name:"pending_tasks",id:2,primary_key:["taskId"],indexes:{queueNameTaskId:["queueName","taskId"]},auto_increment:!0},{name:"network_requests",id:3,primary_key:["taskQueueName","syncDatabaseId"]},{name:"_user_info",id:4,primary_key:["id"]},{name:"pending_fire_and_forget_tasks",id:5,primary_key:["taskId"],auto_increment:!0},{name:"user_visible_errors",id:6,primary_key:["errorId"],auto_increment:!0},{name:"mailbox_task_completion_notification_context",id:232,primary_key:["notificationScopeKey"]},{name:"mailbox_task_completion_api_tasks",id:233,primary_key:["taskId"]}],[{name:"contacts",id:7,primary_key:["id"],indexes:{blockedByViewerStatusId:["blockedByViewerStatus","id"]}},{name:"ig_contact_info",id:176,primary_key:["contactId"]},{name:"work_contact_info",id:210,primary_key:["id"]},{name:"contextual_profile_v1",id:216,primary_key:["ownerId","associatedEntityId"],indexes:{associatedEntityIdAndOwner:["associatedEntityId","ownerId"]}},{name:"profile_sheet_information",id:256,primary_key:["userId"]},{name:"fb_transport_contacts",id:240,primary_key:["pk"]}],[{name:"reactions",id:8,primary_key:["threadKey","messageId","actorId"]},{name:"threads",id:9,primary_key:["threadKey"],indexes:{lastActivityTimestampMs:["lastActivityTimestampMs","threadKey"],parentThreadKeyLastActivityTimestampMs:["parentThreadKey","lastActivityTimestampMs","threadKey"],secondaryParentThreadKeyLastActivityTimestampMs:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],clientThreadKey:["clientThreadKey","threadKey"],threadTypeLastActivityTimestampMs:["threadType","lastActivityTimestampMs","threadKey"],syncGroupParentThreadKeyLastActivityTimestampMs:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"]}},{name:"threads_ranges_v2__generated",id:10,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"]},{name:"messages",id:12,primary_key:["threadKey","timestampMs","messageId"],indexes:{optimistic:["offlineThreadingId"],messageDisplayOrder:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],messageId:["messageId"],messageSubthreadKey:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"]}},{name:"messages_ranges_v2__generated",id:13,primary_key:["threadKey","minTimestampMs","minMessageId"]},{name:"participants",id:14,primary_key:["threadKey","contactId"],indexes:{threadKeyReadWatermarkTimestampMs:["threadKey","readWatermarkTimestampMs","contactId"],threadKeyDeliveredWatermarkTimestampMs:["threadKey","deliveredWatermarkTimestampMs","contactId"]}},{name:"ctas",id:15,primary_key:["ctaId"]},{name:"attachments",id:16,primary_key:["threadKey","messageId","attachmentFbid"],indexes:{fk_messages:["threadKey","timestampMs","messageId","attachmentFbid"],idx_attachments_collapsible_id:["threadKey","collapsibleId","messageId","attachmentFbid"]}},{name:"attachments_ranges_v2__generated",id:17,primary_key:["threadKey","mediaGroup","minTimestampMs"]},{name:"attachment_items",id:18,primary_key:["attachmentFbid","attachmentIndex"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","attachmentIndex"]}},{name:"attachment_ctas",id:19,primary_key:["ctaId"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","ctaId"]}},{name:"quick_reply_ctas",id:20,primary_key:["threadKey","messageId","ctaId"]},{name:"m_suggestions",id:21,primary_key:["threadKey","timestampMs","suggestionId"]},{name:"rtc_signals",id:22,primary_key:["timestampMs","type_"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,primary_key:["threadKey"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,primary_key:["threadKey"]},{name:"mailbox_metadata",id:25,primary_key:["id"]},{name:"group_membership_approval_requests",id:26,primary_key:["threadKey","contactId"]},{name:"admin_message_ctas",id:27,primary_key:["threadKey","messageId","ctaId"],indexes:{ctaId:["ctaId"]}},{name:"thread_nullstate",id:28,primary_key:["threadKey"]},{name:"thread_nullstate_ctas",id:29,primary_key:["ctaId"],indexes:{threadKeyCtaId:["threadKey","ctaId"]}},{name:"focus_mode_ctas",id:30,primary_key:["threadKey","messageId","ctaId"]},{name:"messages_optimistic_context",id:31,primary_key:["taskId"]},{name:"threads_optimistic_context",id:32,primary_key:["taskId"]},{name:"messages_status",id:33,primary_key:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"]},{name:"message_requests",id:34,primary_key:["threadKey"]},{name:"folder_metadata",id:35,primary_key:["parentThreadKey"]},{name:"polls",id:38,primary_key:["pollId"]},{name:"poll_options_v2",id:39,primary_key:["pollId","optionId"]},{name:"poll_votes_v2",id:40,primary_key:["pollId","optionId","contactId"]},{name:"pinned_messages_v2",id:155,primary_key:["threadKey","messageId"]},{name:"filtered_threads_ranges_v3__generated",id:247,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"]},{name:"community_folders",id:162,primary_key:["folderId"],indexes:{byFbGroupId:["fbGroupId","folderId"]}},{name:"community_members",id:170,primary_key:["communityId","contactId","source","requestId"],indexes:{communitySource:["communityId","source","requestId","contactId","name"],communityContact:["communityId","contactId","requestId","source","name"]}},{name:"community_members_ranges_v2__generated",id:189,primary_key:["communityId","isAdmin","minName","source","requestId"]},{name:"attachment_conversion",id:164,primary_key:["attachmentFbid"]},{name:"saved_messages",id:165,primary_key:["threadKey","messageId"]},{name:"rtc_rooms_on_threads",id:181,primary_key:["threadKey"]},{name:"ig_thread_info",id:194,primary_key:["threadKey"],indexes:{igThreadID:["igThreadId"]}},{name:"group_invites",id:197,primary_key:["threadKey","inviterId","inviteeId"],indexes:{threadKeyInviterIDInviteeID:["threadKey","inviterId","inviteeId"]}},{name:"inbox_threads_ranges",id:198,primary_key:["syncGroup"]},{name:"community_direct_invites_presets",id:199,primary_key:["communityId","presetType","source"]},{name:"msg_pinned_messages_v2",id:205,primary_key:["threadKey","messageId","pinnedTimestampMs"],indexes:{pinnedMessageDisplayOrder:["threadKey","pinnedTimestampMs","messageId"]}},{name:"filtered_messages_ranges_v2__generated",id:211,primary_key:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"]},{name:"taken_down_threads",id:212,primary_key:["threadKey"]},{name:"participant_list_queries",id:219,primary_key:["threadKey"]},{name:"sync_group_threads_ranges",id:220,primary_key:["syncGroup","parentThreadKey"]},{name:"community_chat_message_seen_count",id:221,primary_key:["threadKey","messageId"]},{name:"community_chat_polls",id:223,primary_key:["pollId"]},{name:"community_chat_poll_options",id:224,primary_key:["pollId","optionId"]},{name:"community_chat_poll_votes",id:225,primary_key:["pollId","optionId","contactId"]},{name:"reactions_v2",id:226,primary_key:["threadKey","messageId","reactionFbid","messageTimestamp"],indexes:{optimistic:["threadKey","messageId","reactionFbid"]}},{name:"reactions_v2_details_users",id:227,primary_key:["reactorId","reactionFbid"]},{name:"reactions_v2_details_users_ranges_v2__generated",id:228,primary_key:["reactorId","reactionFbid","minTimestampMs"]},{name:"reaction_v2_types",id:229,primary_key:["reactionFbid"]},{name:"bots",id:230,primary_key:["threadKey","botId"]},{name:"business_comm_items",id:234,primary_key:["threadKey","entId"]},{name:"group_invitations_pending",id:235,primary_key:["linkHash"]},{name:"business_support_notification_settings",id:236,primary_key:["userId"]},{name:"thread_label_mappings",id:237,primary_key:["threadKey","labelId"]},{name:"inbox_view_state",id:277,primary_key:["interface","configName"]},{name:"inbox_view_state_v2",id:281,primary_key:["configName"]},{name:"audio_channel_events",id:238,primary_key:["eventId","roomId"]},{name:"reactions_v2_details",id:239,primary_key:["threadId","messageId","reactorId","reactionFbid"]},{name:"reactions_v2_details_ranges_v2__generated",id:243,primary_key:["threadId","messageId","reactionFbid","minTimestampMs"]},{name:"community_chat_poll_votes_ranges_v2__generated",id:244,primary_key:["pollId","optionId","minTimestampMs"]},{name:"discoverable_chat_participants",id:248,primary_key:["threadId","contactId","source"]},{name:"discoverable_chat_participants_ranges_v2__generated",id:249,primary_key:["threadId","source","minName"]},{name:"roll_calls",id:250,primary_key:["rollCallId","threadKey"]},{name:"community_surface_ranges",id:253,primary_key:["surfaceType","communityKey"]},{name:"community_rules",id:254,primary_key:["communityId","ruleId"]},{name:"roll_call_contributions_v2",id:255,primary_key:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],indexes:{optimistic:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"]}},{name:"business_thread_info",id:260,primary_key:["threadKey"]},{name:"thread_creation_status",id:278,primary_key:["taskId"]},{name:"shared_albums",id:279,primary_key:["sharedAlbumId","threadKey"]},{name:"shared_album_contributions",id:280,primary_key:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"]},{name:"shared_albums_multimedia_upload_jobs",id:283,primary_key:["offlineThreadingId"]},{name:"shared_albums_multimedia_upload_subjobs_status",id:284,primary_key:["offlineThreadingId","jobId"]},{name:"thread_point_query_ttrc",id:286,primary_key:["threadKey"]},{name:"business_thread_suggestions",id:290,primary_key:["threadKey","suggestionType"]},{name:"community_chat_admin_assist_command_sequences",id:291,primary_key:["commandSequenceId"]},{name:"community_thread_sync_info",id:294,primary_key:["threadKey"]},{name:"thread_bans",id:297,primary_key:["threadKey","contactId"]}],[{name:"media_send_jobs",id:51,primary_key:["offlineAttachmentId"]}],[{name:"typing_indicator",id:52,primary_key:["threadKey","senderId"]}],[{name:"server_search_results",id:65,primary_key:["query","resultId","globalIndex"]},{name:"server_search_sections",id:66,primary_key:["query","globalIndex"]},{name:"search_queries",id:67,primary_key:["query","surfaceType"]},{name:"universal_search_recent_searches",id:68,primary_key:["resultId"]},{name:"message_search_results",id:69,primary_key:["type_","query","threadKey","globalIndex"]},{name:"message_search_queries",id:70,primary_key:["type_","query","threadKeyV2"]},{name:"participant_search_queries",id:214,primary_key:["query","threadKey"]}],[{name:"cm_search_nullstate_metadata",id:289,primary_key:["threadKey","scoreType"]}],[{name:"contact_upload_settings",id:74,primary_key:["userid"]},{name:"gdpr_settings",id:75,primary_key:["userid"]},{name:"presence_settings",id:187,primary_key:["userId"]},{name:"persistent_menu_items",id:77,primary_key:["threadKey","ctaId"]},{name:"video_chat_links_joining",id:78,primary_key:["url","optimisticClientToken"],indexes:{optimistic:["optimisticClientToken"]}},{name:"video_chat_links_attempted_joiners",id:79,primary_key:["userId","url"]},{name:"cowatch_sessions",id:80,primary_key:["cowatchSessionId"]},{name:"self_profile",id:81,primary_key:["userId"]},{name:"pinned_threads",id:82,primary_key:["threadKey"],indexes:{pinnedTimestamp:["pinnedTimestamp","threadKey"]}},{name:"messaging_settings",id:83,primary_key:["id"]},{name:"reachability_settings",id:148,primary_key:["audience"]},{name:"feature_limits",id:150,primary_key:["type_"]},{name:"emoji_sets",id:151,primary_key:["categoryIdx","emojiIdx","type_"]},{name:"epd_cookie_settings",id:163,primary_key:[]},{name:"cm_community_list",id:166,primary_key:["communityId"]},{name:"cm_channel_list",id:167,primary_key:["communityId","threadId"],indexes:{threadIdCommunityId:["threadId","communityId"]}},{name:"cm_category_list",id:182,primary_key:["communityId","categoryId"]},{name:"notification_settings",id:175,primary_key:["id"]},{name:"encrypted_backups_status_trigger",id:195,primary_key:["pk"],auto_increment:!0},{name:"fb_events",id:200,primary_key:["eventId"]},{name:"cm_channel_events",id:201,primary_key:["eventId","threadId"],indexes:{eventsInThread:["threadId","eventId"]}},{name:"community_events",id:202,primary_key:["eventId","communityId"]},{name:"avatar_settings",id:209,primary_key:["threadId"]},{name:"thread_labels",id:215,primary_key:["labelId"]},{name:"thread_limits",id:287,primary_key:["threadKey"]},{name:"business_support_case_details",id:222,primary_key:["threadId"]},{name:"messaging_privacy_settings",id:288,primary_key:["userId"]},{name:"rtc_call_events",id:245,primary_key:["pk"],auto_increment:!0},{name:"custom_thread_commands",id:296,primary_key:["threadKey","commandId"]}],[{name:"payment_type_paypal",id:85,primary_key:["paymentCredentialId"]},{name:"payment_type_card",id:86,primary_key:["paymentCredentialId"]},{name:"payment_type_bank_v2",id:88,primary_key:["paymentMethodId"]},{name:"payment_method",id:89,primary_key:["paymentMethodId"]},{name:"new_payment_credential_option",id:90,primary_key:["credentialType"]},{name:"paypal_funding_options",id:91,primary_key:["optionId"]},{name:"payments_eligibility",id:92,primary_key:["userId"]},{name:"payments_ofac_blacklisted_countries",id:93,primary_key:["isoCountryCode"]},{name:"p2m_invoice",id:94,primary_key:["orderId"]},{name:"p2m_invoice_attachment",id:95,primary_key:["orderId","productItemId"]},{name:"payment_price_list_item",id:96,primary_key:["orderId","id"]},{name:"p2m_charge",id:97,primary_key:["orderId"]},{name:"payment_p2p_risk_verification",id:98,primary_key:["requestId","transactionId"]},{name:"payment_transaction_v2",id:99,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_request_v2",id:100,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_transfer_v2",id:101,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"transaction_history",id:102,primary_key:["transactionId"]},{name:"payments_transaction_details_core",id:103,primary_key:["transactionId"]},{name:"payments_transaction_details_ctas",id:104,primary_key:["transactionId","ctaId"]},{name:"payments_transaction_details_rows",id:105,primary_key:["transactionId","rowOrder"]},{name:"payment_user_auth",id:106,primary_key:["userId"]},{name:"payment_client_auth_token",id:107,primary_key:["userId","deviceId","appId"]},{name:"payment_auth_request_results",id:108,primary_key:["requestId"]},{name:"payment_server_request_results",id:109,primary_key:["requestId"]},{name:"payment_pin_verification_results",id:113,primary_key:["requestId"]}],[{name:"connectivity_status",id:114,primary_key:["statusId"],auto_increment:!0},{name:"user_visible_network_connectivity_error",id:115,primary_key:["statusId"],auto_increment:!0}],[{name:"thread_themes",id:116,primary_key:["fbid"]},{name:"gradient_colors",id:117,primary_key:["themeFbid","gradientIndex"]}],[{name:"in_thread_banner",id:118,primary_key:["threadKey","bannerId"]},{name:"in_thread_banner_ctas",id:119,primary_key:["bannerId","ctaId"]},{name:"in_thread_banner_overflow_menu",id:120,primary_key:["threadKey","bannerId"]}],[{name:"stickers",id:121,primary_key:["stickerId"],indexes:{stickerPackId:["stickerPackId","stickerId"]}},{name:"sticker_packs",id:122,primary_key:["packId"]},{name:"sticker_search_results",id:123,primary_key:["resultIndex","query","type_"]},{name:"sticker_search_queries",id:124,primary_key:["query"]},{name:"sticker_search_featured_tags",id:125,primary_key:["tagIndex"]},{name:"sticker_to_collection",id:126,primary_key:["stickerId","collectionId"]},{name:"sticker_pack_details",id:127,primary_key:["packId"]},{name:"sticker_store_pack_indices",id:128,primary_key:["packId"]}],[{name:"forward_content",id:129,primary_key:["value","type_"]}],[{name:"linked_groups",id:130,primary_key:["id"],indexes:{threadKey:["threadKey"]}}],[{name:"ranking_scores",id:134,primary_key:["contactId","scoreType"],indexes:{scoreTypeContactId:["scoreType","contactId"]}},{name:"ranking_requests",id:135,primary_key:["scoreType"]},{name:"value_model_rules",id:136,primary_key:["product","ruleIndex"]},{name:"value_model_features",id:137,primary_key:["feature"]},{name:"value_model_output",id:138,primary_key:["product","contactId"]}],[{name:"story_buckets",id:53,primary_key:["bucketId"],indexes:{optimistic:["ownerId","bucketType"]}},{name:"stories",id:54,primary_key:["storyId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_viewers",id:55,primary_key:["storyId","viewerContactId","interactionType"]},{name:"story_reactions",id:56,primary_key:["reactionId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_ad_unit",id:57,primary_key:["adPosition","clientToken"]},{name:"story_ad_card",id:58,primary_key:["adPosition","clientToken","cardId"]},{name:"story_ad_ctas",id:59,primary_key:["ctaId"]},{name:"story_overlays",id:60,primary_key:["storyId","storyOverlayId"]},{name:"story_buckets_paginated_queries",id:61,primary_key:["queryId"]},{name:"status",id:62,primary_key:["statusId"],indexes:{optimistic:["optimisticClientId"]}},{name:"rooms",id:63,primary_key:["roomId"],indexes:{optimistic:["optimisticClientToken"]}},{name:"room_participants",id:64,primary_key:["roomId","participantId","type_"],indexes:{optimistic:["roomId","participantId"]}}],[{name:"live_location_sharers",id:149,primary_key:["threadKey","userId"]}],[{name:"mi_act_mapping_table",id:173,primary_key:["serverThreadKey","clientThreadPk","jid"],indexes:{fk_threads:["serverThreadKey"],chat_id:["clientThreadPk"],jid:["jid"]}},{name:"media_staging",id:161,primary_key:["offlineAttachmentId"]},{name:"client_accounts",id:272,primary_key:["pk"]},{name:"client_messages",id:273,primary_key:["pk"]},{name:"client_participants",id:274,primary_key:["pk"]},{name:"client_threads",id:276,primary_key:["pk"]}],[{name:"webact_thread",id:262,primary_key:["chatId"],indexes:{jid:["jid"],thread_order:["threadOrder"],deduplication_key:["deduplicationKey"],authoritative_thread_key:["authoritativeThreadKey"]},auto_increment:!0},{name:"webact_group_info",id:263,primary_key:["groupJid"],indexes:{thread_id:["threadId"],corresponding_open_thread_key:["correspondingOpenThreadKey"]}},{name:"webact_group_invite",id:264,primary_key:["inviterJid","invitedParticipantId"],indexes:{inviter_jid:["inviterJid"]}},{name:"webact_xma",id:265,primary_key:["xmaId"],indexes:{external_id:["externalId"],associated_message_id:["associatedMessageId"],favicon_media_id:["faviconMediaId"],header_media_id:["headerMediaId"],target_expiring_at_sec:["targetExpiringAtSec"],default_preview_media_id:["defaultPreviewMediaId"]}},{name:"webact_tasks",id:266,primary_key:["taskName"]},{name:"webact_sync_keys",id:267,primary_key:["id"],indexes:{key_id:["keyId"],key_epoch:["keyEpoch"]}},{name:"webact_reaction",id:268,primary_key:["rowId"],indexes:{reaction_id:["reactionId"],external_id:["externalId"],react_to_msg_id:["reactToMsgId"],thread_jid:["threadJid"],react_to_external_id:["reactToExternalId"]}},{name:"webact_participant",id:269,primary_key:["id"],indexes:{thread_id:["threadId"],user_jid:["userJid"]}},{name:"webact_device_change_alerts",id:270,primary_key:["deviceChangeAlertsId"]},{name:"webact_dyi_batch",id:271,primary_key:["batchId"]}],[{name:"data_trace_meta",id:153,primary_key:["traceId"],indexes:{shouldFlushInitTimestampMsTraceId:["shouldFlush","initTimestampMs","traceId"]}},{name:"data_trace_addon",id:154,primary_key:["addonId"],indexes:{traceIdAddonId:["traceId","addonId"]},auto_increment:!0}],[{name:"ad_context",id:160,primary_key:["adId"]}],[{name:"thread_proactive_warning_settings",id:183,primary_key:["threadKey"]},{name:"client_thread_proactive_warning_settings",id:241,primary_key:["threadPk"]}],[{name:"presence_states",id:186,primary_key:["contactId"],indexes:{statusContactId:["status","contactId"]}}],[{name:"available_reactions",id:188,primary_key:["emojiIdx"]}],[{name:"pending_backups_context_v2",id:177,primary_key:["pk"],indexes:{fk_pending_tasks:["pendingBackupTaskId"]},auto_increment:!0},{name:"secure_encrypted_backups_client_state",id:168,primary_key:["backupId"]},{name:"encrypted_backups_debug_metadata",id:206,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata",id:207,primary_key:["epochId"]},{name:"encrypted_backups_debug_metadata_v2",id:217,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata_v2",id:218,primary_key:["epochId"]},{name:"secure_encrypted_backups_epochs",id:169,primary_key:["epochId"],indexes:{fk_secure_encrypted_backups_client_state:["backupId","epochId"]}},{name:"encrypted_backups",id:172,primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_generated_recovery_code",id:174,primary_key:["pk"]},{name:"secure_encrypted_backups_recovery_code_status",id:178,primary_key:["pk"]},{name:"secure_recovery_code_data",id:179,primary_key:["taskId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"secure_encrypted_backups_message_thread_id_context",id:180,primary_key:["taskId","listId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"encrypted_backups_virtual_devices",id:184,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backups_metadata",id:196,primary_key:["backupId"]},{name:"device_metadata",id:185,primary_key:["pk"]},{name:"encrypted_backup_restore_task_payload_context",id:190,primary_key:["taskId"]},{name:"encrypted_backups_dyi_backup_restore_status",id:208,primary_key:["pk"]},{name:"encrypted_backups_message_backup_status",id:213,primary_key:["messagePk"]},{name:"encrypted_backups_client_restore_status",id:231,primary_key:["threadId"]},{name:"third_party_id_store",id:242,primary_key:["platform"]},{name:"secure_get_secrets_context",id:259,primary_key:["deviceRegistrationId"]},{name:"encrypted_backups_otc_devices",id:261,primary_key:["deviceId"]},{name:"experiences_shared_state",id:282,primary_key:["stateKey"]},{name:"encrypted_backups_otc_notification_sending_status",id:285,primary_key:["pk"]}],[{name:"secure_encrypted_backups_devices",id:191,primary_key:["deviceId"]},{name:"secure_encrypted_backups_device_supported_versions",id:192,primary_key:["deviceId","supportedVersion"],indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:["deviceId","supportedVersion"]}}],[{name:"e2ee_dummy_table_for_sync",id:171,primary_key:["placeholder"]},{name:"cutover_threads",id:193,primary_key:["openThreadId"]},{name:"occamadillo_most_recent_message_per_thread",id:292,primary_key:["threadKey"]},{name:"offline_queue_thread_status",id:295,primary_key:["threadJid"]}],[{name:"community_messaging_aggregated_user_presence_counts_for_community",id:203,primary_key:["folderId"]},{name:"community_messaging_aggregated_copresence_counts_for_chat",id:204,primary_key:["threadId"]}],[{name:"workrooms_co_presence_states",id:246,primary_key:["userId"],indexes:{userCoPresence:["userId","coPresenceObjectId"]}}],[{name:"persistent_menu_ctas",id:251,primary_key:["threadKey","ctaId"]}],[{name:"workroom_creation_requests",id:252,primary_key:["creationId"]}],[{name:"pake_messages",id:258,primary_key:["sessionId"]}],[{name:"workroom_invites",id:257,primary_key:["inviteId"]}],[{name:"work_genai",id:293,primary_key:["threadKey","messageId"]}]]}),null);
__d("LSMetadata",["LSDbForeignKeys","LSDbSchema","LSTableSchemas","ReStoreDefaultValuesMetadata","ReStoreIndexMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={},e={},f=-1;for(var g=0;g<a.length;g++){var h=a[g];for(var h=h,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k,l;if(i){if(j>=h.length)break;l=h[j++]}else{j=h.next();if(j.done)break;l=j.value}l=l;k={autoIncrement:(k=l.auto_increment)!=null?k:!1,cascadeUpdates:(k=c("LSDbForeignKeys")[l.name])!=null?k:[],id:parseInt(l.id,10),indexes:(k=l.indexes)!=null?k:{},name:l.name,primaryKeyIds:l.primary_key};b[k.id]=k;e[k.name]=k;k.id>f&&(f=k.id)}}l={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]};b[l.id]=l;e[l.name]=l;k={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]};b[k.id]=k;e[k.name]=k;j={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").schemaVersionTableName,primaryKeyIds:[]};b[j.id]=j;e[j.name]=j;return{tableIds:b,tableNames:e}}function a(a){var b=a.flat().reduce(function(a,b){return Math.max(a,parseInt(b.id,10))},-1);a=h([].concat(a,[d("LSDbSchema").clientSchema.map(function(a,c){return babelHelpers["extends"]({},a,{id:(b+c+1).toString()})})]));var c=a.tableIds;a=a.tableNames;return{tableIds:c,tableNames:a}}b=a(c("LSTableSchemas"));g.buildTableData=h;g.buildMetadata=a;g.metadata=b}),98);/*FB_PKG_DELIM*/
__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometEventListener")}),66);
__d("PolarisBaseGraphQLEventHandler",[],(function(a,b,c,d,e,f){"use strict";var g="1/graphqlsubscriptions/",h=Object.freeze({BD_CHALLENGE:"BdChallenge",NONE:"",PINNED_QUESTION:"PinnedQuestion",PRESENCE:"Presence",QUESTION_STATUS:"QuestionStatus",WAVE:"Wave"});a=function(){function a(){}var b=a.prototype;b.processEventMessage=function(a){return};b.getSubTopic=function(){return null};b.getGraphQLSubsciptionPrefix=function(){return g};b.getType=function(){return h.NONE};return a}();f.GRAPH_QL_EVENT_TYPES=h;f.BaseGraphQLEventHandler=a}),66);
__d("PolarisDirectDeltaHandlers",["invariant","PolarisDirectLogger","memoize"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i(a)}function b(a){return i(a)}function i(a){if(a==null)return null;if(typeof a!=="string")return a;var b;a;try{b=j(a)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.stringify_ids_error",{errorMessage:c.message}),b=a}try{b=JSON.parse(b)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.parse_json_error",{errorMessage:c.message}),b=JSON.parse(a)}return b}function j(a){var b=Array.from(a.matchAll(/(id\":)\s*([0-9]+)/gi)),c=0;return b.reduce(function(a,b){var d=new RegExp(b[0]);d.lastIndex=c;a=a.replace(d,b[1]+' "'+b[2]+'"');c=b.index;return a},a)}function e(a){var b=parseInt(a,10);isNaN(b)&&h(0,61446,a);return isNaN(b)?0:b}f=function(a,b){var e=this;this.$3=c("memoize")(function(){return[{listeners:{replace:e.$1.onHasSeen},regex:/^\/direct_v2\/threads\/(.+)\/participants\/(.+)\/has_seen$/},{listeners:{add:e.$1.onMakeAdmin,remove:e.$1.onRemoveAdmin},regex:/^\/direct_v2\/threads\/(\d+)\/admin_user_ids\/(\d+)$/},{listeners:{add:e.$1.onIndicateTypingActivity},regex:/^\/direct_v2\/threads\/(.+)\/activity_indicator_id\/(.+)$/},{listeners:{add:e.$1.onUpdateEmoji,remove:e.$1.onRemoveEmoji,replace:e.$1.onUpdateEmoji},regex:/^\/direct_v2\/threads\/(\d+)\/items\/(\d+)\/reactions\/likes\/(\d+)$/},{listeners:{add:e.$1.onNewMessage,remove:e.$1.onRemoveMessage,replace:e.$1.onUpdatedMessage},regex:/^\/direct_v2\/threads\/(.+)\/items\/(\d+)$/},{listeners:{remove:e.$1.onRemoveThread,replace:e.$1.onNewThread},regex:/^\/direct_v2\/inbox\/threads\/(.+)$/},{listeners:{replace:e.$1.onUnseenCountChange},regex:/^\/direct_v2\/inbox\/unseen_count$/}]});this.handleDelta=function(a,b){var c=a.op,d=a.path;a=a.value;e.$2.debugTrace("handle_delta_start",{mutationToken:b,op:c,path:d});for(var f=e.$3(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i.listeners[c];if(j){i=i.regex.exec(d);i&&(e.$2.debugTrace("handle_delta_match"),j.apply(void 0,[a,b].concat(i.slice(1))))}}e.$2.debugTrace("handle_delta_end")};this.onSeqIdUpdated=function(a){e.$1.onSeqIdUpdated&&e.$1.onSeqIdUpdated(a)};this.onMqttConnectivityChanged=function(a){e.$1.onMqttConnectivityChanged&&e.$1.onMqttConnectivityChanged(a)};this.onIrisConnectivityChanged=function(a,b){e.$1.onIrisConnectivityChanged&&e.$1.onIrisConnectivityChanged(a,b)};this.onPresenceUpdated=function(a){e.$1.onPresenceUpdated&&e.$1.onPresenceUpdated(a)};this.onResnapshotRequested=function(a){e.$1.onResnapshotRequested&&e.$1.onResnapshotRequested(a)};this.$1=a;this.$2=new(d("PolarisDirectLogger").DirectLogger)("DirectDeltaHandlers",b)};g.parsePartialDeltaEmoji=a;g.parseDeltaItem=b;g.stringifyIds=j;g.parseDeltaNumber=e;g.DirectDeltaHandlers=f}),98);
__d("CacheStorage",["ErrorGuard","EventListenerImplForCacheStorage","ExecutionEnvironment","FBJSON","WebStorage","emptyFunction","err","killswitch"],(function(a,b,c,d,e,f,g){var h,i,j,k="_@_",l="3b",m="CacheStorageVersion",n={length:0,getItem:a=c("emptyFunction"),setItem:a,clear:a,removeItem:a,key:a};b=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getLocalStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getLocalStorage()};return b}(b);g=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getSessionStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getSessionStorage()};return b}(b);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,b){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;b&&(this._key_prefix=b);a==="AUTO"||!a?b="memory":b=a;b&&(!p[b]||!p[b].available()?((i||(i=c("ExecutionEnvironment"))).canUseDOM,this._backend=new o()):this._backend=new p[b]());a=this.useBrowserStorage();a&&c("EventListenerImplForCacheStorage").listen(window,"storage",this._onBrowserValueChanged.bind(this));b=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];b!==l&&(c("killswitch")("CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS")?this.clear():this.clearOwnKeys())}var b=a.prototype;b.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c("WebStorage"))).getLocalStorage()||this._backend.getStore()===(h||(h=c("WebStorage"))).getSessionStorage()};b.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};b._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};b.keys=function(){var a=this,b=[];(j||(j=c("ErrorGuard"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};b.set=function(b,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=d("FBJSON").stringify(g)):g=d("FBJSON").stringify(e);f=this._backend;e=this._key_prefix+b;b=!0;var h=null;while(b)try{h=null,f.set(e,g),b=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();b=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};b.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};b.getLastSetException=function(){return this._exception};b.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};b._evictCacheEntries=function(){var b=[],c=this._backend;c.keys().forEach(function(e){if(e===m)return;var g=c.get(e);if(g===void 0){c.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=d("FBJSON").parse(g,f.id)}catch(a){c.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&b.push([e,g.__t])});b.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(b.length/2);e++)c.remove(b[e][0])};b.get=function(b,e){var g;if(this._backend){(j||(j=c("ErrorGuard"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+b)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=d("FBJSON").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(b,g));return g};b.remove=function(a){this._backend&&(j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};b._setVersion=function(){var a=this;(j||(j=c("ErrorGuard"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:"CacheStorage:setVersion"})};b.clear=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};b.clearOwnKeys=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","FBJSON"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter2=b;e.$CrossWindowEventEmitter1=new(c("CacheStorage"))("localstorage",b+":");e.$CrossWindowEventEmitter1.addValueChangeCallback(function(b,c,f){c=b.split(":")[1];try{b=d("FBJSON").parse(f)}catch(a){b=void 0}if(b&&b.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),c].concat(b.__v))}});return e}var e=b.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter1.set(a,c)};return b}(c("EventEmitter"));g["default"]=a}),98);
__d("isFastRefreshEnabledForCurrentDomain",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!1}g["default"]=a}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttEnv",["killswitch"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});d=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}window.clearTimeout(a)};a.setTimeout=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return this.$4!=null?this.$4.apply(null,arguments):window.setTimeout.apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.killswitch=function(a){return this.$7!=null?this.$7(a):c("killswitch")(a)};a.createSocket=function(a,b){return this.$8!=null?this.$8(a,b):new WebSocket(a)};a.scheduleCallback=function(a){return this.$9!=null?this.$9(a):a()};a.scheduleLoggingCallback=function(a){return this.$10!=null?this.$10(a):a()};a.configRead=function(a,b){return this.$11!=null?this.$11(a,b):b};a.configWrite=function(a,b){this.$12!=null&&this.$12(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null,this.$12=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k,l){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=l,this.$8=g,this.$9=h,this.$10=i,this.$11=j,this.$12=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new d();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance();this.$2=null;this.$3=!1;this.$4=!1;this.$5=!1;this.$6=!0;this.$7=0;this.$8=a;if(typeof window!=="undefined"){a=window.location.hostname;(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")&&(this.$6=!1)}}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();f.exports=a}),34);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{value:c,offset:b}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";var h={endpointWithSessionId:function(a,b){return h.endpointWithExtraParameter(a,"sid",b.toString())},endpointWithExtraParameters:function(a,b){var c=a;b.forEach(function(a,b,d){c=h.endpointWithExtraParameter(c,b,a)});return c},endpointWithExtraParameter:function(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c},generateSessionId:function(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)},promiseDone:function(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})},promiseDoneWithTimeout:function(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);h.promiseDone(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})},sprintf:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})},hasWSSupport:function(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype},getWSAvailability:function(){var b="";if("WebSocket"in a&&a.WebSocket!==null)b+="W";else return"none";"CLOSING"in a.WebSocket.prototype&&(b+="C");return b}};f.exports=h}),34);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{wireMessage:null,position:e};b=i.offset;i=b+i.value;if(i>a.length)return{wireMessage:null,position:e};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{wireMessage:j,position:i}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d("MqttProtocolUtils")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,PubAckUnsubAck:n,Ping:k,ConnAck:m,Connect:f,Disconnect:e,Subscription:o,Publish:q};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectionLost,i=g.onConnectFailure;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){h(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){i(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={userName:"",mqttVersion:3,getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,onConnectSuccess:function(a){},onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){}};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket"),b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error"),b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR)};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserName",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h,i,j,k,l){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),this.$1=a,this.$2=b,this.$3=d,this.$4=e,this.$5=f,this.$6=g,this.$7=c("gkx")("1166607")?!1:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l}var b=a.prototype;b.gen=function(a,b,d,e){e===void 0&&(e=[]);var f=c("gkx")("1166607")?!1:this.$7;d=d.map(function(a){a={topic:a.topic,payload:a.payload,qos:a.qos,messageId:a.messageId,isBase64Publish:!1};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});a={u:this.$1,s:a,cp:this.$3,ecp:this.$2,chat_on:this.$6,fg:f,d:this.$4,ct:this.$10,mqtt_sid:"",aid:this.$5,st:b,pm:d,dc:"",no_auto_fg:!0,gas:this.$8,pack:e,php_override:this.$9,p:this.$11,a:navigator.userAgent,aids:this.$12!=null?Object.fromEntries(this.$12):null};return JSON.stringify(a)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.onStateChange,d=a.onJSError,e=a.onMessageReceived,f=a.endpoint,g=a.mqttUserName,h=a.subscribedTopics;a=a.extraConnectMessageProvider;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=c;this.$3=e;this.$5=f;this.$6=g;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=d||q;h&&h.forEach(function(a){return b.$17.add(a)});this.$4=a;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={resolve:function(){},reject:function(a){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null?void 0:g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.onWindowUnload=function(){var a=this;this.publish("/browser_close","{}",0)["catch"](function(){a.$10.bumpCounter("on_window_unload.browser_close_publish_failed")})};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=c("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=c("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=c("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({userName:g,mqttVersion:3,getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnectSuccess:function(c){return a.$41(b,a.$18,f,i,e,c)},onConnection:function(){return a.$42(h,f)},onConnectionLost:function(b,c){return a.$43(b,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)}}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("_doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("_doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("_doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null?void 0:b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("_scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({sessionID:this.$9,connectionStatus:a,connectionState:this.mqttStateFromConnectionState(this.$11),ackReceived:b,duration:k-c,total_duration:k-d,hostname:this.$5,attemptNumber:this.$13,successTotal:this.$14,failTotal:this.$15,subscribedTopics:e,publishes:f,errorCode:i,errorMessage:j,osConnectivity:g,messageSizeBytes:h,disconnectCount:this.$23});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$42=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$41=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$43=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({sessionID:this.$9,errorCode:a.errorCode,errorMessage:b,duration:Date.now()-this.$16,disconnectCount:this.$23})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};return a}();g["default"]=a}),98);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;a=a.assetIds;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){var e=d("MqttEnv").Env.killswitch("MQTT_WS_FORCE_LONG_POLLING");if(e){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!c("MqttUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}}this.$10.run({onStateChange:function(a){b.$20(a)},onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},endpoint:this.$1,mqttUserName:this.$12,subscribedTopics:a,extraConnectMessageProvider:function(){return b.$23()}});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$10.onWindowUnload(),a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,e){e===void 0&&(e={qos:1,skipBuffer:!1});var f;e.qos===0?f=this.$27(a,b,e.listener):f=this.$28(a,b,e);c("MqttUtils").promiseDone(f,function(){},function(a){(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return f};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={resolve:function(){},reject:function(a){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();a={topic:a,payload:c,options:e,ack:f,publishToken:i,timeoutId:null,attempt:0,startTime:Date.now()};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(a);(c=e.listener)==null?void 0:c.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(a);else{a.timeoutId=this.$31(i);this.$15.set(i,a);(c=e.listener)==null?void 0:c.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(a)}return g};e.$30=function(a){a.attempt+=1,c("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;c("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({sessionID:i.$10.getSessionId(),topic:a,qos:e,payloadSizeBytes:b.length*2,success:!0,protocol:k,errorMessage:null,connectionState:l,thisAttemptStartTime:m,firstAttemptStartTime:h,attempt:g,disconnectCount:i.$10.getDisconnectCount()})},function(c){i.$11.eventLogOutgoingPublish({sessionID:i.$10.getSessionId(),topic:a,qos:e,payloadSizeBytes:b.length*2,success:!1,protocol:k,errorMessage:c!=null?c.toString():null,connectionState:l,thisAttemptStartTime:m,firstAttemptStartTime:h,attempt:g,disconnectCount:i.$10.getDisconnectCount()})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){this.$3.push(a)};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({sessionID:this.$10.getSessionId(),topic:a,connectionState:this.getConnectionState(),qos:c,payloadSizeBytes:b.payloadString.length*2,disconnectCount:this.$10.getDisconnectCount()});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;try{g(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}}g=this.$9.get(a);this.$11.eventLogIncomingPublish({sessionID:this.$10.getSessionId(),topic:a,connectionState:this.getConnectionState(),qos:c,payloadSizeBytes:b.payloadBytes.length,disconnectCount:this.$10.getDisconnectCount()});if(!g)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;try{a(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$20=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};e.$23=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$23()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};return a}();f.exports=a}),34);
__d("MqttLogger",["ChannelClientID","FBLogger","Log","LogHistory","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mqtt_client",j=100,k="WEBSOCKET",l=typeof window!=="undefined"?window:self,m=null,n={CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",CLIENT_ERROR:"mqtt_client_error",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},o={CONNECT:"connect",DISCONNECT:"disconnect",OUTGOING_PUBLISH:"outgoing_publish",INCOMING_PUBLISH:"incoming_publish"};a=function(){a.getInstance=function(){m||(m=new a());return m};function a(){this.$1=d("LogHistory").getInstance(i),this.$2=0,this.$3=c("gkx")("778292"),this.$4=Date.now(),this.$5=c("ChannelClientID").getID(),this.$7(),this.$6=d("MqttGlobalStreamCounter").getInstance(),this.$6.isEnabled()||(this.$6=null)}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.sessionID,d=a.connectionStatus,e=a.connectionState,f=a.ackReceived,g=a.duration,h=a.total_duration,i=a.hostname,j=a.attemptNumber,l=a.successTotal,m=a.failTotal;a.subscribedTopics;a.publishes;var p=a.osConnectivity;a.errorCode;var q=a.errorMessage,r=a.messageSizeBytes;a=a.disconnectCount;d=d?"success":"failed";this.bumpCounter(n.CONNECT+"."+d);d=l/(l+m);l=p&&this.getBrowserConnectivity();var s={event_type:o.CONNECT,acked:f,attempt_number:j.toString(),connection_state:e,client_type:k,duration:g.toString(),total_duration:h.toString(),error:q,session_id:b.toString(),os_connectivity:l,payload_size:r==null?void 0:r.toString(),extra_data:{device_id:this.$5,connect_success_rate:d.toString(),hostname:i},ws_count:(m=this.$6)==null?void 0:m.getGlobalState().totalConnectionStreams.toString(),disconnect_count:a.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return s})})};b.eventLogPull=function(a){var b=a.pullEventName,c=a.sessionID,e=a.status,f=a.duration,g=a.hostname;a=a.errorMessage;c={device_id:this.$5,session_id:c,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),href:l.location.hostname,connection_status:e,duration:f,hostname:g,error_message:a};this.$9(b,c)};b.eventLogPullFinish=function(a){var b=a.pullEventName,c=a.sessionID,e=a.duration,f=a.errorMessage,g=a.publishReceived;a=a.publishSent;c={device_id:this.$5,session_id:c,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),href:l.location.hostname,duration:e,error_message:f,publish_received:g,publish_sent:a};this.$9(b,c)};b.eventLogDisconnect=function(a){var b=a.sessionID;a.errorCode;var d=a.errorMessage,e=a.duration;a=a.disconnectCount;this.bumpCounter(n.DISCONNECT);var f={event_type:o.DISCONNECT,connection_state:"Disconnected",client_type:k,duration:e.toString(),error:d,session_id:b.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5},ws_count:(e=this.$6)==null?void 0:e.getGlobalState().totalConnectionStreams.toString(),disconnect_count:a.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.sessionID,d=a.topic,e=a.qos,f=a.payloadSizeBytes,g=a.success,h=a.protocol,i=a.errorMessage,j=a.connectionState,l=a.thisAttemptStartTime,m=a.firstAttemptStartTime,p=a.attempt;a=a.disconnectCount;this.bumpCounter(n.PUBLISH+"."+d);var q=Date.now(),r={event_type:o.OUTGOING_PUBLISH,session_id:b.toString(),topic:d,client_type:k,connection_state:j,qos:e.toString(),acked:e===1?g:null,duration:(q-l).toString(),total_duration:m!=null?(q-m).toString():null,error:i,payload_size:f.toString(),attempt_number:p.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5,protocol:h},disconnect_count:a.toString()};this.$8(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.sessionID,d=a.topic,e=a.connectionState,f=a.qos,g=a.payloadSizeBytes;a=a.disconnectCount;var h={event_type:o.INCOMING_PUBLISH,session_id:b.toString(),topic:d,client_type:k,connection_state:e,qos:f.toString(),payload_size:g.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5},disconnect_count:a.toString()};b=d=="/webrtc"||d=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){var e=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(i).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){var e=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(i).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(j))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,j),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,j)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==n.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,e){c("gkx")("762")&&b!==0?e=e||d("Random").coinflip(b):e=!0;e&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return l.navigator&&l.navigator.onLine!==void 0?l.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(l.navigator&&l.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentUser","MqttEnv","MqttLogger","Random","WebStorage","clearTimeout","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mqtt:",j={genGk:function(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("832242");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("945829");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("1001007");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("1066746");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("968609");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("2795");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}},configRead:function(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b},configWrite:function(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))},initialize:function(){d("MqttEnv").Env.initialize(c("Random").random,c("CurrentUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},j.genGk,null,null,null,j.configRead,j.configWrite)}};f.exports=j}),34);
__d("FBMqttChannel",["MqttChannel","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({endpoint:(a=c("MqttWebConfig")).endpoint,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid,appId:a.appID,initialSubscribedTopics:a.subscribedTopics,capabilities:a.capabilities,clientCapabilities:a.clientCapabilities,chatVisibility:!1,phpOverride:a.hostNameOverride});g["default"]=b}),98);
__d("SecurePostMessage",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h="*";a={sendMessageToSpecificOrigin:function(a,b,c,d){c!==h||g(0,21157),a.postMessage(b,c,d)},sendMessageForCurrentOrigin:function(a,b){a.postMessage(b)},sendMessageAllowAnyOrigin_UNSAFE:function(a,b,c){a.postMessage(b,h,c)}};e.exports=a}),null);
__d("WebStorageCleanupReason",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(){return g}function b(a){g=a}f.getLastCleanupReason=a;f.setLastCleanupReason=b}),66);/*FB_PKG_DELIM*/
__d("GHLRandomElementWrapper",["Random","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=[[1,0],[1,1],[0,1],[0,2],[1,2],[2,2],[2,1],[1,1]],k=Math.floor(Date.now()/(1e3*60*60*24));b=function(a){var b;return(b={},b[a]=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(HTMLSpanElement)),b)[a]};e=function(){return String.fromCharCode(97+c("Random").random()*25)};d=k%10+5;var l=Array(d).fill().map(e).join("");d=Array(d).fill().map(e).join("");var m=l+"-"+d;window.customElements&&window.customElements.define(m,b(l),{"extends":"span"});function a(a){var b=a.children,c=a.elementTag,d=a.useClassStyles;d=d===void 0?!1:d;a=a.useInlineStyles;a=a===void 0?!1:a;b=b;var e=j[k%j.length],f=a?{display:"inline"}:null,g=d?"x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t":null;c==="div"&&!d&&!a&&(g="x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t");c==="randomSpan"?window.customElements?d=m:d="span":d=c;a=e[1];for(c=0;c<a;c++)b=i.jsx(d,{className:g,style:f,children:b});b=i.jsx(d,{children:b});c=e[0];for(a=0;a<c;a++)b=i.jsx(d,{className:g,style:f,children:b});return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLMitigationsGating",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("justknobx")._("684")&&c("gkx")("2758")};b=function(){return c("justknobx")._("922")&&c("gkx")("4786")};d=function(){return c("justknobx")._("222")&&c("gkx")("1253")};e=function(){return c("justknobx")._("1028")&&c("gkx")("7356")};f=function(){return c("justknobx")._("669")&&c("gkx")("5572")};var h=function(){return c("justknobx")._("1051")&&c("gkx")("35")},i=function(){return c("justknobx")._("706")&&c("gkx")("3092")},j=function(){return c("justknobx")._("1175")&&c("gkx")("8719")},k=function(){return c("justknobx")._("1211")&&c("gkx")("8847")},l=function(){return c("justknobx")._("1212")&&c("gkx")("8848")},m=function(){return c("justknobx")._("1301")&&c("gkx")("7942")},n=function(){return c("justknobx")._("794")&&c("gkx")("3492")},o=function(){return c("justknobx")._("1070")&&c("gkx")("6033")},p=function(){return!c("justknobx")._("182")&&c("gkx")("1488")},q=function(){return!c("justknobx")._("1749")&&c("gkx")("3737")},r=function(){return c("justknobx")._("1141")&&c("gkx")("6149")};g.getIsGHLShimRandomizePlaceholderEnabled=a;g.getIsGHLRandomElementWrapperForLinksEnabled=b;g.getIsGHLRandomElementWrapperForStoryTitleEnabled=i;g.getIsGHLEmptyAElementEnabled=e;g.getIsGHLEmptyDivElementAfterH3Enabled=f;g.getIsGHLSVGStyleMarginRightEnabled=d;g.getIsGHLSVGStyleMarginLeftEnabled=h;g.getIsGHLSVGStyleMarginRightWithDivEnabled=j;g.getIsGHLSVGStyleMarginLeftWithDivEnabled=k;g.getIsGHLSVGStyleWidthtWithDivEnabled=l;g.getIsGHLChunkerEnabled=m;g.getIsGHLSVGExtraLayerEnabled=n;g.getIsGHLSVGTextSegmentsEnabled=o;g.getIsGHLSVGTextEnabled=p;g.getIsGHLCanvasTextEnabled=q;g.getIsGHLSVGTextUseTspanEnabled=r}),98);
__d("GHLSVGTextUseElement.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx("use",{xlinkHref:"#gid"+a.domID,xmlnsXlink:"http://www.w3.org/1999/xlink"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGElement.react",["GHLSVGTextUseElement.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx("svg",{style:a.style,children:i.jsx(c("GHLSVGTextUseElement.react"),{domID:a.domID})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGTextUtils",["GHLMitigationsGating","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftEnabled()||d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftWithDivEnabled();b=d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightEnabled()||d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightWithDivEnabled();e=function(a){switch(a){case"14px":return 4;case"15px":return 6;default:return 0}};f=function(a){return!c("gkx")("4132")?null:a==="15px"?{extraHeight:1,paddingTop:1}:null};d=function(a){return!c("gkx")("4377")?null:a==="15px"?4:null};var h=function(a){switch(a){case"14px":case"15px":return!0;default:return!1}};g.anyMarginLeftStylingEnabled=a;g.anyMarginRightStylingEnabled=b;g.getCTAExtraWidth=e;g.getCTACenteringPadding=d;g.getCTAHeightAdjustment=f;g.getIsCTAText=h}),98);
__d("GHLSVGElementContainer.react",["GHLMitigationsGating","GHLSVGElement.react","GHLSVGTextUtils","filterObject","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.domID,e=a.fontSize,f=a.height,g=a.randomizedWidth,h=a.width,j=d("GHLSVGTextUtils").getCTAHeightAdjustment(e),k=d("GHLSVGTextUtils").getCTACenteringPadding(e);f=c("filterObject")({height:f+((f=j==null?void 0:j.extraHeight)!=null?f:0)+"px",overflow:"visible",paddingLeft:k==null?null:k+"px",paddingTop:j==null?null:j.paddingTop+"px"},Boolean);k={marginRight:"-"+(g-h)+"px",width:g+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};j={marginLeft:"-"+(g-h)+"px",width:h+(g-h)+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};return d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightEnabled()?i.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f,k)}):d("GHLMitigationsGating").getIsGHLSVGStyleMarginRightWithDivEnabled()?i.jsx("div",{style:babelHelpers["extends"]({},k),children:i.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f)})}):d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftEnabled()?i.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f,j)}):d("GHLMitigationsGating").getIsGHLSVGStyleMarginLeftWithDivEnabled()?i.jsx("div",{style:babelHelpers["extends"]({},j),children:i.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f)})}):d("GHLMitigationsGating").getIsGHLSVGStyleWidthtWithDivEnabled()?i.jsx("div",{style:{width:h+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"},children:i.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f)})}):i.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f,{width:h+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGText.react",["BasePortal.react","ExecutionEnvironment","GHLMitigationsGating","GHLRandomElementWrapper","GHLSVGElementContainer.react","GHLSVGTextUtils","Random","cr:6269","gkx","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useLayoutEffect,m=e.useRef,n=e.useState,o=null,p=function(){(h||(h=c("ExecutionEnvironment"))).canUseDOM&&o===null&&(o=document.createElement("div"),o.setAttribute("style","position: absolute; top: -10000px;"),document.body&&document.body.appendChild(o));return o},q=1;function a(a){var e=n(0),f=e[0],g=e[1];e=n(0);var h=e[0],i=e[1];e=c("useStable")(function(){return c("Random").random()*40});var o=c("useStable")(function(){return q++}),r=c("useStable")(function(){return q++}),s=m(null);l(function(){var a;a=(a=s.current)==null?void 0:a.getBoundingClientRect();(a==null?void 0:a.height)!=null&&(a==null?void 0:a.width)!=null&&(g(a.height),i(a.width))},[a.fontSize,a.text]);var t=k(function(a){if(a!==null){a=a==null?void 0:a.getBBox();(a==null?void 0:a.width)>0&&(a==null?void 0:a.height)>0&&(i(a==null?void 0:a.width),g(a==null?void 0:a.height))}},[]);e=Math.max(h,100)+e;var u=c("gkx")("186")?j.jsx(c("GHLRandomElementWrapper"),{elementTag:c("gkx")("136")?"randomSpan":c("gkx")("267")?"div":"span",children:j.jsx(c("GHLSVGElementContainer.react"),{domID:o,fontSize:a.fontSize,height:f,randomizedWidth:e,width:h})}):j.jsx(c("GHLSVGElementContainer.react"),{domID:o,fontSize:a.fontSize,height:f,randomizedWidth:e,width:h}),v=c("gkx")("319"),w=c("gkx")("7824"),x="gid"+(d("GHLMitigationsGating").getIsGHLSVGExtraLayerEnabled()?r:o);w=w?s:t;t={fill:"currentColor",fontSize:(t=a==null?void 0:a.fontSize)!=null?t:v?"13px":"12px",overflow:"visible"};e={x:d("GHLSVGTextUtils").anyMarginLeftStylingEnabled&&!d("GHLSVGTextUtils").anyMarginRightStylingEnabled?e-h:void 0,y:v?f-2:f-3};return j.jsxs(j.Fragment,{children:[j.jsxs(c("BasePortal.react"),{target:p(),children:[d("GHLMitigationsGating").getIsGHLSVGExtraLayerEnabled()&&j.jsx("svg",{id:"gid"+o,children:j.jsx("use",{xlinkHref:"#gid"+r,xmlnsXlink:"http://www.w3.org/1999/xlink"})}),j.jsx("svg",{style:{overflow:"visible"},children:d("GHLMitigationsGating").getIsGHLSVGTextUseTspanEnabled()&&b("cr:6269")?j.jsx(b("cr:6269"),{originalText:a.text,textElementID:x,textRef:w,textStyle:t,xPosition:e.x,yPosition:e.y}):j.jsx("text",{id:x,ref:w,style:t,x:e.x,y:e.y,children:a.text})})]}),u]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSVolumeNonePanoFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M11.403 1.083a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917ZM20.704 12l1.94-1.94a1.5 1.5 0 0 0-2.122-2.12l-1.939 1.939-1.94-1.94a1.5 1.5 0 1 0-2.12 2.122L16.461 12l-1.94 1.94a1.5 1.5 0 1 0 2.122 2.12l1.939-1.939 1.94 1.94a1.5 1.5 0 0 0 2.12-2.122Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDSVolumeOffFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:i.jsx("path",{clipRule:"evenodd",d:"M1.5 13.3c-.8 0-1.5.7-1.5 1.5v18.4c0 .8.7 1.5 1.5 1.5h8.7l12.9 12.9c.9.9 2.5.3 2.5-1v-9.8c0-.4-.2-.8-.4-1.1l-22-22c-.3-.3-.7-.4-1.1-.4h-.6zm46.8 31.4-5.5-5.5C44.9 36.6 48 31.4 48 24c0-11.4-7.2-17.4-7.2-17.4-.6-.6-1.6-.6-2.2 0L37.2 8c-.6.6-.6 1.6 0 2.2 0 0 5.7 5 5.7 13.8 0 5.4-2.1 9.3-3.8 11.6L35.5 32c1.1-1.7 2.3-4.4 2.3-8 0-6.8-4.1-10.3-4.1-10.3-.6-.6-1.6-.6-2.2 0l-1.4 1.4c-.6.6-.6 1.6 0 2.2 0 0 2.6 2 2.6 6.7 0 1.8-.4 3.2-.9 4.3L25.5 22V1.4c0-1.3-1.6-1.9-2.5-1L13.5 10 3.3-.3c-.6-.6-1.5-.6-2.1 0L-.2 1.1c-.6.6-.6 1.5 0 2.1L4 7.6l26.8 26.8 13.9 13.9c.6.6 1.5.6 2.1 0l1.4-1.4c.7-.6.7-1.6.1-2.2z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDSVolumePanoFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M16.636 7.028a1.5 1.5 0 1 0-2.395 1.807 5.365 5.365 0 0 1 1.103 3.17 5.378 5.378 0 0 1-1.105 3.176 1.5 1.5 0 1 0 2.395 1.806 8.396 8.396 0 0 0 1.71-4.981 8.39 8.39 0 0 0-1.708-4.978Zm3.73-2.332A1.5 1.5 0 1 0 18.04 6.59 8.823 8.823 0 0 1 20 12.007a8.798 8.798 0 0 1-1.96 5.415 1.5 1.5 0 0 0 2.326 1.894 11.672 11.672 0 0 0 2.635-7.31 11.682 11.682 0 0 0-2.635-7.31Zm-8.963-3.613a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisAdBlockerMitigationGatingHelpers",["justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("1382")==="svg"&&c("justknobx")._("931")}function b(){return c("qex")._("1382")==="random_element_wrapper"&&c("justknobx")._("1118")}g.shouldUseSVGTextMitigation=a;g.shouldUseRandomElementWrapper=b}),98);
__d("IGXAccountsCenterAdSettingsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/ad_preferences/ad_settings/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("PolarisBasicAdsBadge.react",["fbt","GHLSVGText.react","IGDSText.react","IGXAccountsCenterAdSettingsControllerRouteBuilder","InstagramODS","PolarisAdBlockerMitigationGatingHelpers","PolarisExternalLink.react","gkx","react","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__cszcGv_S3oX__JHASH__"),l=h._("__JHASH__Ywj08iwY3IT__JHASH__"),m="accountscenter";function a(){var a=c("gkx")("3942"),b=d("PolarisAdBlockerMitigationGatingHelpers").shouldUseSVGTextMitigation(),e=c("usePolarisViewer")();e=(e==null?void 0:e.isBasicAdsOptedIn)===!0&&(e==null?void 0:e.basicAdsTier)===3;var f=c("usePolarisAnalyticsContext")()==="feedPage";if(!a||!e||!f)return null;a=(f=(a=c("IGXAccountsCenterAdSettingsControllerRouteBuilder").buildUri({}).getQualifiedUri())==null?void 0:(e=a.setSubDomain(m))==null?void 0:e.toString())!=null?f:"";return j.jsxs("span",{children:[" \xb7 ",b?j.jsx(c("GHLSVGText.react"),{text:k.toString()}):k," ",j.jsx(c("PolarisExternalLink.react"),{href:a,onClick:function(){return c("InstagramODS").incr("web.ads.feed.basic_ads.badge.click")},children:j.jsx(c("IGDSText.react").Body2Emphasized,{children:b?j.jsx(c("GHLSVGText.react"),{text:l.toString()}):l})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSponsoredLabel.react",["GHLRandomElementWrapper","GHLSVGText.react","PolarisAdBlockerMitigationGatingHelpers","PolarisBasicAdsBadge.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{color:"x5n08af",fontSize:"x1fhwpqd",lineHeight:"x132q4wb",$$css:!0}};function a(a){var b,e=a["data-testid"];e=a.label;var f=a.placementHasBasicAds;a=a.xstyle;e=j.jsxs(j.Fragment,{children:[d("PolarisAdBlockerMitigationGatingHelpers").shouldUseSVGTextMitigation()===!0?j.jsx(c("GHLSVGText.react"),{text:e.toString()}):e,f===!0&&j.jsx(c("PolarisBasicAdsBadge.react"),{})]});return j.jsx("span",{className:(h||(h=c("stylex")))(k.root,a),"data-testid":void 0,children:d("PolarisAdBlockerMitigationGatingHelpers").shouldUseRandomElementWrapper()===!0?j.jsx(c("GHLRandomElementWrapper"),{elementTag:"randomSpan",children:e}):e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIsLoggedInDesktop",["PolarisConfig","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!d("PolarisUA").isMobile()&&d("PolarisConfig").isLoggedIn()}g.isLoggedInDesktop=a}),98);
__d("InstagramOrganicImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1115");b=d("FalcoLoggerInternal").create("instagram_organic_impression",a);e=b;g["default"]=e}),98);
__d("InstagramVideoViewabilityChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4670");b=d("FalcoLoggerInternal").create("instagram_video_viewability_changed",a);e=b;g["default"]=e}),98);
__d("VideoAudioDisabledFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4847");b=d("FalcoLoggerInternal").create("video_audio_disabled",a);e=b;g["default"]=e}),98);
__d("VideoAudioEnabledFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4848");b=d("FalcoLoggerInternal").create("video_audio_enabled",a);e=b;g["default"]=e}),98);
__d("VideoBufferingFinishedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4849");b=d("FalcoLoggerInternal").create("video_buffering_finished",a);e=b;g["default"]=e}),98);
__d("VideoBufferingStartedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4850");b=d("FalcoLoggerInternal").create("video_buffering_started",a);e=b;g["default"]=e}),98);
__d("VideoExitedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4672");b=d("FalcoLoggerInternal").create("video_exited",a);e=b;g["default"]=e}),98);
__d("VideoFullViewedTimeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4887");b=d("FalcoLoggerInternal").create("video_full_viewed_time",a);e=b;g["default"]=e}),98);
__d("VideoPausedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1206");b=d("FalcoLoggerInternal").create("video_paused",a);e=b;g["default"]=e}),98);
__d("VideoShouldStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1207");b=d("FalcoLoggerInternal").create("video_should_start",a);e=b;g["default"]=e}),98);
__d("VideoStartedPlayingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1208");b=d("FalcoLoggerInternal").create("video_started_playing",a);e=b;g["default"]=e}),98);
__d("VideoViewedTimeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4678");b=d("FalcoLoggerInternal").create("video_viewed_time",a);e=b;g["default"]=e}),98);
__d("PolarisVideoFalcoLogger",["InstagramVideoViewabilityChangedFalcoEvent","PolarisNavChain","PolarisVideoLogger","VideoAudioDisabledFalcoEvent","VideoAudioEnabledFalcoEvent","VideoBufferingFinishedFalcoEvent","VideoBufferingStartedFalcoEvent","VideoExitedFalcoEvent","VideoFullViewedTimeFalcoEvent","VideoPausedFalcoEvent","VideoShouldStartFalcoEvent","VideoStartedPlayingFalcoEvent","VideoViewedTimeFalcoEvent","polarisUnexpected"],(function(a,b,c,d,e,f,g){"use strict";e=[(b=d("PolarisVideoLogger")).VIDEO_EVENTS.shouldStart,b.VIDEO_EVENTS.paused,b.VIDEO_EVENTS.exited,b.VIDEO_EVENTS.audioEnabled,b.VIDEO_EVENTS.audioDisabled,b.VIDEO_EVENTS.bufferingStarted,b.VIDEO_EVENTS.bufferingFinished,b.VIDEO_EVENTS.startedPlaying,b.VIDEO_EVENTS.fullViewedTime,b.VIDEO_EVENTS.viewedTime,b.VIDEO_EVENTS.viewabilityChanged];function a(b,e,a){switch(b){case d("PolarisVideoLogger").VIDEO_EVENTS.shouldStart:h(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.paused:i(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.exited:j(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.audioEnabled:k(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.audioDisabled:l(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.bufferingStarted:m(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.bufferingFinished:n(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.startedPlaying:o(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.fullViewedTime:p(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.viewedTime:q(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.viewabilityChanged:r(e,a);break;default:c("polarisUnexpected")("Video: logging an unsupported video falco event using WWW Falco")}}function h(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.m_pk,i=b.pk,j=b.playback_format,k=b.reason,l=b.seq_num,m=b.time,n=b.time_spent_id;b=b.tracking_token;var o=babelHelpers["extends"]({reason:k,seq_num:l.toString(),time:m==null?null:Number(m)},s(g,h),{pk:i,a_i:d,a_pk:e,nav_chain:(k=c("PolarisNavChain").getInstance())==null?void 0:k.getNavChainForSend(),tracking_token:b,playback_format:j,time_spent_id:n,pigeon_reserved_keyword_module:a});c("VideoShouldStartFalcoEvent").log(function(){return o})}function i(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.seq_num,q=b.time,r=b.time_spent_id,t=b.tracking_token;b=b.video_width;var u=babelHelpers["extends"]({seq_num:p.toString(),time:Number(q)},s(g,l),{pk:m,a_i:d,a_pk:e,nav_chain:(p=c("PolarisNavChain").getInstance())==null?void 0:p.getNavChainForSend(),tracking_token:t,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:Boolean(i),video_width:String(b),playing_audio:Boolean(o),loop_count:Number(j),lsp:Number(k),duration:Number(h)});c("VideoPausedFalcoEvent").log(function(){return u})}function j(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.seq_num,q=b.time,r=b.time_spent_id,t=b.tracking_token;b=b.video_width;var u=babelHelpers["extends"]({seq_num:p.toString(),time:Number(q)},s(g,l),{pk:m,a_i:d,a_pk:e,nav_chain:(p=c("PolarisNavChain").getInstance())==null?void 0:p.getNavChainForSend(),tracking_token:t,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),playing_audio:String(o),loop_count:String(j),lsp:Number(k),duration:Number(h)});c("VideoExitedFalcoEvent").log(function(){return u})}function k(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.pk,m=b.playback_format,n=b.seq_num,o=b.time,p=b.time_spent_id,q=b.tracking_token;b=b.video_width;var r=babelHelpers["extends"]({seq_num:n.toString(),time:Number(o)},s(g,k),{pk:l,a_i:d,a_pk:e,nav_chain:(n=c("PolarisNavChain").getInstance())==null?void 0:n.getNavChainForSend(),tracking_token:q,playback_format:m,time_spent_id:p,pigeon_reserved_keyword_module:a,is_dash_eligible:Boolean(i),video_width:String(b),loop_count:(o=j)!=null?o:0,duration:Number(h)});c("VideoAudioEnabledFalcoEvent").log(function(){return r})}function l(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.pk,m=b.playback_format,n=b.seq_num,o=b.time,p=b.time_spent_id,q=b.tracking_token;b=b.video_width;var r=babelHelpers["extends"]({seq_num:n.toString(),time:Number(o)},s(g,k),{pk:l,a_i:d,a_pk:e,nav_chain:(n=c("PolarisNavChain").getInstance())==null?void 0:n.getNavChainForSend(),tracking_token:q,playback_format:m,time_spent_id:p,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),loop_count:(o=j)!=null?o:0,duration:Number(h)});c("VideoAudioDisabledFalcoEvent").log(function(){return r})}function m(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.follow_status,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.m_ts,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.radio_type,q=b.seq_num,r=b.time_spent_id,t=b.timeAsPercent,u=b.tracking_token;b=b.video_width;if(o==null)return;var v=babelHelpers["extends"]({seq_num:q.toString()},s(g,k),{pk:m,a_i:d,a_pk:e,nav_chain:(q=c("PolarisNavChain").getInstance())==null?void 0:q.getNavChainForSend(),tracking_token:u,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:b==null?void 0:b.toString(),loop_count:(g=j)!=null?g:0,follow_status:(k=h)!=null?k:"not_following",m_ts:l==null?void 0:l.toString(),playing_audio:o.toString(),radio_type:p,timeAsPercent:(m=t)!=null?m:0});c("VideoBufferingStartedFalcoEvent").log(function(){return v})}function n(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.follow_status,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.m_ts,n=b.pk,o=b.playback_format,p=b.playing_audio,q=b.radio_type,r=b.seq_num,t=b.time_spent_id,u=b.timeAsPercent,v=b.tracking_token;b=b.video_width;var w=babelHelpers["extends"]({seq_num:r.toString()},s(g,l),{pk:n,a_i:d,a_pk:e,nav_chain:(r=c("PolarisNavChain").getInstance())==null?void 0:r.getNavChainForSend(),tracking_token:v,playback_format:o,time_spent_id:t,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),lsp:Number((g=k)!=null?g:0),loop_count:(l=j)!=null?l:0,follow_status:(n=h)!=null?n:"not_following",m_ts:String(m),playing_audio:String(p),radio_type:q,timeAsPercent:(d=u)!=null?d:0});c("VideoBufferingFinishedFalcoEvent").log(function(){return w})}function o(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.dropped_frame_count,i=b.is_dash_eligible,j=b.m_pk,k=b.pk,l=b.playback_format,m=b.reason,n=b.seq_num,o=b.start_delay,p=b.time,q=b.time_spent_id,r=b.total_frame_count,t=b.tracking_token;b=b.video_width;if(m==null)return;h=r!=null&&h!=null?babelHelpers["extends"]({dropped_frame_count:h==null?void 0:h.toString(),total_frame_count:r==null?void 0:r.toString(),video_width:b==null?void 0:b.toString()},s(g,j)):babelHelpers["extends"]({video_width:b==null?void 0:b.toString()},s(g,j));var u=babelHelpers["extends"]({reason:m,start_delay:o==null?null:Number(o),seq_num:n.toString(),time:p==null?null:Number(p)},h,{pk:k,a_i:d,a_pk:e,nav_chain:(r=c("PolarisNavChain").getInstance())==null?void 0:r.getNavChainForSend(),tracking_token:t,is_dash_eligible:i===1,playback_format:l,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoStartedPlayingFalcoEvent").log(function(){return u})}function p(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.seq_num,p=b.time,q=b.time_spent_id,r=b.tracking_token;b=b.video_width;if(r==null||p==null)return;var t=babelHelpers["extends"]({duration:h==null?null:Number(h),lsp:Number((h=k)!=null?h:0),time:Number(p),loop_count:(k=j)!=null?k:0,seq_num:o.toString(),video_width:String(b)},s(g,l),{a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pk:m,tracking_token:r,is_dash_eligible:String(i),playback_format:n,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoFullViewedTimeFalcoEvent").log(function(){return t})}function q(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.seq_num,p=b.time,q=b.time_spent_id,r=b.tracking_token;b=b.video_width;if(r==null||p==null)return;var t=babelHelpers["extends"]({duration:h==null?null:Number(h),lsp:Number((h=k)!=null?h:0),time:Number(p),loop_count:(k=j)!=null?k:0,seq_num:o.toString(),video_width:String(b)},s(g,l),{a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pk:m,tracking_token:r,is_dash_eligible:String(i),playback_format:n,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoViewedTimeFalcoEvent").log(function(){return t})}function r(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.current_viewability_percentage,i=b.is_dash_eligible,j=b.m_pk,k=b.pk,l=b.playback_format,m=b.seq_num,n=b.time,o=b.time_spent_id,p=b.tracking_token,q=b.video_time_position;b=b.video_width;if(h==null)return;var r=babelHelpers["extends"]({current_viewability_percentage:h.toString(),seq_num:m.toString(),time:n==null?null:Number(n),video_time_position:q},s(g,j),{pk:k,a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),tracking_token:p,playback_format:l,time_spent_id:o,pigeon_reserved_keyword_module:a,is_dash_eligible:i.toString(),video_width:b==null?void 0:b.toString()});c("InstagramVideoViewabilityChangedFalcoEvent").log(function(){return r})}function s(a,b){return a==null?{m_pk:b}:{carousel_media_id:a,m_pk:b}}g.SUPPORTED_FALCO_EVENT_TYPES=e;g.logVideoFalcoEvent=a}),98);
__d("PolarisVideoLogger",["InstagramODS","PolarisAdsGatingHelpers","PolarisConfig","PolarisLogger","PolarisNavChain","PolarisPageID","PolarisPigeonLogger","PolarisVideoFalcoLogger","polarisUnexpected","qex"],(function(a,b,c,d,e,f,g){"use strict";e={audioDisabled:"video_audio_disabled",audioEnabled:"video_audio_enabled",bufferingFinished:"video_buffering_finished",bufferingStarted:"video_buffering_started",exited:"video_exited",failedPlaying:"video_failed_playing",formatChanged:"video_format_changed",fullViewedTime:"video_full_viewed_time",paused:"video_paused",playingUpdate:"video_playing_update",seek:"video_seek",shouldStart:"video_should_start",startedPlaying:"video_started_playing",viewabilityChanged:"instagram_video_viewability_changed",viewed:"video_viewed",viewedTime:"video_viewed_time"};function h(a){var b=a.carouselParentId,e=a.id,f=a.isAd,g=a.isDashEligible,h=a.ownerId,i=a.playbackFormat,j=a.trackingToken,k=babelHelpers.objectWithoutPropertiesLoose(a,["carouselParentId","id","isAd","isDashEligible","ownerId","playbackFormat","trackingToken"]);a=d("PolarisLogger").getExtra(a);a=a.ig_userid;h=h||"";e=e||"";b=b!=null?{carousel_media_id:e+"_"+h,m_pk:b+"_"+h}:{m_pk:e+"_"+h};return babelHelpers["extends"]({},k,b,{a_i:f===!0?"ad":"organic",a_pk:h,is_dash_eligible:g,nav_chain:(e=c("PolarisNavChain").getInstance())==null?void 0:e.getNavChainForSend(),pk:a,playback_format:i,time_spent_id:c("PolarisPageID"),tracking_token:j})}function a(a){return a!=null?Number(a.toFixed(2)):null}function b(b,e,a){if(!d("PolarisConfig").isLoggedIn())return;var g=h(e);if(g.tracking_token==null){c("polarisUnexpected")("Video: can't log event without a tracking token!");return}e.isAd===!0&&c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.ads."+a+"."+b);e=e.isAd===!0;e=(!e||d("PolarisAdsGatingHelpers").isWWWFalcoEnabledForVideoAds())&&d("PolarisVideoFalcoLogger").SUPPORTED_FALCO_EVENT_TYPES.includes(b)&&c("qex")._("645")===!0;e?d("PolarisVideoFalcoLogger").logVideoFalcoEvent(b,g,a):d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent(b,g,{module:a}))}g.VIDEO_EVENTS=e;g.normalizeVideoEvent=a;g.logVideoEvent=b}),98);
__d("PolarisOzConfigMobileDefault",[],(function(a,b,c,d,e,f){"use strict";a={abr_use_download_time:!1,allow_queueing_end_of_stream_when_update:!1,back_off_pdash_504_retry:!1,bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,buffer_when_waiting:!1,call_end_of_stream_in_quick_starter:!1,check_buffer_range_once_for_playhead_update:!1,cleanup_video_node_on_destroy:!1,clear_buffer_when_switch_representation_initiator_is_user:!1,clear_prepended_segments_count_on_append:!1,copy_new_manifest:!1,detach_media_source_manager:!1,disable_audio_scheduler:!1,enable_abr_for_first_request:!1,enable_adaptation:!0,enable_appends_on_wait_update_end_failure:!1,enable_network_manager_error:!1,enable_quickdashv2:!1,estimate_video_bandwidth_only:!1,exclude_prefetch_bandwidth_samples:!0,fallback_on_append_error:!1,fix_abr_default_representation:!1,fix_quick_starter_overhead:!0,fix_seek_performance:!1,fix_template_duration_artifact_in_manifest:!1,generate_mos_segment_appended_secs:!1,ignore_time_to_response_start:!1,lazy_parse_sidx:!1,live_audio_ibr:!0,live_catch_up_only_when_paused:!1,live_disable_mpd_updates_when_paused:!1,live_gracefully_handle_mpd_errors:!1,live_gracefully_handle_no_network:!1,live_no_segment_when_playhead_is_before_first_segment:!1,live_playhead_catch_up:!1,live_query_time_in_range:!1,log_appended_secs:!1,maybe_end_stream_if_prepended_segments:!1,no_new_loop_body_promise_when_stream_ongoing:!1,pausable_stream_throws_error_when_aborted:!1,pdash_continue_interrupt_from_error:!1,queue_data_with_error_handling:!1,reach_end_only_when_video_ended:!1,remove_src_attr_on_unload:!1,retry_fetch_on_prefetch_error:!1,sbm_recursively_waits_for_update_end:!1,sbm_waits_for_update_end:!0,seek_ahead_use_native_current_time:!1,seek_to_start_quick_starter:!1,set_source_buffer_append_window_end:!1,skip_videobuffer_gaps:!0,stop_manifest_update_when_static:!1,suppress_playing_event_while_buffering:!1,throw_network_error_during_stream:!1,throw_on_non_zero_r_d_mismatch:!1,touch_cb_key:!1,update_bandwidth_cache_on_sample:!1,update_duration_when_init_appended:!1,update_media_source_duration:!0,use_abr_for_missing_default_representation:!1,use_deferred_streaming_task:!1,use_loose_manifest_updates:!1,use_performance_entry_on_stream_close:!1,use_sc_timebased_segments:!1,use_scf_timebased_segments:!1,use_scheduler:!0,use_segment_request_cache:!1,use_stream_end_time_in_segment_locator:!1};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:0,appends_per_segment:3,auto_seek_playhead_slack:0,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_estimator_variance_penalty_down_factor:0,bandwidth_estimator_variance_penalty_half_life:0,bandwidth_estimator_variance_penalty_up_factor:0,bandwidth_penalty_additional_video_start:0,bandwidth_penalty_per_additional_video:0,bandwidth_response_time_handicap:0,buffer_ahead_target:19,byte_count_per_sample:6e4,default_bandwidth_estimate:5e5,download_time_buffer_delta_penalty_factor:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,initial_switch_interval:0,live_audio_ibr_bandwidth_percentage:.05,live_catch_up_fall_behind_threshold:20,live_catch_up_live_head_delta:6,live_max_try_attempts_on_404:1,live_numerical_error_epsilon:0,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:2e6,min_eval_interval:1e3,min_switch_interval:5e3,minimum_bandwidth_sample_duration:30,minimum_bytes_to_sample_on_close:25e3,minimum_download_additional_buffer_ms:0,network_seg_timeout_ms:0,paused_stream_segments_count:2,per_stream_duration_target:0,playhead_nudge_slack:0,pre_start_buffer_ahead_target:10,resolution_constraint_factor:2,seconds_to_stream:0,seconds_to_stream_near_bandwidth_boundary:0,seek_ahead_epsilon:0,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,start_buffer_underflow_target:.1,stream_interrupt_check_mpd_stale_count_threshold:0,time_to_first_byte_estimate_half_life_ms:500,timeline_offset_threshold:0};c={bandwidth_cache_key:"bandwidthEstimate",network_end_broadcasts_json:"[]",network_reload_mpd_json:"[]",network_retry_intervals_json:'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}',network_skip_json:"[]"};f.defaultBools=a;f.defaultNumbers=b;f.defaultStrings=c}),66);
__d("oz-player-polaris/configs/PolarisDummyOzConfig",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};b.getNumber=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};b.getString=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};return a}();f["default"]=a}),66);
__d("usePolarisOzPlayer",["InstagramODS","JSResourceForInteraction","PolarisMonitorErrors","PolarisOzConfigMobileDefault","PolarisUA","asyncToGeneratorRuntime","gkx","justknobx","once","oz-player-polaris/configs/PolarisDummyOzConfig","oz-player-polaris/utils/PolarisOzError","polarisManifestHasUnsupportedCodecs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(a){if(!c("justknobx")._("90"))return!1;if(d("PolarisUA").isFirefox())return!1;a=a.dashInfo;if(a==null)return!1;var b=a.is_dash_eligible;a=a.video_dash_manifest;if(!b||a==null||!l())return!1;if(c("polarisManifestHasUnsupportedCodecs")(a)){c("InstagramODS").incr("web.video.unsupported.codec");return!1}return d("PolarisUA").isDesktop()}var l=c("once")(function(){var a=!0;c("InstagramODS").incr("web.video.oz_player_support_check");window.MediaSource||(a=!1,c("InstagramODS").incr("web.video.oz_player_media_source_failed"));(!window.fetch||!window.AbortController)&&(a=!1,c("InstagramODS").incr("web.video.oz_player_fetch_abort_failed"));var b=!!window.MediaKeys&&!!window.navigator&&!!window.navigator.requestMediaKeySystemAccess&&!!window.MediaKeySystemAccess&&!!window.MediaKeySystemAccess.prototype.getConfiguration;b||(a=!1,c("InstagramODS").incr("web.video.oz_player_drm_support_failed"));if(window.ReadableStream)try{new ReadableStream({})}catch(b){a=!1,c("InstagramODS").incr("web.video.oz_player_readable_stream_use_failed")}else a=!1,c("InstagramODS").incr("web.video.oz_player_readable_stream_failed");window.Headers||(a=!1,c("InstagramODS").incr("web.video.oz_player_headers_failed"));(!((b=window.URL)==null?void 0:b.createObjectURL)||!Blob)&&(a=!1,c("InstagramODS").incr("web.video.oz_player_blob_url_failed"));c("gkx")("4980")||(a=!1,c("InstagramODS").incr("web.video.oz_player_gk_failed"));a||c("InstagramODS").incr("web.video.oz_player_support_failed");return a}),m=c("once")(function(){var a=d("PolarisUA").isMobile()?Object.assign({},d("PolarisOzConfigMobileDefault").defaultBools,d("PolarisOzConfigMobileDefault").defaultNumbers,d("PolarisOzConfigMobileDefault").defaultStrings):{cleanup_video_node_on_destroy:!1};return new(c("oz-player-polaris/configs/PolarisDummyOzConfig"))(a)});function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a===void 0&&(a=null);var e=(yield c("JSResourceForInteraction")("oz-player-polaris").__setRef("usePolarisOzPlayer").load()),f=m(),g={height:b.offsetHeight,width:b.offsetWidth};return a!=null?new e({config:f,customRepresentationParsers:d,dimensions:g,rawMpdXml:a,videoNodeOrQuickStarter:b}):new e({config:f,customRepresentationParsers:d,dimensions:g,videoNodeOrQuickStarter:b})});return o.apply(this,arguments)}function p(a){var b=["oz_player_error -"];b.push("name: "+a.name);b.push("message: "+a.message);a.description!=null&&a.description.length>0&&b.push("description: "+a.description);if(a instanceof c("oz-player-polaris/utils/PolarisOzError")){a=a.getExtra();a.code!=null&&b.push("code: "+a.code)}return b.join(" ")}function q(a,b,c){b!=null&&a.src!==b&&(a.src=b),c&&c()}function e(a,b,e,f,g){a===void 0&&(a=null);b===void 0&&(b=null);var h=k(!1),l=h[0],m=h[1],o=j(null),r=j(null),s=j(f);i(function(){if(e!=null&&o.current==null&&r.current==null){var f=s.current,h=f.customRepresentationParsers,i=f.onPlayerReady,j=f.onSwitchVideoRepresentation;f=n(b,e,h).then(function(b){o.current=b,b.onError(function(a){d("PolarisMonitorErrors").logError(new Error(p(a)))}),b.addListener("enter_buffering",function(){e.playbackRate=0}),b.addListener("leave_buffering",function(){e.playbackRate=1}),b.addListener("mpd_ready",function(){c("InstagramODS").incr("web.video.load_manifest_successful"),m(!0),i&&i()}),b.addListener("switchVideoRepresentation",function(){if(j!=null){var a=e.currentTime;a=b.getVideoRepresentationIDAtTime(a);a!=null&&j(a)}}),c("InstagramODS").incr("web.video.load_manifest_request"),b.load(a)})["catch"](function(){d("PolarisMonitorErrors").logError(new Error("oz_player_error: failed to create the oz player")),c("InstagramODS").incr("web.video.load_manifest_failed"),o.current!=null?o.current.destroy().then(function(){q(e,g,i)}):q(e,g,i)});r.current=f}return function(){r.current!=null&&(r.current=null),o.current!=null&&(o.current.destroy(),o.current=null)}},[g,a,b,e]);return{manifestLoaded:l,ozPlayer:o.current}}g.shouldUseOzForPostVideo=a;g.useOzPlayer=e}),98);
__d("polarisVideoUtils",["PolarisConfig","PolarisContainerModuleUtils","PolarisIsLoggedInDesktop","PolarisPanavisionQEHelpers","PolarisRelationshipTypes","PolarisUA","PolarisVideoConstants","PolarisVideoLogger","usePolarisOzPlayer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(!o())return!1;a=h(c);return a!=null&&a>d("PolarisVideoConstants").VIDEO_PREVIEW_DURATION_SECONDS}function h(a){return a&&a.getCurrentTime()}function b(a){return d("usePolarisOzPlayer").shouldUseOzForPostVideo(a)?a.dashInfo:void 0}function c(a){return a?"metadata":"none"}function e(a){return(a==null?void 0:(a=a.followedByViewer)==null?void 0:a.state)===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING?"following":"not_following"}function f(a,b){if(a===d("PolarisVideoConstants").AUDIO_STATES.none)return!0;return b!==!0?!1:a!==d("PolarisVideoConstants").AUDIO_STATES.on}function i(a,b){a=a==null?void 0:a.getVideo();if(a===null)return!0;a=(a==null?void 0:a.muted)===!0||(a==null?void 0:a.volume)===0;return a&&b}function j(a){return n(a)&&d("PolarisIsLoggedInDesktop").isLoggedInDesktop()?!1:!0}function k(a){return a===d("PolarisVideoConstants").PLAYER_STATES.playing||a===d("PolarisVideoConstants").PLAYER_STATES.requestedPlay}function l(a){var b=h(a)||0;a=a&&a.getDuration();return a!=null&&a!==0?b/a:0}function m(a){return a&&a.getPauseTime()}function n(a){return a==="feed"||a==="feedPage"||a==="followingFeedPage"||a==="favoritesFeedPage"||a==="pastPostsFeedPage"}function o(){return!1}function p(a,b,c){d("PolarisConfig").isLoggedIn()&&d("PolarisVideoLogger").logVideoEvent(b,c,d("PolarisContainerModuleUtils").getContainerModule(a))}function q(a,b){if(o())return!0;b=n(a)&&!d("PolarisPanavisionQEHelpers").hasNoLetterboxing();return d("PolarisUA").isMobile()||b}function r(a,b){return o()}g.didReachEndOfIGTVPreview=a;g.getCurrentVideoTime=h;g.getDashInfo=b;g.getDeclarativeVideoPreload=c;g.getFollowingStatus=e;g.getShouldMuteAudio=f;g.getShouldStopVideoInBackground=i;g.getShouldStopVideoWhenNotVisible=j;g.getShouldVideoLoop=k;g.getTimeAsPercentage=l;g.getTimeAtVideoPause=m;g.isFeed=n;g.isIGTVFeedPreview=o;g.logVideoEventWrapper=p;g.shouldCenterCropPosterHeight=q;g.shouldCenterCropVideoHeight=r}),98);
__d("polarisVideoEventLogger",["InstagramODS","PolarisVideoLogger","polarisVideoUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.adTrackingToken,c=a.carouselParentId,d=a.dashInfo,e=a.extras,f=a.id,g=a.isAd,h=a.ownerId,i=a.streamingFormat,j=a.trackingToken;a=a.videoWidth;var k=(d==null?void 0:d.is_dash_eligible)?1:0;(d==null?void 0:d.video_dash_manifest)!=null;d=i==="dash"?"dash":"progressive";e=babelHelpers["extends"]({},e,{carouselParentId:c,id:f||"",isAd:!1,isDashEligible:k,ownerId:(i=h)!=null?i:"",playbackFormat:d,trackingToken:g===!0&&b!=null?b:j});a!=null&&a!==0&&(e.video_width=a);g===!0&&(e.isAd=g);return e}function a(a){return a==null?null:{adTrackingToken:a==null?void 0:a.tracking_token,isAd:!!a}}function b(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.loopsCount,m=a.ownerId,n=a.sequenceNumber,o=a.streamingFormat,p=a.trackingToken;a=a.videoWidth;i={duration:d("PolarisVideoLogger").normalizeVideoEvent(i),loop_count:l,seq_num:n,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.audioEnabled,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:i,id:j,isAd:k,ownerId:m,streamingFormat:o,trackingToken:p,videoWidth:a}))}function e(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.loopsCount,m=a.ownerId,n=a.sequenceNumber,o=a.streamingFormat,p=a.trackingToken;a=a.videoWidth;i={duration:d("PolarisVideoLogger").normalizeVideoEvent(i),loop_count:l,seq_num:n,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.audioDisabled,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:i,id:j,isAd:k,ownerId:m,streamingFormat:o,trackingToken:p,videoWidth:a}))}function f(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.followingStatus,i=a.id,j=a.isAd,k=a.lastStartPosition,l=a.loopsCount,m=a.ownerId,n=a.postedAt,o=a.sequenceNumber,p=a.streamingFormat,q=a.timeAsPercent,r=a.trackingToken;a=a.videoWidth;g={follow_status:(g=g)!=null?g:"not_following",loop_count:l,lsp:d("PolarisVideoLogger").normalizeVideoEvent(k),m_ts:n,playing_audio:1,radio_type:"none-none",seq_num:o,timeAsPercent:q};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.bufferingFinished,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,ownerId:m,streamingFormat:p,trackingToken:r,videoWidth:a}))}function i(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.followingStatus,i=a.id,j=a.isAd,k=a.loopsCount,l=a.ownerId,m=a.postedAt,n=a.sequenceNumber,o=a.streamingFormat,p=a.timeAsPercent,q=a.trackingToken;a=a.videoWidth;g={follow_status:(g=g)!=null?g:"not_following",loop_count:k,m_ts:m,playing_audio:1,radio_type:"none-none",seq_num:n,timeAsPercent:p};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.bufferingStarted,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,ownerId:l,streamingFormat:o,trackingToken:q,videoWidth:a}))}function j(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.dashInfo,i=a.duration,j=a.exitTime,k=a.hasPlayedVideo,l=a.id,m=a.isAd,n=a.lastStartPosition,o=a.loopsCount,p=a.ownerId,q=a.sequenceNumber,r=a.streamingFormat,s=a.trackingToken;a=a.videoWidth;if(k){i={duration:(k=d("PolarisVideoLogger")).normalizeVideoEvent(i),loop_count:o,lsp:k.normalizeVideoEvent(n),playing_audio:1,seq_num:q,time:k.normalizeVideoEvent(j)};c("InstagramODS").incr("web.video.old.log_video_exited");d("polarisVideoUtils").logVideoEventWrapper(e,k.VIDEO_EVENTS.exited,h({adTrackingToken:b,carouselParentId:f,dashInfo:g,extras:i,id:l,isAd:m,ownerId:p,streamingFormat:r,trackingToken:s,videoWidth:a}))}}function k(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.droppedFrameCount,j=a.id,k=a.isAd,l=a.lastStartPosition,m=a.loopsCount,n=a.ownerId,o=a.representationId,p=a.sequenceNumber,q=a.streamingFormat,r=a.totalFrameCount,s=a.trackingToken;a=a.videoWidth;m={loop_count:m,lsp:d("PolarisVideoLogger").normalizeVideoEvent(l),playing_audio:1,representation_id:o,seq_num:p,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};r!=null&&i!=null&&(m.total_frame_count=r,m.dropped_frame_count=i);d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.formatChanged,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:m,id:j,isAd:k,ownerId:n,streamingFormat:q,trackingToken:s,videoWidth:a}))}function l(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.droppedFrameCount,k=a.duration,l=a.id,m=a.isAd,n=a.lastStartPosition,o=a.loopsCount,p=a.ownerId,q=a.playingAudio;q=q===void 0?1:q;var r=a.representationID,s=a.sequenceNumber,t=a.streamingFormat,u=a.totalFrameCount,v=a.trackingToken;a=a.videoWidth;k={duration:d("PolarisVideoLogger").normalizeVideoEvent(k),loop_count:o,lsp:d("PolarisVideoLogger").normalizeVideoEvent(n),playing_audio:q,seq_num:s,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};u!=null&&j!=null&&(k.total_frame_count=u,k.dropped_frame_count=j);r!=null&&(k.representation_id=r);c("InstagramODS").incr("web.video.old.log_video_paused");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.paused,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:k,id:l,isAd:m,ownerId:p,streamingFormat:t,trackingToken:v,videoWidth:a}))}function m(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.fromTime,i=a.id,j=a.isAd,k=a.ownerId,l=a.sequenceNumber,m=a.streamingFormat,n=a.toTime,o=a.trackingToken;a=a.videoWidth;g={from_time:d("PolarisVideoLogger").normalizeVideoEvent(g),radio_type:"none-none",seq_num:l,to_time:d("PolarisVideoLogger").normalizeVideoEvent(n)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.seek,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,ownerId:k,streamingFormat:m,trackingToken:o,videoWidth:a}))}function n(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.id,k=a.isAd,l=a.ownerId,m=a.reason;m=m===void 0?"autoplay":m;var n=a.sequenceNumber,o=a.streamingFormat,p=a.trackingToken;a=a.videoWidth;m={reason:m,seq_num:n,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};c("InstagramODS").incr("web.video.old.log_video_should_start");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.shouldStart,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:m,id:j,isAd:k,ownerId:l,streamingFormat:o,trackingToken:p,videoWidth:a}))}function o(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.droppedFrameCount,k=a.id,l=a.isAd,m=a.lastShouldStartTime,n=a.ownerId,o=a.reason;o=o===void 0?"autoplay":o;var p=a.sequenceNumber,q=a.streamingFormat,r=a.totalFrameCount,s=a.trackingToken;a=a.videoWidth;m=m===0?0:d("PolarisVideoLogger").normalizeVideoEvent(Date.now()-m);o={reason:o,seq_num:p,start_delay:m,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};r!=null&&j!=null&&(o.total_frame_count=r,o.dropped_frame_count=j);c("InstagramODS").incr("web.video.old.log_video_started_playing");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.startedPlaying,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:o,id:k,isAd:l,ownerId:n,streamingFormat:q,trackingToken:s,videoWidth:a}))}function p(a){var b,c=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.lastStartPosition,m=a.loopCount,n=a.ownerId,o=a.sequenceNumber,p=a.streamingFormat,q=a.timeAtVideoPause,r=a.trackingToken;a=a.videoWidth;i={duration:(b=d("PolarisVideoLogger")).normalizeVideoEvent(i),loop_count:m,lsp:b.normalizeVideoEvent(l),seq_num:o,time:b.normalizeVideoEvent(q)};d("polarisVideoUtils").logVideoEventWrapper(e,b.VIDEO_EVENTS.fullViewedTime,h({adTrackingToken:c,carouselParentId:f,dashInfo:g,extras:i,id:j,isAd:k,ownerId:n,streamingFormat:p,trackingToken:r,videoWidth:a}))}function q(a){var b,c=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.lastStartPosition,m=a.loopCount,n=a.ownerId,o=a.sequenceNumber,p=a.streamingFormat,q=a.timeAtVideoPause,r=a.trackingToken;a=a.videoWidth;i={duration:(b=d("PolarisVideoLogger")).normalizeVideoEvent(i),loop_count:m,lsp:b.normalizeVideoEvent(l),seq_num:o,time:b.normalizeVideoEvent(q)};d("polarisVideoUtils").logVideoEventWrapper(e,b.VIDEO_EVENTS.viewedTime,h({adTrackingToken:c,carouselParentId:f,dashInfo:g,extras:i,id:j,isAd:k,ownerId:n,streamingFormat:p,trackingToken:r,videoWidth:a}))}function r(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.currentViewabilityPercentage,i=a.dashInfo,j=a.id,k=a.isAd,l=a.ownerId,m=a.sequenceNumber,n=a.streamingFormat;a=a.trackingToken;g={current_viewability_percentage:g,seq_num:m,video_time_position:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.viewabilityChanged,h({adTrackingToken:b,carouselParentId:e,dashInfo:i,extras:g,id:j,isAd:k,ownerId:l,streamingFormat:n,trackingToken:a}))}g.getAdLoggingParams=a;g.logAudioEnabled=b;g.logAudioDisabled=e;g.logVideoBufferingFinished=f;g.logVideoBufferingStarted=i;g.logVideoExitedEvent=j;g.logVideoFormatChanged=k;g.logVideoPausedEvent=l;g.logVideoSeekingEnded=m;g.logVideoShouldStart=n;g.logVideoStartedPlaying=o;g.logVideoFullViewedTime=p;g.logVideoViewedTime=q;g.logVideoViewabilityChanged=r}),98);
__d("PolarisFacepileItem.react",["PolarisIGCoreConstants","PolarisReactRedux","PolarisUserAvatar.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.avatarSize;b=b===void 0?"extraSmall":b;a=a.user;return i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES[b],username:a.username})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){b=b.userId;return{user:d("polarisUserSelectors").getUserById(a,b)}}e=d("PolarisReactRedux").connect(b)(a);g["default"]=e}),98);
__d("PolarisFacepile.react",["cx","IGDSBox.react","Locale","PolarisErrorBoundary.react","PolarisFacepileItem.react","PolarisIGCoreConstants","PolarisIGCorePressable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.avatarSize,d=b===void 0?"extraSmall":b;b=a.border;var e=b===void 0?"opaque":b,f=a.onClick;b=a.overlapDirection;b=b===void 0?"right":b;a=[].concat(a.userIds);var g=c("PolarisIGCoreConstants").AVATAR_SIZES[d],h=a.length,i=b==="left",k=!i;if(h===0)return null;k&&a.reverse();var l=function(){f!=null&&f()};return j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:i?"start":"end",position:"relative",children:a.map(function(a,b){var f={height:g+"px",order:String(c("Locale").isRTL()?h-(b+1):b+1),width:g+"px"};k&&(f.order=String(c("Locale").isRTL()?b+1:h-(b+1)));return j.jsx(c("PolarisIGCorePressable"),{className:(e==="opaque"?"_ab0q":"")+(e==="transparent"?" _ab0r":"")+(b>0&&i?" _ab0s":"")+(b>0&&k?" _ab0t":"")+" _ab0u",onPress:l,style:f,children:j.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(){return null},children:j.jsx(c("PolarisFacepileItem.react"),{avatarSize:d,userId:a})})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramAdActionMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3374");b=d("FalcoLoggerInternal").create("instagram_ad_action_menu",a);e=b;g["default"]=e}),98);
__d("PolarisLikeButton.react",["invariant","IGDSHeartFilledIcon","IGDSHeartPanoOutlineIcon","IGDSIconButton.react","PolarisInteractionsStrings","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={animation:{animationDuration:"x1ykxiw6",animationName:"x1ahuga",animationTimingFunction:"x4hg4is",transform:"x3oybdh",$$css:!0},small:{backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",cursor:"x1ypdohk",lineHeight:"x15bjb6t",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function m(a){var b=a.color;b=b===void 0?"ig-primary-icon":b;var e=a.handleClick,f=a.isHovered,g=a.isLiked,h=a.likeChangeCount,j=a.padding,m=a.setIsHovered,n=a.shadow;n=n===void 0?!1:n;a=a.size;return k.jsx(c("IGDSIconButton.react"),{hover:g?null:k.jsx(c("IGDSHeartPanoOutlineIcon"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:b==="ig-secondary-icon"?"ig-stroke":"ig-secondary-icon",shadow:n,size:a}),onClick:e,padding:j,children:k.jsx("span",{className:(i||(i=c("stylex")))(h>0&&l.animation),onMouseEnter:function(){m!=null&&m(!0)},onMouseLeave:function(){m!=null&&m(!1)},children:g?k.jsx(c("IGDSHeartFilledIcon"),{alt:d("PolarisInteractionsStrings").UNLIKE_TEXT,color:"ig-badge",shadow:n,size:a}):k.jsx(c("IGDSHeartPanoOutlineIcon"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:f===!0?"ig-secondary-icon":b,shadow:n,size:a})},h)})}m.displayName=m.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={likeChangeCount:-1,prevIsLiked:null},c.$2=function(a){a.preventDefault(),c.props.onChange(!c.props.isLiked)},b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromProps=function(a,b){return a.isLiked!==b.prevIsLiked?{likeChangeCount:b.likeChangeCount+1,prevIsLiked:a.isLiked}:null};var c=b.prototype;c.focus=function(){this.$1||h(0,51544),this.$1.focus()};c.render=function(){var a=this.props,b=a.className,c=a.color,d=a["data-testid"];d=a.isHovered;var e=a.isLiked,f=a.large,g=a.padding,h=a.setIsHovered;a=a.shadow;return k.jsx("span",{className:b,"data-testid":void 0,onMouseEnter:function(){h!=null&&h(!0)},onMouseLeave:function(){h!=null&&h(!1)},children:f?k.jsx(m,{color:c,handleClick:this.$2,isHovered:d,isLiked:e,likeChangeCount:this.state.likeChangeCount,padding:(b=g)!=null?b:8,shadow:a,size:24}):k.jsx("div",{className:"xjbqb8w x1ejq31n xd10rxx x1sy0etr x17r0tee x972fbf xcfux6l x1qhh985 xm0m39n x1ypdohk x15bjb6t x1a2a7pz xexx8yu x4uap5 x18d9i69 xkhd6sd",children:k.jsx(m,{color:c,handleClick:this.$2,isHovered:d,isLiked:e,likeChangeCount:this.state.likeChangeCount,padding:(f=g)!=null?f:0,shadow:a,size:12})})})};return b}(k.Component);a.defaultProps={large:!0};g["default"]=a}),98);
__d("PolarisLocationLink.react",["PolarisFastLink.react","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.className;a=a.location;var e=(a==null?void 0:a.hasPublicPage)===!0&&!!a.id;return e?i.jsx(c("PolarisFastLink.react"),{className:b,href:d("PolarisLinkBuilder").buildLocationLink({id:(e=a.id)!=null?e:"",slug:a.slug}),children:(e=a.name)!=null?e:""}):i.jsx("span",{className:b,children:(e=a.name)!=null?e:""})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisProfileClickEventLoggerProvider.react",["PolarisProfileClickEventLoggerContext.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.children,d=a.onProfileClick;a=j(function(){return d!=null?d:c("emptyFunction")},[d]);return i.jsx(c("PolarisProfileClickEventLoggerContext.react").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVideoVolumeControls.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSVolumeNonePanoFilledIcon","IGDSVolumeOffFilledIcon","IGDSVolumePanoFilledIcon","PolarisIGCoreButton","PolarisIGCoreToast","PolarisVideoConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=1500,m="web-always-white",n=12,o=16,p={iconWrapperColor:{backgroundColor:"x1wunsqr",$$css:!0}},q=h._("__JHASH__sLFgHENJUFu__JHASH__");function r(a){var b=a.audioState,e=a.inPlayerControls,f=a.isStoryVideo;a=a.onClick;var g={color:m,size:f||e===!0?o:n},i;switch(b){case d("PolarisVideoConstants").AUDIO_STATES.on:i=j.jsx(c("IGDSVolumePanoFilledIcon"),babelHelpers["extends"]({alt:h._("__JHASH__r6uAailfqgq__JHASH__")},g,{"data-testid":void 0}));break;case d("PolarisVideoConstants").AUDIO_STATES.off:i=j.jsx(c("IGDSVolumeOffFilledIcon"),babelHelpers["extends"]({alt:h._("__JHASH__8KsFHY6-sgE__JHASH__"),"data-testid":void 0},g));break;case d("PolarisVideoConstants").AUDIO_STATES.none:i=j.jsx(c("IGDSVolumeNonePanoFilledIcon"),babelHelpers["extends"]({alt:h._("__JHASH__KOG1JIuxy1f__JHASH__"),"data-testid":void 0},g));break}if(i==null)return null;if(f===!0)return j.jsx(c("IGDSIconButton.react"),{"aria-label":q,onClick:a,children:i});b=e===!0?{color:"transparent",marginBottom:0,marginEnd:0,padding:0}:{marginBottom:4,marginEnd:4,padding:2,xstyle:p.iconWrapperColor};return j.jsx(c("IGDSBox.react"),{bottom:!0,position:e===!0?"relative":"absolute",right:!0,children:j.jsx(c("PolarisIGCoreButton"),{"aria-label":q,borderless:!0,onClick:a,children:j.jsx(c("IGDSBox.react"),babelHelpers["extends"]({},b,{shape:"circle",children:i}))})})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.absolutePositionToast;b=b===void 0?!0:b;var e=a.audioState,f=a.forceMuteReason,g=a.inPlayerControls,i=a.isStoryVideo,m=a.onClick;a=k(!1);var n=a[0],o=a[1];a=!(f==null||f==="");return j.jsxs(j.Fragment,{children:[j.jsx(r,{audioState:e,inPlayerControls:g,isStoryVideo:(g=i)!=null?g:!1,onClick:function(a){m(a),e===d("PolarisVideoConstants").AUDIO_STATES.none&&o(!0)}}),n&&j.jsx(c("PolarisIGCoreToast"),{absolutePosition:b,duration:l,onClose:function(){return o(!1)},wide:!0,children:a?String(f):h._("__JHASH__W75JnMJmjFS__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVideoPlayerXLogger",["gkx","polarisVideoEventLogger","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?null:{is_dash_eligible:a.isDashEligible,number_of_qualities:a.numberOfQualities,video_dash_manifest:a.videoDashManifest}}function i(a){return a.lastPlayReason==="loop_initiated"}function j(a){return a.paused&&a.ended&&(a.loopCount===-1||a.loopCurrent<a.loopCount)}function k(a,b){return b===0?0:a/b}function l(a){a=a.adInfo;return c("gkx")("8351")||a!=null&&c("qex")._("990")===!0}function m(){return"requestVideoFrameCallback"in HTMLVideoElement.prototype&&c("gkx")("6726")}a=function(){function a(a,b){var e=this;this.$1=!1;this.$2=!1;this.$3=0;this.$4=0;this.$5=0;this.$8=1;this.$9=0;this.$10=0;this.$11=0;this.$15=0;this.$18=null;this.$19=null;this.$20=null;this.$21=null;this.$24=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.muted!==a.muted&&b.playing){a=b.muted?d("polarisVideoEventLogger").logAudioDisabled:d("polarisVideoEventLogger").logAudioEnabled;a(babelHelpers["extends"]({},e.$22(c),{loopsCount:e.$9}))}};this.$25=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;(b.paused===!1&&a.paused===!0&&!i(b)||b.paused===!1&&b.seeking===!1&&a.seeking===!0&&e.$1)&&(d("polarisVideoEventLogger").logVideoShouldStart(e.$22(c)),e.$4=Date.now(),e.$2=!0,e.$1=!1)};this.$26=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.playing===!0&&a.playing===!1&&e.$2){b.muted||d("polarisVideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},e.$22(c),{loopsCount:e.$9}));d("polarisVideoEventLogger").logVideoStartedPlaying(babelHelpers["extends"]({},e.$22(c),e.$23(e.$7,c,b.videoRepresentationID),{lastShouldStartTime:e.$4}));e.$9=0;e.$4=0;e.$5=(a=c.currentVideoTime)!=null?a:e.$3}};this.$27=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;(b.paused===!0&&a.paused===!1&&!j(b)||b.seeking===!0&&a.seeking===!1&&a.playing===!0)&&d("polarisVideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},e.$22(c),e.$23(e.$7,c,b.videoRepresentationID),{lastStartPosition:e.$5,loopsCount:e.$9}))};this.$28=function(a){var b=a.currentState;a=a.prevState;j(b)===!0&&j(a)===!1&&a.playing===!0&&(e.$9++,e.$2=!1)};this.$29=function(a){a=a.extraData;a.viewabilityPercentage!=null&&a.viewabilityPercentage>=50&&e.$15<50&&e.$16==null&&a.currentVideoTime!=null&&(e.$16={lastStartPosition:a.currentVideoTime,loopCount:e.$9})};this.$30=function(a){a=a.extraData;if(a.viewabilityPercentage!=null&&a.viewabilityPercentage<50&&e.$15>=50){var b=e.$7.adInfo;e.$16!=null&&(b==null?void 0:b.tracking_token)!=null&&d("polarisVideoEventLogger").logVideoViewedTime(babelHelpers["extends"]({lastStartPosition:e.$16.lastStartPosition,loopCount:e.$9-e.$16.loopCount,timeAtVideoPause:a.currentVideoTime},e.$22(a)));e.$16=null}};this.$31=function(a){a=a.extraData;if(a.viewabilityPercentage!=null&&a.viewabilityPercentage!==e.$15){var b=e.$7.adInfo;(b==null?void 0:b.tracking_token)!=null&&c("gkx")("464")===!0&&a.viewabilityPercentage!=null&&d("polarisVideoEventLogger").logVideoViewabilityChanged(babelHelpers["extends"]({currentViewabilityPercentage:a.viewabilityPercentage},e.$22(a)))}};this.$32=function(a){a=a.extraData;a.viewabilityPercentage!=null&&a.viewabilityPercentage>=100&&e.$15<100&&e.$17==null&&a.currentVideoTime!=null&&(e.$17={lastStartPosition:a.currentVideoTime,loopCount:e.$9})};this.$33=function(a){a=a.extraData;if(a.viewabilityPercentage!=null&&a.viewabilityPercentage<100&&e.$15>=100){var b=e.$7.adInfo;e.$17!=null&&(b==null?void 0:b.tracking_token)!=null&&d("polarisVideoEventLogger").logVideoFullViewedTime(babelHelpers["extends"]({lastStartPosition:e.$17.lastStartPosition,loopCount:e.$9-e.$17.loopCount,timeAtVideoPause:a.currentVideoTime},e.$22(a)));e.$17=null}};this.$34=function(a){var b=a.currentState;a=a.prevState;b.seeking===!0&&a.seeking===!1&&b.paused===!1&&(e.$14=b.seekSourcePosition)};this.$35=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.seeking===!1&&a.seeking===!0&&b.paused===!1){a=e.$14;b=b.seekTargetPosition;a!=null&&b!=null&&(d("polarisVideoEventLogger").logVideoSeekingEnded(babelHelpers["extends"]({},e.$22(c),{fromTime:a,toTime:b})),e.$1=!0);e.$14=null}};this.$36=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.stalling===!0&&a.stalling===!1){d("polarisVideoEventLogger").logVideoBufferingStarted(babelHelpers["extends"]({},e.$22(c),{followingStatus:e.$7.followingStatus,loopsCount:e.$9,timeAsPercent:k((c=c.currentVideoTime)!=null?c:0,b.duration)}));j(a)===!1&&(e.$2=a.paused===!0)}};this.$37=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.stalling===!1&&a.stalling===!0){d("polarisVideoEventLogger").logVideoBufferingFinished(babelHelpers["extends"]({},e.$22(c),{followingStatus:e.$7.followingStatus,lastStartPosition:e.$5,loopsCount:e.$9,timeAsPercent:k((a=c.currentVideoTime)!=null?a:0,b.duration)}))}};this.$38=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;var f=b.videoRepresentationID;f!==a.videoRepresentationID&&f!=null&&a.videoRepresentationID!=null&&d("polarisVideoEventLogger").logVideoFormatChanged(babelHelpers["extends"]({},e.$22(c),e.$23(e.$7,c,b.videoRepresentationID),{lastStartPosition:e.$5,loopsCount:e.$9,representationId:f}))};this.$39=function(a,b){e.$19==null&&(e.$19=0);e.$19++;e.$20=b.presentedFrames;e.$21=(a=e.$18)==null?void 0:a.requestVideoFrameCallback(e.$39)};this.$7=a;this.$6=b}var b=a.prototype;b.$22=function(a){var b=this.$7,c=b.adInfo,e=b.dashInfo;b.followingStatus;b=babelHelpers.objectWithoutPropertiesLoose(b,["adInfo","dashInfo","followingStatus"]);var f=a.currentVideoTime,g=a.duration,i=a.streamingFormat;a=a.videoWidth;return babelHelpers["extends"]({},b,d("polarisVideoEventLogger").getAdLoggingParams(c),{currentVideoTime:f,dashInfo:h(e),duration:g,sequenceNumber:this.$8++,streamingFormat:i,videoWidth:a})};b.$23=function(a,b,c){if(l(a)){if(m())return this.$20==null||this.$19==null?null:{droppedFrameCount:this.$20-this.$19,representationID:c,totalFrameCount:this.$20};a=b.videoElementTotalFrameCount;if(a!=null)return{droppedFrameCount:b.videoElementDroppedFrameCount,representationID:c,totalFrameCount:a}}return null};b.setLoggerProps=function(a){this.$7=a};b.handleUnmount=function(){var a={currentVideoTime:this.$3,duration:this.$10,streamingFormat:this.$6.streamingFormat,videoElement:null,videoElementDroppedFrameCount:this.$12,videoElementTotalFrameCount:this.$13,videoWidth:this.$11,viewabilityPercentage:this.$15};this.$6.playing===!0&&d("polarisVideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},this.$22(a),this.$23(this.$7,a,this.$6.videoRepresentationID),{lastStartPosition:this.$5,loopsCount:this.$9}));if(a.viewabilityPercentage!=null&&a.viewabilityPercentage>=50){var b=this.$7.adInfo;this.$16!=null&&(b==null?void 0:b.tracking_token)!=null&&d("polarisVideoEventLogger").logVideoViewedTime(babelHelpers["extends"]({lastStartPosition:this.$16.lastStartPosition,loopCount:this.$9-this.$16.loopCount,timeAtVideoPause:a.currentVideoTime},this.$22(a)));this.$16=null}if(a.viewabilityPercentage!=null&&a.viewabilityPercentage>=100){b=this.$7.adInfo;this.$17!=null&&(b==null?void 0:b.tracking_token)!=null&&d("polarisVideoEventLogger").logVideoFullViewedTime(babelHelpers["extends"]({lastStartPosition:this.$17.lastStartPosition,loopCount:this.$9-this.$17.loopCount,timeAtVideoPause:a.currentVideoTime},this.$22(a)));this.$17=null}d("polarisVideoEventLogger").logVideoExitedEvent(babelHelpers["extends"]({},this.$22(a),{exitTime:a.currentVideoTime,hasPlayedVideo:this.$6.hasPlayEverBeenRequested,lastStartPosition:this.$5,loopsCount:this.$9}));if(this.$21!=null){(b=this.$18)==null?void 0:b.cancelVideoFrameCallback(this.$21)}};b.handleStateChange=function(a){var b=this,c=a.currentState,d=a.extraData;if(d.videoElement!=null&&d.videoElement!==this.$18){this.$18=d.videoElement;if(this.$21!=null){(a=this.$18)==null?void 0:a.cancelVideoFrameCallback(this.$21);this.$21=null}if(l(this.$7)&&m()){this.$21=(a=this.$18)==null?void 0:a.requestVideoFrameCallback(this.$39)}}a=[this.$24,this.$34,this.$35,this.$25,this.$36,this.$37,this.$26,this.$27,this.$28,this.$38,this.$29,this.$30,this.$32,this.$33,this.$31];a.forEach(function(a){return a({currentState:c,extraData:d,prevState:b.$6})});d.duration!=null&&d.duration>0&&(this.$10=d.duration);d.videoWidth!=null&&(this.$11=d.videoWidth);d.viewabilityPercentage!=null&&(this.$15=d.viewabilityPercentage);d.currentVideoTime!=null&&(d.currentVideoTime>0||c.playing===!1)&&(this.$3=d.currentVideoTime,this.$12=d.videoElementDroppedFrameCount,this.$13=d.videoElementTotalFrameCount);this.$6=c};return a}();g["default"]=a}),98);
__d("usePolarisVideoXControllerLogger",["PolarisVideoPlayerXLogger","VideoPlayerHooks","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=(i||(i=d("VideoPlayerHooks"))).useController(),e=c("useStable")(function(){return new(c("PolarisVideoPlayerXLogger"))(a,b.getCurrentState())});j(function(){e.setLoggerProps(a)});j(function(){var a=b.subscribe(function(){var a=b.internal_getStateMachineState();a=a==null?void 0:a.uncontrolledState;var c=b.getCurrentState(),d=b.internal_getVideoElement();e.handleStateChange({currentState:c,extraData:{currentVideoTime:d!=null?b.getPlayheadPosition():null,duration:d!=null?c.duration:null,streamingFormat:c.streamingFormat,videoElement:d,videoElementDroppedFrameCount:a==null?void 0:a.videoElementDroppedFrameCount,videoElementTotalFrameCount:a==null?void 0:a.videoElementTotalFrameCount,videoWidth:d==null?void 0:d.videoWidth,viewabilityPercentage:a==null?void 0:a.viewabilityPercentage}})}),c=function(){e.handleUnmount()};window.addEventListener("beforeunload",c);return function(){window.removeEventListener("beforeunload",c),c(),a.remove()}},[b,e])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisAPIPostNotifyGuardianCall",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e="/api/v1/users/notify_guardian_call/";a={guardian_igid:a,reported_category:c,reported_igid:b};return d("PolarisInstapi").apiPost(e,{body:a}).then(function(a){return a.data})}g.postNotifyGuardianCall=a}),98);
__d("PolarisCommentLikedByListContainerLazy_DEPRECATED",["JSResourceForInteraction","PolarisAsyncComponent","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";a=d("PolarisAsyncComponent").createAsyncComponent_DEPRECATED({displayName:"CommentLikedByListContainer",resolve:function(){return c("JSResourceForInteraction")("PolarisCommentLikedByListContainer.react").__setRef("PolarisCommentLikedByListContainerLazy_DEPRECATED").load().then(function(a){return c("xigRequireInterop")(a)})}});g["default"]=a}),98);
__d("PolarisTextWithEntities.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){return a.offset===b.offset&&(a.length===0||b.length===0)?a.length-b.length:a.offset-b.offset}function k(a){return[].concat(a.ranges).filter(Boolean).sort(j)}function a(a){var b=0,c=[],d=a.text,e=k(a),f=[],g=[];for(var h=0;h<e.length;h++)f.push(e[h].offset),g.push(e[h].offset+e[h].length);h=[];var j=0;while(j<e.length){var l=e[j];if(g[j]<b){j=h.length>0?h.pop():j+1;continue}if(l.offset>b){var m=d.substring(b,l.offset);c.push(i.jsx(i.Fragment,{children:m},m+j));b=l.offset}m=0;for(var n=j+1;n<e.length;n++)if(f[n]<g[j]&&f[n]>=b){m=n;break}if(m!==0){n=d.substring(b,f[m]);c.push(i.jsx(i.Fragment,{children:a.rangeRenderer(n,l)},n+j));b=f[m];h.push(j);j=m;continue}n=d.substring(b,g[j]);c.push(i.jsx(i.Fragment,{children:a.rangeRenderer(n,l)},n+j));b=g[j];h.length>0?j=h.pop():j++}if(d.length>b){m=d.substr(b);c.push(i.jsx(i.Fragment,{children:m},m))}return a.textRenderer(c)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalLinkUtils",["URI","polarisIsInternalURIString"],(function(a,b,c,d,e,f,g){"use strict";var h,i="help.instagram.com";function j(a){return c("polarisIsInternalURIString")(a)&&new(h||(h=c("URI")))(a).getDomain()===i}function a(a){return j(a)||!c("polarisIsInternalURIString")(a)}g.shouldLinkUseBlankTarget=a}),98);
__d("polarisGetGuardianInfo",["normalizr"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("normalizr").schema.Entity)("userInfo",{},{idAttribute:function(a){return String(a.pk)},processStrategy:function(a){return{username:a.username}}});function a(a){return d("normalizr").normalize(a,h).entities.userInfo}g["default"]=a}),98);
__d("PolarisFRXWebReportActions",["JSResourceForInteraction","PolarisAPIPostNotifyGuardianCall","PolarisDirectLogger","PolarisFRXWebReportConstants","PolarisInstapi","PolarisReportConstants","polarisGetGuardianInfo","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=1,i=c("JSResourceForInteraction")("PolarisFRXWebSendSecureReportAction").__setRef("PolarisFRXWebReportActions");function a(a){a=babelHelpers["extends"]({},a,{frx_prompt_request_type:d("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.START});return k(a,!0)}function b(a){var b=a.frxPromptRequestType,c=a.metadata,d=j(a);c=babelHelpers["extends"]({},c,d,{frx_prompt_request_type:b});return k(c,!1,(d=a.optionalParams)==null?void 0:d.thread_id,(b=a.optionalParams)==null?void 0:b.responsible_id)}function j(a){var b=a.context;a=a.optionalParams;var c=a.attachments,d=a.evidenceText,e=a.reportSubtype,f=a.selectedPromptButtonActionType,g=a.selectedTagTypes,h=a.selectedVictimID;a=a.tipNumber;var i={};b!=null&&(i.context=b);g!=null&&(i.selected_tag_types=JSON.stringify(g));f!=null&&(i.action_type=f);h!=null&&(i.victim_user_id=h);a!=null&&(i.tip_number=a);c!=null&&(i.attachments=c);d!=null&&(i.evidence_text=d);e!=null&&(i.report_subtype=e);return babelHelpers["extends"]({},i)}function k(a,b,e,f){return function(g,j){var k=h++;g({frxScreenRequestID:k,isInitScreen:b,type:"FRX_WEB_REPORT_SCREEN_API_REQUESTED"});j=d("PolarisInstapi").apiPost("/api/v1/web/reports/get_frx_prompt/",{body:a}).then(function(a){return a.data});j.then(function(b){var h=b.response;b=b.type;if(h==null||b==null)g({frxScreenRequestID:k,type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_FAILED"});else{var j=h.frx_context;[d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE,d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_THREAD].includes(a.location)&&a.frx_prompt_request_type===d("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.POLICY_EDUCATION&&f!==void 0&&e!==void 0&&j!==void 0&&c("promiseDone")(i.load().then(function(b){g(b(j,f,e,a.victim_user_id,a.location===d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE?a.object_id:void 0))}));g({frxScreenRequestID:k,screenPayload:{frxScreenRequestID:k,response:h,type:b},type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_SUCCESS"})}})["catch"](function(){g({frxScreenRequestID:k,type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_FAILED"})})}}function e(a,b,c,e){return function(f,g){f({type:"FRX_WEB_NOTIFY_GUARDIAN_FOLLOWUP_MODAL_TO_CONFIMATION_MODAL"}),a&&d("PolarisAPIPostNotifyGuardianCall").postNotifyGuardianCall(b,c,e)["catch"](function(a){var b=new(d("PolarisDirectLogger").DirectLogger)("DirectActions");b.logError("Notify Guardian From Web",a)})}}function f(a){return babelHelpers["extends"]({type:"FRX_WEB_REPORT_REPORTING_MODAL_CLOSED"},a)}function l(){return{type:"FRX_WEB_REPORT_GO_BACK_ONE_SCREEN"}}function m(){return{type:"FRX_WEB_REPORT_START_UNFOLLOW_FOLLOWUP"}}function n(){return{type:"FRX_WEB_REPORT_START_BLOCK_FOLLOWUP"}}function o(){return{type:"FRX_WEB_REPORT_START_NOTIFY_GUARDIAN_FOLLOWUP"}}function p(){return function(a,b){a({type:"FRX_WEB_REPORT_DISABLE_NOTIFY_GUARDIAN_OPTION"})}}function q(a){return function(b,e){d("PolarisInstapi").apiGet("/api/v1/users/{user_id}/info/",{path:{user_id:a}}).then(function(d){d=d.data.user;d&&b({guardian:c("polarisGetGuardianInfo")(d)[a],type:"FRX_WEB_REPORT_STORE_GUARDIAN_INFORMATION"})})}}function r(a){return function(b,c){b({reportedTagTitle:a,type:"FRX_WEB_REPORT_STORE_REPORTED_TAG_TITLE"})}}g.doRequestInitFRXScreenAction=a;g.doRequestNextFRXScreenAction=b;g.doOpenNotifyGuardianFollowupModalToPreviousScreenAction=e;g.doReportingModalClosedAction=f;g.doGoBackOneFRXScreenAction=l;g.doStartUnfollowFollowupAction=m;g.doStartBlockFollowupAction=n;g.doStartNotifyGuardianFollowupAction=o;g.doDisableNotifyGuardianOption=p;g.doStoreGuardianInformation=q;g.doStoreReportedTagTitle=r}),98);
__d("PolarisFRXWebReportStateSelectors",["PolarisFRXWebReportConstants","PolarisFRXWebReportUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.webFRXReport.pendingFRXScreenRequestID!==null}function h(a){return a.webFRXReport.screenHistoryStack}function b(a){return d("PolarisFRXWebReportUtils").getCurrentScreenFromHistoryStack(h(a))}function c(a){return h(a).length}function e(a){a=h(a);return a.findIndex(function(a){return a.type===d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION})>=0}function f(a){return a.webFRXReport.currRenderStep}function i(a){return a.webFRXReport.disableNotifyGuardianOption}function j(a){return a.webFRXReport.guardianUsername}function k(a){return a.webFRXReport.reportedTagTitle}g.getIsFRXScreenRequestProcessing=a;g.getCurrScreenPayload=b;g.getScreenHistorySize=c;g.getIsConfirmationScreenInHistoryStack=e;g.getCurrRenderStep=f;g.getDisableNotifyGuardianOption=i;g.getGuardianUsername=j;g.getReportedTagTitle=k}),98);
__d("PolarisReportButton.react",["PolarisIGCoreButton","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.color;d=d===void 0?"ig-primary-button":d;var e=a.disabled;a=a.onClick;return i.jsx(c("PolarisIGCoreButton"),{color:d,disabled:e,fullWidth:!0,large:!0,onClick:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisReportUserImpersonationListItem.react",["IGDSBox.react","IGDSListItem.react","IGDSText.react","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreIcon","PolarisReportButton.react","PolarisReportStrings","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onReport()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props.result;return i.jsx(c("IGDSListItem.react"),{addOnEnd:i.jsx(c("PolarisReportButton.react"),{onClick:this.$1,children:d("PolarisReportStrings").nextText}),addOnStart:i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:44,username:a.username}),subtitle:a.fullName,title:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"block",children:[i.jsx(c("IGDSText.react").BodyEmphasized,{breakWord:!0,children:a.username}),a.isVerified?i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,children:i.jsx(c("PolarisIGCoreIcon"),{alt:d("PolarisGenericStrings").VERIFIED_TEXT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.VERIFIED_SMALL})}):null]})})};return b}(i.Component);g.ReportUserImpersonationListItem=a}),98);
__d("PolarisReportSearchBoxContainer.react",["PolarisMobileSearchBox.react","PolarisReactRedux","PolarisSearchActions","polarisSearchSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=a.search;a=d("polarisSearchSelectors").getCurrentSearchContent(a);return{currentTab:b.currentSearchTab,discoverToken:"",loading:a.loading,rankToken:a.rankToken,results:a.results,searchedForQuery:a.searchedForQuery,selectedIndex:a.selectedIndex,suggested:b.suggested}}function b(a){return{onClearSearch:function(){a(d("PolarisSearchActions").clearSearch())},onNavigateToResult:function(b,c,e){a(d("PolarisSearchActions").navigateToResult(b,c,e))},onSearch:function(b,c,e,f,g){a(d("PolarisSearchActions").search(b,c,e))},onSelectResult:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}e=d("PolarisReactRedux").connect(a,b)(c("PolarisMobileSearchBox.react"));g["default"]=e}),98);
__d("PolarisReportUserImpersonationSearchBox.react",["cx","IGDSBox.react","PolarisReportSearchBoxContainer.react","PolarisReportUserImpersonationListItem.react","PolarisSearchConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.fromWebview;b=b===void 0?!1:b;var e=a.onSelectVictim,f=a.reportedUserID,g=a.searchBoxPlaceHolder,h=a.userSearchResults,i=a.verifiedOnly;return j.jsxs("div",{children:[j.jsx(c("PolarisReportSearchBoxContainer.react"),{analyticsContext:void 0,disableResultKeyboardNav:!0,hideCancelButton:!0,isActive:!0,placeholder:g,searchContext:d("PolarisSearchConstants").SEARCH_CONTEXT.USER,useHistory:!0}),j.jsx(c("IGDSBox.react"),{color:"primaryBackground",marginTop:b?0:2,position:"relative",children:j.jsx("div",{className:b?"_ac68":"",children:h.filter(function(a){return i?a.isVerified&&a.pk!==f.toString():a.pk!==f.toString()}).map(function(a,b){return j.jsx(d("PolarisReportUserImpersonationListItem.react").ReportUserImpersonationListItem,{onReport:function(){return e(a)},result:a},b)})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXBlockUserFollowupModal.react",["CometPlaceholder.react","I64","IGDSConfirmDialog.react","IGDSGlimmer.react","JSResourceForInteraction","PolarisBlockDialogContainer.react","PolarisFRXWebReportStrings","PolarisGenericStrings","PolarisLinkBuilder","PolarisNavigationUtils","PolarisReactRedux","PolarisReportConstants","isStringNullOrEmpty","lazyLoadComponent","polarisRelationshipSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("PolarisFRXBlockUserFollowupModal.react"));function m(a,b){a=a.userToBlock.id;return d("polarisRelationshipSelectors").getRelationship(b.relationships,a)}function n(a){a.onClose&&a.onClose()}function a(a){var b=d("PolarisReactRedux").useSelector(function(b){return m(a,b)}),e=a.isGroupThread,f=a.isSecureThread,g=a.onClose,h=a.threadKey,q=a.userToBlock,r=a.useSimpleBlockModalWithoutRefresh,s=q.fbidV2,t=q.id;q=q.username;var u=o(a.frxObjectType),v=k(function(){g()},[g]);if(u&&q!=null){return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("IGDSGlimmer.react"),{index:0}),children:j.jsx(l,{clickPoint:"report",contactID:(i||(i=d("I64"))).of_string(t),isAfterReport:!0,isBlocked:!1,isGroup:(u=e)!=null?u:!1,isSecure:(e=f)!=null?e:!1,onClose:v,threadKey:h,userName:q})})}if(!t)return null;return r===!0?j.jsx(p,babelHelpers["extends"]({},a)):j.jsx(c("PolarisBlockDialogContainer.react"),{fbidV2:s,onClose:function(){return n(a)},relationship:b,userId:t,username:q})}a.displayName=a.name+" [from "+f.id+"]";function o(a){switch(a){case d("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE:case d("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE_THREAD:case d("PolarisReportConstants").FRXObjectType.ENCRYPTED_DIRECT_MESSAGE:return!0;default:return!1}}function p(a){var b=a.userToBlock;b=b.username;var e=c("isStringNullOrEmpty")(b)?null:d("PolarisLinkBuilder").buildUserLink(b),f,g;!c("isStringNullOrEmpty")(e)?(g=d("PolarisGenericStrings").CANCEL_TEXT,f={confirmLabel:d("PolarisFRXWebReportStrings").VIEW_PROFILE_BUTTON_TEXT,onConfirm:function(){d("PolarisNavigationUtils").openURLWithFullPageReload(e),n(a)}}):(g=d("PolarisGenericStrings").CLOSE_TEXT,f={});return j.jsx(c("IGDSConfirmDialog.react"),babelHelpers["extends"]({},f,{body:d("PolarisFRXWebReportStrings").BLOCK_USER_THROUGH_PROFILE_MODAL_CONTENT,cancelLabel:g,onClose:function(){return n(a)},title:d("PolarisFRXWebReportStrings").getBlockUserModalTitle(b)}))}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXInAppEscalationReportDropdownSelector.react",["cx","fbt","IGDSChevronIcon","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this)||this;b.state={inputText:"",optionsVisible:!1};return b}var d=b.prototype;d.render=function(){var a=this,b=function(){var b=a.props.tags||null;return k.jsx("div",{className:"_ac4n",id:"dropdownOptions",children:b.map(function(a){return k.jsx("span",{className:"_ac4o",onClick:function(){return e(a)},role:"presentation",children:k.jsxs("div",{className:"_ac4p",children:[k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",weight:"normal",zeroMargin:!0,children:a.title?a.title.text:""}),k.jsx("div",{className:"_ac4q"}),k.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",size:"footnote",weight:"light",zeroMargin:!0,children:a.subtitle?a.subtitle.text:""})]})},a.tag_type)})})},d=function(){a.setState(function(a){return{optionsVisible:!a.optionsVisible}})},e=function(b){a.setState(function(a){return{inputText:b.title?b.title.text:"",optionsVisible:!a.optionsVisible}}),a.props.handleSetReportSubtype(b.tag_type)};return k.jsxs("span",{children:[k.jsxs("span",{className:"_ac4f",id:"optionList",onClick:d,role:"presentation",children:[k.jsxs("label",{className:"_ac4g",children:[k.jsx("span",{className:(this.props.showError===!1&&this.state.inputText===""?"_ac4h":"")+(this.state.inputText!==""?" _ac4i":"")+(this.props.showError===!0?" _ac4l":""),children:this.props.showError===!0?this.props.errorMessage:this.props.placeholder}),k.jsx("span",{className:(this.props.showError===!1?"_ac4j":"")+(this.props.showError===!0?" _ac4k":""),children:this.props.showError?this.props.placeholder:this.state.inputText})]}),k.jsx("div",{className:(this.state.optionsVisible?"":"_ac4r")+(this.state.optionsVisible?" _ac4s":""),children:k.jsx(c("IGDSChevronIcon"),{alt:i._("__JHASH__KmLwDGth6wW__JHASH__"),color:"ig-tertiary-text",direction:this.state.optionsVisible?"down":"next",size:17})})]}),this.state.optionsVisible?b():null]})};return b}(k.Component);g["default"]=a}),98);
__d("PolarisFRXInAppEscalationReportTextAreaInput.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$1=function(a){var b=a.currentTarget.value;c.setState(function(a){if(b.length>0&&!a.hasContent)return{hasContent:!0};else if(b.length===0)return{hasContent:!1};return{}})};c.state={hasContent:!!b.value,isFocused:!1};return c}var c=b.prototype;c.$2=function(a){this.setState({isFocused:a})};c.render=function(){var a=this;return j.jsxs("div",{className:"_acg-",children:[j.jsx("span",{className:(this.props.showError===!0?"_ach1":"")+(!this.state.isFocused&&!this.state.hasContent&&this.props.showError===!1?" _ach2":"")+((this.state.isFocused||this.state.hasContent)&&this.props.showError===!1?" _ach3":""),children:this.props.showError===!0?this.props.errorMessage:this.props.placeholder}),j.jsx("textarea",{className:(this.props.showError!==!0?"_acg_":"")+(this.props.showError===!0?" _ach0":""),id:this.props.id,name:this.props.name,onBlur:function(){return a.$2(!1)},onChange:this.props.onChange,onClick:function(){return a.$2(!0)},onInput:this.$1,placeholder:this.props.showError?this.props.placeholder:this.state.isFocused||this.state.hasContent?null:this.props.placeholder,value:this.props.value})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisFRXReportBaseScreenModal.react",["cx","IGDSBox.react","IGDSDialog.react","IGDSDialogHeader.react","PolarisFRXWebReportConstants","PolarisFRXWebReportStrings","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=4,l=4,m=4,n=!1;function a(a,b,c){a=a||{};var e=a.response;a=a.type;if(a===d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION)return{headerEnabled:!1};a=e||{};e=a.title;e=(a=e==null?void 0:e.text)!=null?a:d("PolarisFRXWebReportStrings").DEFAULT_MODAL_HEADER_TEXT;return{headerEnabled:!0,onBackButton:c,titleText:e,withBackButton:b}}function o(a){a.onClose&&a.onClose()}function b(a){var b,e=d("PolarisUA").isMobile()?"large":"default";return j.jsx(c("IGDSDialog.react"),{label:(b=a.headerParams.titleText)!=null?b:void 0,onClose:function(){return o(a)},size:e,testid:void 0,children:j.jsxs("div",{className:"_acgx"+(e==="large"?" _acqj":""),children:[j.jsx(p,babelHelpers["extends"]({},a)),j.jsx(q,babelHelpers["extends"]({},a))]})})}b.displayName=b.name+" [from "+f.id+"]";function p(a){var b=a.headerParams,d=b.headerEnabled,e=b.titleText,f=b.onBackButton;b=b.withBackButton;b=b===void 0?n:b;if(!d)return null;d=b&&f?{onBack:function(){return f()}}:void 0;return j.jsx(c("IGDSDialogHeader.react"),babelHelpers["extends"]({onClose:function(){return o(a)}},d,{children:j.jsx(j.Fragment,{children:e})}))}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.children;a=a.disableDefaultBodyPaddingMargin;a=a===void 0?!1:a;var d,e;a?d=e=a=0:(d=k,a=m,e=l);return j.jsx("div",{className:"_acgy",children:j.jsx("div",{className:"_acgz",children:j.jsx(c("IGDSBox.react"),{marginBottom:e,marginTop:a,paddingX:d,position:"relative",children:b})})})}q.displayName=q.name+" [from "+f.id+"]";g.DEFAULT_BODY_PADDING_X=k;g.DEFAULT_BODY_MARGIN_BOTTOM=l;g.DEFAULT_BODY_MARGIN_TOP=m;g.getDefaultScreenModalHeaderParamsFromScreenPayload=a;g.FRXReportBaseScreenModal=b}),98);
__d("PolarisFRXReportMainButton.react",["PolarisFRXReportModalLinkUtils","PolarisIGCoreButton","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a["data-testid"];b=a.disabled;var e=a.href,f=a.onClick,g=a.primaryButton,h=a.spinner;a=a.text;var j;!c("isStringNullOrEmpty")(e)&&b!==!0&&(j={href:e,target:d("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(e)?"_blank":void 0});return i.jsx(c("PolarisIGCoreButton"),babelHelpers["extends"]({},j,{color:((e=g)!=null?e:!0)?"ig-primary-button":"ig-secondary-button","data-testid":void 0,disabled:!!b,loading:!!h,onClick:function(){return f&&f()},children:a}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalPromptButton.react",["PolarisFRXReportMainButton.react","PolarisFRXWebReportStateSelectors","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("PolarisReactRedux").useSelector(d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing),e=a.actionType,f=a.canSubmitOnClick,g=a.disabled;g=g===void 0?!1:g;var h=a.href,j=a.label,k=a.onSubmit;a=a.primaryButton;a=a===void 0?!0:a;return i.jsx(c("PolarisFRXReportMainButton.react"),{disabled:g||f&&b,href:h,onClick:function(){f&&k&&k(e)},primaryButton:a,spinner:f&&b,text:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalRichTextRenderer.react",["IGDSText.react","PolarisFRXReportModalLinkUtils","PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={BOLD:1,CODE:8,ITALIC:2,NONE:0,QUOTE:128,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64,UNDERLINE:4},k={"#000000":"web-always-black","#00376B":"ig-link","#0095F6":"ig-primary-button","#262626":"ig-primary-text","#58C322":"DEPRECATED_green","#8E8E8E":"ig-secondary-text","#c7c7c7":"ig-tertiary-text","#ed4956":"ig-error-or-destructive","#ffffff":"web-always-white"};function a(a){var b=a.children,e=a.className,f=a.color,g=a["data-testid"];g=a.href;var h=a.onClick;a=a.style;var l=b,m=g!==""&&g!=null,n;!m&&f!=null&&(n=f in k?k[f]:void 0);if(a!=null&&(f!=null||m))switch(a){case j.BOLD:l=i.jsx(c("IGDSText.react").BodyEmphasized,{color:n,children:b});break;case j.SUBSCRIPT:l=i.jsx(c("IGDSText.react").Body2,{color:n,children:b});break;default:l=i.jsx(c("IGDSText.react").Body,{color:n,children:b});break}return g!==""&&g!=null?i.jsx(c("PolarisFastLink.react"),{className:e,"data-testid":void 0,href:g,onClick:function(){return h&&h()},target:d("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(g)?"_blank":void 0,children:l}):i.jsx(i.Fragment,{children:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalRichText.react",["PolarisFRXReportModalRichTextRenderer.react","PolarisTextWithEntities.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){a=a.token;if(!a)return null;var b=a.color,c=a.style,d=a.uri;b==null&&(b=a["3"]);c==null&&(c=a["1"]);(d===""||d==null)&&(d=a["2"]);c!=null&&(c=parseInt(c,10));return{color:b,style:c,uri:d}}function k(a){if(!a)return[];var b=[];a.forEach(function(a){var c=a.length,d=a.offset;a=j(a)||{};var e=a.color,f=a.style;a=a.uri;c!=null&&d!=null&&(a!=null||e!=null||f!=null)&&b.push({color:e,length:c,offset:d,override_uri:a,style:f})});return b}function l(a,b){var d=b.color,e=b.override_uri;b=b.style;return i.jsx(c("PolarisFRXReportModalRichTextRenderer.react"),{color:d,href:e,style:b,children:a})}l.displayName=l.name+" [from "+f.id+"]";function a(a){a=a.richText;if(a==null)return null;var b=a.markup;a=a.text;return a==null?null:i.jsx(c("PolarisTextWithEntities.react"),{rangeRenderer:l,ranges:k(b),text:a,textRenderer:function(a){return i.jsx(i.Fragment,{children:a})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXInAppEscalationReportTypeScreenModal.react",["cx","fbt","IGDSBox.react","IGDSDivider.react","IGDSIconButton.react","IGDSVideoChatPanoOutlineIcon","IGDSXPanoFilledIcon","PolarisFRXInAppEscalationReportDropdownSelector.react","PolarisFRXInAppEscalationReportTextAreaInput.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisIGCoreText","PolarisImageFileForm.react","Promise","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useState,o=12;function a(a){var e=a.headerParams,f=a.onClose,g=a.onSubmitScreen;a=a.screenPayload;var h=n(""),k=h[0],p=h[1];h=n([]);var q=h[0],r=h[1];h=n("");var s=h[0],t=h[1];h=n(!1);var u=h[0],v=h[1];h=n(!1);var w=h[0],x=h[1];(function(){return f&&f()});h=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(a);function y(a){a!=null&&a.length>0&&z(a)}var z=m(function(a){(j||(j=b("Promise"))).all([].slice.call(a).map(function(a){return new(j||(j=b("Promise")))(function(b,c){var d=new FileReader();d.addEventListener("load",function(){b({data:d.result,name:a.name,type:a.type})});d.readAsDataURL(a)})})).then(function(a){return q.concat(a)}).then(function(a){r(a)})},[r,q]),A=function(){return q.length===0?null:l.jsx("div",{children:l.jsx("ul",{className:"_abmy",children:q.map(function(a,b){return l.jsxs("div",{className:"_abmz",children:[l.jsx("div",{className:"_abm-"}),l.jsx("div",{className:"_abm_",children:l.jsx("div",{className:"_abn0",children:l.jsx(c("IGDSIconButton.react"),{onClick:function(){return C(b)},children:l.jsx(c("IGDSXPanoFilledIcon"),{alt:i._("__JHASH__MUOkOji-l5l__JHASH__"),color:"web-always-white",size:o})})})}),B(a)]},a.name+b)})})})},B=function(a){return a.type.match(/image\//i)?l.jsx("img",{alt:a.name,className:"_abn1",src:a.data}):l.jsxs("div",{children:[l.jsx(c("IGDSVideoChatPanoOutlineIcon"),{}),l.jsx("figcaption",{children:a.name})]})},C=function(a){var b=q.slice(0);b.splice(a,1);r(b)};(function(){var a;return l.jsxs("div",{children:[l.jsxs(a=c("IGDSBox.react"),{direction:"row",marginBottom:4,marginTop:4,position:"relative",children:[l.jsxs(a,{alignContent:"start",position:"relative",children:[l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",weight:"semibold",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ATTACH_EVIDENCE_TEXT}),l.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").DEFAULT_OPTIONAL_FIELD_TEXT})]}),l.jsx(a,{marginStart:"auto",position:"relative",children:l.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:["image/*","video/*"],multiple:!0,onFileChange:y,children:l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-button",textAlign:"right",weight:"semibold",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ADD_PHOTOS_TEXT})})})]}),l.jsx(a,{position:"relative",children:A()}),l.jsx(c("IGDSDivider.react"),{})]})});var D=function(){return g({attachments:q.map(function(a){return a.data}),evidenceText:k,reportSubtype:s})},E=function(){var a=!0;(s.trim()===""||s===null)&&(x(!0),a=!1);(k.trim()===""||k===null)&&(v(!0),a=!1);return a};h=h?l.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},h,{onSubmit:function(){E()&&D()}})):null;var F=a.response.report_subtype_tags||[],G=a.response.subtype_selector_header?a.response.subtype_selector_header.text:"";return l.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:f,children:[l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",zeroMargin:!0,children:l.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a.response.header})}),l.jsx("br",{}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{direction:"column",marginBottom:4,marginTop:4,position:"relative",children:l.jsx(c("PolarisFRXInAppEscalationReportDropdownSelector.react"),{"aria-label":"select subtype of report",errorMessage:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ERROR_SELECT_SUBTYPE_ERROR_TEXT,handleSetReportSubtype:function(a){t(a!=null?a:""),x(!1)},placeholder:G,showError:w,tags:F})}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:4,marginTop:4,position:"relative",children:l.jsx(c("PolarisFRXInAppEscalationReportTextAreaInput.react"),{"aria-label":"evidence_text",errorMessage:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_PLEASE_EXPLAIN_ERROR_TEXT,id:"evidence_input",name:"evidence_text",onChange:function(a){p(a.target.value),a.target.value.trim()!==""&&v(!1)},placeholder:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_EXPLAIN_PROMPT_TEXT,showError:u,value:k})}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative"}),h]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXNotifyGuardianFollowupModal.react",["IGDSConfirmDialog.react","PolarisFRXWebReportStrings","nullthrows","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){a.onClose&&a.onClose()}function k(a,b,c){a.onNotify&&a.onNotify(b,c)}function a(a){var b=c("usePolarisViewer")(),e=c("nullthrows")(b==null?void 0:b.guardianId);b={confirmLabel:d("PolarisFRXWebReportStrings").SEND_BUTTON_TEXT,onConfirm:function(){k(a,!0,e)}};var f=d("PolarisFRXWebReportStrings").DONT_SEND_BUTTON_TEXT;return i.jsx(c("IGDSConfirmDialog.react"),babelHelpers["extends"]({},b,{body:d("PolarisFRXWebReportStrings").getNotifyGuardianModalText(a.guardianUsername,a.reportedTagTitle,a.reportedUsername),cancelLabel:f,onClose:function(){k(a,!1,e),j(a)},title:d("PolarisFRXWebReportStrings").NOTIFY_GUARDIAN_MODAL_TITLE_NO_QUESTION}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalOptionList.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.asRadio;b=b===void 0?!1:b;a=a.children;var c="_ac7r";return b?j.jsx("fieldset",{className:c,children:a}):j.jsx("div",{className:c,role:"list",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalOptionListItem.react",["cx","fbt","IGDSBox.react","IGDSChevronIcon","IGDSSpinner.react","PolarisFRXReportModalRichTextRenderer.react","PolarisIGCoreRadioButton","cr:7074","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={BUTTON:"button",LINK:"link",RADIO:"radio"},m={DEFAULT:"default",GREY:"grey",RED:"red"},n=4;function o(a){a.onSelect&&a.onSelect()}function p(a){a=a.href;return c("isStringNullOrEmpty")(a)?l.BUTTON:l.LINK}function a(a){var d=a.children,e=a["data-testid"];e=a.href;var f=a.variant;f=f===void 0?p(a):f;var g=a.textColor;g=g===void 0?m.DEFAULT:g;var h=a.disabled,i=f===l.RADIO;d=d;i||(d=k.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"row",padding:n,position:"relative",children:[k.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:d}),h!==!0&&k.jsx(q,babelHelpers["extends"]({},a))]}));g="_abn2"+(g===m.RED?" _abn3":"")+(g===m.GREY?" _abn4":"");if(i){i=a.selected;var j=a.value;j=j===void 0?"":j;if(b("cr:7074")!=null)return k.jsx(c("IGDSBox.react"),{"data-testid":void 0,padding:n,children:k.jsx(b("cr:7074"),{isChecked:i,label:k.jsx("div",{className:g,children:d}),onChange:function(){return o(a)},value:j})});else return k.jsx("div",{className:g,"data-testid":void 0,children:k.jsx(c("PolarisIGCoreRadioButton"),{checked:i,onChange:function(){return o(a)},paddingX:n,paddingY:n,size:"large",textSize_DEPRECATED:"body",value:j,weight_DEPRECATED:"normal",zeroMargin:!0,children:k.jsx(k.Fragment,{children:d})})})}else if(f===l.LINK&&e!=null&&e!=="")return k.jsx(c("PolarisFRXReportModalRichTextRenderer.react"),{className:g,"data-testid":void 0,href:e,onClick:function(){return o(a)},children:d});return k.jsx("button",{className:g,"data-testid":void 0,disabled:h,onClick:function(){return o(a)},children:d})}a.displayName=a.name+" [from "+f.id+"]";function q(a){a=a.loading;a===!0?a=k.jsx(c("IGDSSpinner.react"),{size:"small"}):a=k.jsx(c("IGDSChevronIcon"),{alt:i._("__JHASH__KmLwDGth6wW__JHASH__"),color:"ig-tertiary-text",direction:"next",size:17});return k.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"row",marginStart:2,position:"relative",children:a})}q.displayName=q.name+" [from "+f.id+"]";g.OPTION_LIST_ITEM_VARIANTS=l;g.OPTION_LIST_ITEM_TEXT_COLORS=m;g.FRXReportModalOptionListItem=a}),98);
__d("PolarisFRXReportModalFollowUpActionSection.react",["IGDSBox.react","PolarisFRXReportModalOptionList.react","PolarisFRXReportModalOptionListItem.react","PolarisFRXWebReportActions","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisReactRedux","PolarisReportConstants","isStringNullOrEmpty","polarisRelationshipSelectors","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){a=a.reportedOwner.id;return d("polarisRelationshipSelectors").getRelationship(b.relationships,a)}function k(a,b){a=a.onSelectFollowupAction;a&&a(b)}function a(a){var b=a.followUpActions,e=d("PolarisReactRedux").useSelector(function(b){return d("polarisRelationshipSelectors").followedByViewer(j(a,b))}),f=d("PolarisReactRedux").useSelector(function(b){return d("polarisRelationshipSelectors").isBlockedByViewer(j(a,b))}),g=c("usePolarisViewer")();b=b.map(function(b,c){var h=b.action_type,j=b.beta_redirect_uri,o=b.name;if(h==null)return null;o=o==null?void 0:o.text;var p=function(){return k(a,b)};c="followup-"+c;switch(h){case d("PolarisReportConstants").FRXActionType.LEARN_MORE_ADS:case d("PolarisReportConstants").FRXActionType.LEARN_MORE_EDUCATION:case d("PolarisReportConstants").FRXActionType.OPEN_CROWDTANGLE:case d("PolarisReportConstants").FRXActionType.SELF_INJURY_EDUCATION_ACTION:case d("PolarisReportConstants").FRXActionType.EATING_DISORDER_EDUCATION_ACTION:return o==null||o===""||j==null||j===""?null:i.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{href:j,onSelect:p,children:o},c);case d("PolarisReportConstants").FRXActionType.UNFOLLOW:return!e?null:i.jsx(l,{labelText:o,onSelect:p},c);case d("PolarisReportConstants").FRXActionType.BLOCK_ACTOR:return f?null:i.jsx(m,{labelText:o,onSelect:p},c);case d("PolarisReportConstants").FRXActionType.NOTIFY_GUARDIAN:return(g==null?void 0:g.isSupervisedUser)!==!0?null:i.jsx(n,{labelText:o,onSelect:p},c);default:return null}}).filter(function(a){return a!=null});return b.length===0?null:i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{marginTop:11,position:"relative"}),i.jsx(c("PolarisFRXReportModalOptionList.react"),{children:b})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.labelText,e=a.onSelect;a=c("isStringNullOrEmpty")(b)?d("PolarisFRXWebReportStrings").DEFAULT_UNFOLLOW_BUTTON_TEXT:b;var f=d("PolarisReactRedux").useDispatch();return i.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:function(){e(),f(d("PolarisFRXWebReportActions").doStartUnfollowFollowupAction())},children:a})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.labelText,e=a.onSelect;a=c("isStringNullOrEmpty")(b)?d("PolarisFRXWebReportStrings").DEFAULT_BLOCK_BUTTON_TEXT:b;var f=d("PolarisReactRedux").useDispatch();return i.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:function(){e(),f(d("PolarisFRXWebReportActions").doStartBlockFollowupAction())},textColor:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.RED,children:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.labelText,e=a.onSelect;a=c("isStringNullOrEmpty")(b)?d("PolarisFRXWebReportStrings").DEFAULT_NOTIFY_GUARDIAN_BUTTON_TEXT:b;var f=d("PolarisReactRedux").useDispatch();b=d("PolarisReactRedux").useSelector(d("PolarisFRXWebReportStateSelectors").getDisableNotifyGuardianOption);var g=b===!0?d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.GREY:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.DEFAULT;return i.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{disabled:b,onSelect:function(){e(),f(d("PolarisFRXWebReportActions").doStartNotifyGuardianFollowupAction())},textColor:g,children:a})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportConfirmationScreenModal.react",["IGDSBox.react","IGDSCircleCheckPanoOutlineIcon","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalFollowUpActionSection.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){b=b.action_type;if(b==null)return;a=a.screenPayload.response;d("PolarisFRXWebReportUtils").handleFRXGuidedAction({action_type:b,context:a==null?void 0:a.context})}function a(a){var b=a.headerParams,e=a.onClose,f=function(){return e&&e()};return i.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:b,onClose:f,children:[i.jsx(k,babelHelpers["extends"]({},a)),i.jsx(l,babelHelpers["extends"]({},a)),i.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:i.jsx(c("PolarisFRXReportMainButton.react"),{"data-testid":void 0,onClick:f,text:d("PolarisGenericStrings").CLOSE_TEXT})})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a){a=a.screenPayload;a=a||{};a=a.response;a=a||{};var b=a.follow_up_actions_title;a=a.subtitle;a=a?i.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:6,position:"relative",children:i.jsx(c("IGDSText.react").Section,{textAlign:"center",zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})}):null;var e=null;b&&(e=i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:b})}),a&&(e=i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:e})));return i.jsx(c("IGDSBox.react"),{marginTop:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:i.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginTop:6,position:"relative",children:[i.jsx(c("IGDSCircleCheckPanoOutlineIcon"),{alt:d("PolarisFRXWebReportStrings").CHECKMARK_ICON_ALT_TEXT,color:"ig-success",size:48}),a,e]})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.reportedOwner,d=a.screenPayload.response;d=d==null?void 0:d.follow_up_actions;return!d||d.length===0?null:i.jsx(c("PolarisFRXReportModalFollowUpActionSection.react"),{followUpActions:d,onSelectFollowupAction:function(b){j(a,b)},reportedOwner:b})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportConfirmationScreenModalForSupervision.react",["IGDSBox.react","IGDSCircleCheckPanoOutlineIcon","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalFollowUpActionSection.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){b=b.action_type;if(b==null)return;a=a.screenPayload.response;d("PolarisFRXWebReportUtils").handleFRXGuidedAction({action_type:b,context:a==null?void 0:a.context})}function a(a){var b=a.headerParams,e=a.onClose,f=function(){return e&&e()};return i.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:b,onClose:f,children:[i.jsx(k,babelHelpers["extends"]({},a)),i.jsx(l,babelHelpers["extends"]({},a)),i.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:i.jsx(c("PolarisFRXReportMainButton.react"),{onClick:f,text:d("PolarisGenericStrings").CLOSE_TEXT})})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a){a=a.screenPayload;a=a||{};a=a.response;a=a||{};var b=a.follow_up_actions_title;a=a.subtitle;a=a?i.jsx(c("IGDSBox.react"),{marginTop:6,position:"relative",children:i.jsx(c("IGDSText.react").Section,{textAlign:"center",zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})}):null;var e=null;b&&(e=i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:b})}),a&&(e=i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:e})));return i.jsx(c("IGDSBox.react"),{marginTop:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:i.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginTop:6,position:"relative",children:[i.jsx(c("IGDSCircleCheckPanoOutlineIcon"),{alt:d("PolarisFRXWebReportStrings").CHECKMARK_ICON_ALT_TEXT,color:"ig-success",size:48}),a,e]})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.reportedOwner,d=a.screenPayload.response;d=d==null?void 0:d.follow_up_actions;return!d||d.length===0?null:i.jsx(c("PolarisFRXReportModalFollowUpActionSection.react"),{followUpActions:d,onSelectFollowupAction:function(b){j(a,b)},reportedOwner:b})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalScreenContentSectionList.react",["IGDSBox.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=4;function a(a){var b=a.sections;a=a.marginBetween;var d=a===void 0?j:a;a=b.filter(function(a){return!!a}).map(function(a,b){var e=b>0&&d!==0?i.jsx(c("IGDSBox.react"),{marginTop:d,position:"relative"}):null;return i.jsxs(i.Fragment,{children:[e,a]},"section-"+b)});return i.jsx(i.Fragment,{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalInterstitialScreen.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportUtils","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=2,k=100;function a(a){var b=a.headerParams,e=a.onClose,f=a.screenPayload,g=f.response;g=g||{};var h=g.body,j=g.image_url,o=g.paragraphs,p=g.subtitle;g=g.tip_number;o=o?o[0]:null;var q=k;g=h||g===3?k:k*2;q=c("isStringNullOrEmpty")(j)?null:i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",position:"relative",children:i.jsx("img",{alt:"",height:q,src:j,width:g})});j=p?i.jsx(l,{subtitle:p}):null;g=h?i.jsx(n,{body:h}):o?i.jsx(n,{body:o}):null;p=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(f);h=p?i.jsx(m,{parentProps:a,promptButtonProps:p}):null;return i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:b,onClose:e,children:i.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[q,j,g,h]})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.subtitle;return i.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:j,position:"relative",children:i.jsx(c("IGDSText.react").Section,{textAlign:"center",children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.parentProps;a=a.promptButtonProps;var d=b.onSubmitScreen;b=b.screenPayload;b=b.response;var e=b.tip_number;return i.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{onSubmit:function(a){return d({selectedPromptButtonActionType:a,tipNumber:e})}}))}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.body;a=a?i.jsx(c("IGDSBox.react"),{position:"relative",children:i.jsx("div",{role:"listitem",children:i.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:i.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})})})}):null;return i.jsx(c("IGDSBox.react"),{position:"relative",children:a})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModalPolicyEducationSection.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=2,k=1,l="\u2022";function m(a,b){a=a.first_paragraph;var d=[];[a].forEach(function(a){if(!a||(a==null?void 0:a.text)==null||(a==null?void 0:a.text)==="")return;d.push(i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:b?"semibold":"normal",zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})}))});return d}function n(a){a=a.policies;a=a===void 0?[]:a;if(!a||a.length===0)return[];var b=[];a.forEach(function(a){a=a.title;if(!a)return;b.push(i.jsx("div",{role:"listitem",children:i.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[i.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:i.jsx("div",{"aria-hidden":"true",children:i.jsx(c("IGDSText.react").Body2,{color:"secondaryText",zeroMargin:!0,children:l})})}),i.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:i.jsx(c("IGDSText.react").Body2,{color:"secondaryText",zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})]})}))});return b}function a(a){a=a.policyEducation;var b=a.second_paragraph,d=a.title;d=d?i.jsx(c("IGDSText.react").Section,{zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:d})}):null;b=b?i.jsxs(c("IGDSBox.react"),{marginTop:d?1:0,position:"relative",children:[i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",zeroMargin:!0,children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:b})}),i.jsx(c("IGDSBox.react"),{height:d?2:10,position:"relative"})]}):null;var e=n(a);a=m(a,e.length>0);a=a.length>0?i.jsx(c("IGDSBox.react"),{marginTop:d?j:0,position:"relative",children:i.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{marginBetween:j,sections:a})}):null;e=e.length>0?i.jsx(c("IGDSBox.react"),{marginTop:d||a?k:0,position:"relative",children:i.jsx("div",{role:"list",children:i.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{marginBetween:k,sections:e})})}):null;return i.jsxs(c("IGDSBox.react"),{position:"relative",children:[d,b,a,e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportPolicyEducationScreenModal.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPolicyEducationSection.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.headerParams,e=a.onClose,f=a.screenPayload,g=f.response;g=g||{};var h=g.policy_education;g=g.subtitle;g=g?i.jsx(j,{subtitle:g}):null;var l=h?i.jsx(c("PolarisFRXReportModalPolicyEducationSection.react"),{policyEducation:h}):null;f=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(f);a=f?i.jsx(k,{parentProps:a,promptButtonProps:f}):null;f=null;if(h){h=h.education_button;if(h){h={actionType:h.action_type,canSubmitOnClick:!1,href:h.url,label:(h=(h=h.title)==null?void 0:h.text)!=null?h:"",primaryButton:!1};f=i.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},h))}}return i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:b,onClose:e,children:i.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[g,l,a,f]})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.subtitle;return i.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:2,position:"relative",children:i.jsx(c("IGDSText.react").Section,{children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.parentProps;a=a.promptButtonProps;var d=b.onSubmitScreen;return i.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{onSubmit:function(a){return d(a)}}))}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportSelectVictimScreenModal.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisReactRedux","PolarisReportConstants","PolarisReportUserImpersonationSearchBox.react","PolarisSearchActions","PolarisSearchConstants","polarisSearchSelectors","react","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){a=a.allSearchResults;var b=[];for(var c=0;c<a.length;c++){var d=a[c];d.type==="USER_RESULT"&&b.push(d)}return b}function l(a){var b=a.onClearSearch;j(function(){return function(){b()}},[b])}function a(a){l(a);var b=a.headerParams,e=a.onClose,f=a.onSelectVictim,g=a.reportedOwner,h=a.screenPayload;h=h.response;var j=h||{};j=j.subtitle;h=h.context;g=g.id;j=j?i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:i.jsx(c("IGDSText.react").BodyEmphasized,{children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:j})})}):null;try{h=c("useJSON")((h=h)!=null?h:null);h=h==null?void 0:h.tags;h=(h==null?void 0:h.includes(d("PolarisReportConstants").IGUserImpersonationSomeoneIFollowTag.tag_type))===!0}catch(a){h=!1}h=!h;g=i.jsx(c("PolarisReportUserImpersonationSearchBox.react"),{onSelectVictim:function(a){return f(a)},reportedUserID:g,searchBoxPlaceHolder:d("PolarisSearchConstants").IMPERSONATION_SEARCH_TEXT,userSearchResults:k(a),verifiedOnly:h});return i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:b,onClose:function(){return e&&e()},children:i.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[j,g]})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=d("polarisSearchSelectors").getCurrentSearchContent(a);a=a.results;return{allSearchResults:a}}e={onClearSearch:d("PolarisSearchActions").clearSearch};f=d("PolarisReactRedux").connect(b,e)(a);g["default"]=f}),98);
__d("InstagramAdHideResponseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3449");b=d("FalcoLoggerInternal").create("instagram_ad_hide_response",a);e=b;g["default"]=e}),98);
__d("PolarisFRXReportTagSelectionScreenModal.react",["IGDSBox.react","IGDSText.react","InstagramAdHideResponseFalcoEvent","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalOptionList.react","PolarisFRXReportModalOptionListItem.react","PolarisFRXReportModalPolicyEducationSection.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportConstants","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportUtils","PolarisReactRedux","PolarisReportConstants","gkx","goUriOnNewWindow","isEmpty","isStringNullOrEmpty","polarisAdsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useRef,m=e.useState,n=null,o="";function p(a,b,e,f){var g=a.isFRXScreenRequestProcessing,h=a.onSubmitScreen;a=a.screenPayload.response;var i=b.setStateSelectedTagTitle;b=b.setStateSelectedTagType;var j=e.tag_type,k=e.title;k=(k=k==null?void 0:k.text)!=null?k:"";if(c("gkx")("7656")&&e.tag_click_override_url!=null){c("goUriOnNewWindow")(e.tag_click_override_url);return}if(g||j==null||j==="")return;b(j);i(k);d("PolarisFRXWebReportUtils").logFRXTagSelected({context:a==null?void 0:a.context,selected_tag_type:j});h&&!f&&h({selectedPromptButtonActionType:null,selectedTagTitles:[k],selectedTagTypes:[j]})}function q(a,b,d){a=a.onSubmitScreen;var e=b.selectedTagTitle;b=b.selectedTagType;a&&!c("isStringNullOrEmpty")(b)&&a({selectedPromptButtonActionType:d,selectedTagTitles:[e],selectedTagTypes:[b]})}function r(){var a=m(n),b=a[0];a=a[1];var c=m(o),d=c[0];c=c[1];return{selectedTagTitle:d,selectedTagType:b,setStateSelectedTagTitle:c,setStateSelectedTagType:a}}function s(a,b){var c=b.setStateSelectedTagTitle,d=b.setStateSelectedTagType,e=a.screenPayload.frxScreenRequestID,f=l(),g=f.current;k(function(){f.current=e,e!==g&&(d(n),c(o))},[e,g,d,c])}function a(a){var b=r();s(a,b);var c=a.headerParams,e=a.onClose;return j.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:c,onClose:e,children:j.jsx(t,{parentProps:a,parentState:b})})}a.displayName=a.name+" [from "+f.id+"]";function t(a){var b,e=a.parentProps;a=a.parentState;var f=e.screenPayload,g=f.response;g=g||{};var i=g.policy_education,k=g.report_tags,l=g.second_subtitle;g=g.subtitle;b=g&&!(h||(h=c("isEmpty")))((b=g.text)==null?void 0:b.trim())?j.jsx(u,{subtitle:g}):null;g=l&&!(h||(h=c("isEmpty")))((g=l.text)==null?void 0:g.trim())?j.jsx(v,{secondSubtitle:l}):null;l=k&&k.length>0?j.jsx(w,{parentProps:e,parentState:a,reportTags:k}):null;k=i?j.jsx(x,{policyEducation:i}):null;i=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(f);f=i?j.jsx(y,{parentProps:e,parentState:a,promptButtonProps:i}):null;e=b!=null?d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP:0;a=k||f?d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM:0;return j.jsx(c("IGDSBox.react"),{marginBottom:a,marginTop:e,position:"relative",children:j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[b,g,l,k,f]})})}t.displayName=t.name+" [from "+f.id+"]";function u(a){a=a.subtitle;return j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:2,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("IGDSText.react").Section,{children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a.secondSubtitle;return j.jsx(c("IGDSBox.react"),{marginTop:0,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.parentProps,e=a.parentState;a=a.reportTags;var f=b.frxMetadata,g=b.isFRXScreenRequestProcessing,h=b.screenPayload.response;h=h||{};h=h.style;var i=e.selectedTagType,k=h===d("PolarisFRXWebReportConstants").FRX_TAG_SELECTION_STYLE_INTS.RADIO_BUTTONS,l=d("polarisAdsSelectors").useFRXReportAdLoggingParams(f.object_id,f.location);h=a.map(function(a,h){var m=a.tag_type,n=a.title,o=i===m,q=g&&o&&!k,r=k?d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_VARIANTS.RADIO:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_VARIANTS.BUTTON;h="tag-"+h;return j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{"data-testid":void 0,loading:q,onSelect:function(){f.object_type===d("PolarisReportConstants").FRXObjectType.AD&&c("InstagramAdHideResponseFalcoEvent").log(function(){return babelHelpers["extends"]({ad_id:f.object_id,response:m},l)}),p(b,e,a,k)},selected:o,value:h,variant:r,children:n==null?void 0:n.text},h)});return j.jsx(c("PolarisFRXReportModalOptionList.react"),{asRadio:k,children:h})}w.displayName=w.name+" [from "+f.id+"]";function x(a){a=a.policyEducation;return j.jsx(c("IGDSBox.react"),{paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportModalPolicyEducationSection.react"),{policyEducation:a})})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.parentProps,e=a.parentState;a=a.promptButtonProps;var f=e.selectedTagType;return j.jsx(c("IGDSBox.react"),{paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{disabled:!f,onSubmit:function(a){return q(b,e,a)}}))})}y.displayName=y.name+" [from "+f.id+"]";function b(a){return{isFRXScreenRequestProcessing:d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing(a)}}e=d("PolarisReactRedux").connect(b,null)(a);g["default"]=e}),98);
__d("PolarisFRXReportUtils",[],(function(a,b,c,d,e,f){"use strict";var g=["ig_ad_ip_violation","ig_ad_ip_violation","ig_intellectual_property_v1","ig_ar_effect_ip_violation","ig_intellectual_property_direct_message","ig_hashtag_intellectual_property","ig_ad_spam","ig_spam_v3","ig_spam_direct_message","ig_spam","ig_bullying_or_harassment_comment_v3","ig_bullying_or_harassment_direct_message","ig_hashtag_bullying_or_harassment","ig_ar_effect_harassment_or_bullying","ig_harassment_or_bullying","ig_nudity_v2","ig_nudity_direct_message","ig_clips_audio_page_nudity","ig_clips_effect_page_nudity","ig_clips_prompt_page_nudity","ig_hashtag_nudity","ig_ar_effect_nudity_or_pornography","ig_nudity","ig_ad_sexually_inappropriate","ig_iab_sexually_inappropriate","product_sexualized_content_or_adult_products","bi_commerce_sexualized_or_adult_content","inappropriate_content","ig_commerce_ugc_graphic_content","bi_commerce_abusive_or_harmful","ig_violence_parent","ig_ad_violent_prohibited","ig_ar_effect_violence","ig_violence_direct_message","ig_hashtag_violence","ig_violence_v3","ig_violence","ig_dangerous_org_or_individual","ig_hate_speech_v3","ig_ar_effect_hate_speech","ig_hate_speech_direct_message","ig_hashtag_hate_speech","ig_hate_speech","ig_i_dont_like_it_v3","ig_ar_effect_i_dont_like_it","ig_i_dont_like_it_direct_message","ig_ad_offensive","ig_self_injury_v3","ig_ar_effect_self_injury","ig_hashtag_self_injury","ig_self_injury","ig_self_injury_direct_message","ig_ad_scam_misleading","ig_product_scam_fraud_v2","ig_product_scam_fraud_reportable","ig_product_scam_fraud_feedback_only","ig_iab_scam_misleading","bi_commerce_misleading_or_possible_scam","ig_sale_of_illegal_or_regulated_goods_v3","ig_sale_of_illegal_or_regulated_goods_direct_message","ig_sale_of_illegal_or_regulated_goods_v2","ig_ar_effect_drugs","ig_ar_effect_firearms","bi_commerce_alcohol_tobacco_and_weapons","bi_commerce_animal_products_or_sales","ig_false_news","ig_ar_effect_false_information","ig_report_report_as_unlawful","bi_commerce_discriminatory_listing","discrimination","ig_something_else","something_else","ig_ad_political","ig_escalations_create_detailed_report","ig_eating_disorder","ig_nft_metadata_mismatch","bi_commerce_buying_or_selling","ig_interference_flagger","ig_commerce_ugc_manipulation","ig_commerce_ugc_irrelevance","ig_commerce_review_irrelevant","ig_commerce_fake_review","ig_commerce_product_answer_irrelevant","ig_commerce_product_question_irrelevant","ig_user_impersonation","ig_unwanted_joiner","ig_iab_excessive_ads","ig_iab_other","page_place_inaccurate_info","bi_commerce_service_or_job","product_no_intent_to_sale","bi_commerce_appears_to_be_counterfeit","bi_commerce_health_or_wellness","bi_commerce_other_prohibited","bi_commerce_no_service_offered","bi_commerce_health_or_medical","information_misuse","dont_recognize_activity"];function a(a){return g.includes(a)}f.shouldUseTagType=a}),66);
__d("PolarisFRXReportScreenModal.react",["IGDSBox.react","IGDSSpinner.react","PolarisFRXInAppEscalationReportTypeScreenModal.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportConfirmationScreenModal.react","PolarisFRXReportModalInterstitialScreen.react","PolarisFRXReportPolicyEducationScreenModal.react","PolarisFRXReportSelectVictimScreenModal.react","PolarisFRXReportTagSelectionScreenModal.react","PolarisFRXReportUtils","PolarisFRXWebReportActions","PolarisFRXWebReportConstants","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function k(a){a.onClose&&a.onClose()}function l(a){var b=a.isFRXScreenRequestProcessing;a=a.onGoBackOneFRXScreen;a&&!b&&a()}function m(a,b){var c=a.frxMetadata,e=a.isFRXScreenRequestProcessing,f=a.onRequestNextFRXScreen,g=a.onStoreReportedTagTitle,h=a.reportedTagTitle;a=a.screenPayload;if(e)return;e=a||{};a=e.response;e=e.type;a=a||{};a=a.context;var i=b==null?void 0:b.selectedTagTypes;i=i!=null&&i.length>0?i[0]:null;var j=b==null?void 0:b.selectedTagTitles;j=j!=null&&j.length>0?j[0]:"";h===""&&i!=null&&d("PolarisFRXReportUtils").shouldUseTagType(i)&&j!==""&&g(j);h=d("PolarisFRXWebReportUtils").getNextFRXScreenInputRequestTypeFromScreenPayloadType(e);if(!h)return;f({context:a,frxPromptRequestType:h,metadata:c,optionalParams:b})}function a(a){var b=a.frxMetadata,e=a.hasMountedScreenFlow,f=a.hasPreviousScreens,g=a.isFRXScreenRequestProcessing,h=a.reportedOwner,p=a.screenPayload,q=a.showFRXDropOffSurveyModal,r=a.threadId;f=d("PolarisFRXReportBaseScreenModal.react").getDefaultScreenModalHeaderParamsFromScreenPayload(p,f,function(){return l(a)});var s=j(!1),t=s[0],u=s[1],v=function(){u(!0),k(a)};s=i.jsx(o,{headerParams:f,onClose:v});if(!p)return g||!e||t?i.jsx(n,{headerParams:f,onClose:v}):s;g=p.type;switch(g){case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.TAG_SELECTION:return i.jsx(c("PolarisFRXReportTagSelectionScreenModal.react"),{frxMetadata:b,headerParams:f,onClose:function(){v(),q!=null&&q()},onSubmitScreen:function(b){m(a,babelHelpers["extends"]({},b))},screenPayload:p});case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.POLICY_EDUCATION:return i.jsx(c("PolarisFRXReportPolicyEducationScreenModal.react"),{headerParams:f,onClose:function(){v(),q!=null&&q()},onSubmitScreen:function(b){m(a,{responsible_id:h.id,selectedPromptButtonActionType:b,thread_id:r})},screenPayload:p});case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.PROCESS_EDUCATION:return i.jsx(c("PolarisFRXReportModalInterstitialScreen.react"),{headerParams:f,onClose:v,onSubmitScreen:function(b){m(a,babelHelpers["extends"]({},b))},screenPayload:p});case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.ESCALATION:return i.jsx(c("PolarisFRXReportModalInterstitialScreen.react"),{headerParams:f,onClose:v,onSubmitScreen:function(b){m(a,{selectedPromptButtonActionType:b})},screenPayload:p});case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION:return i.jsx(c("PolarisFRXReportConfirmationScreenModal.react"),{headerParams:f,onClose:v,reportedOwner:h,screenPayload:p});case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.SELECT_VICTIM:return i.jsx(c("PolarisFRXReportSelectVictimScreenModal.react"),{headerParams:f,onClose:function(){v(),q!=null&&q()},onSelectVictim:function(b){m(a,{selectedVictimID:b.pk})},reportedOwner:h,screenPayload:p});case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.IN_APP_ESCALATION_REPORT_TYPE:return i.jsx(c("PolarisFRXInAppEscalationReportTypeScreenModal.react"),{headerParams:f,onClose:v,onSubmitScreen:function(b){m(a,babelHelpers["extends"]({},b))},screenPayload:p});default:return s}}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.headerParams;a=a.onClose;var e=122;return i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:b,onClose:a,children:i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",minHeight:e,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{})})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.headerParams;a=a.onClose;return i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:b,onClose:a,children:d("PolarisFRXWebReportStrings").DEFAULT_ERROR_MESSAGE_TEXT})}o.displayName=o.name+" [from "+f.id+"]";function b(a){return{isFRXScreenRequestProcessing:d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing(a),reportedTagTitle:d("PolarisFRXWebReportStateSelectors").getReportedTagTitle(a)}}e={onRequestNextFRXScreen:d("PolarisFRXWebReportActions").doRequestNextFRXScreenAction,onStoreReportedTagTitle:d("PolarisFRXWebReportActions").doStoreReportedTagTitle};f=d("PolarisReactRedux").connect(b,e)(a);g["default"]=f}),98);
__d("PolarisFRXUnfollowUserFollowupModal.react",["PolarisConnectionsLogger","PolarisUnfollowDialog.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onClose;a=a.userToUnfollow;a=a.id;return!a?null:i.jsx(c("PolarisUnfollowDialog.react"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.frx_web_reporting,analyticsExtra:{},onClose:function(){return b&&b()},userId:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFRXReportModal.react",["IGDSBox.react","IGDSSpinner.react","PolarisFRXBlockUserFollowupModal.react","PolarisFRXNotifyGuardianFollowupModal.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportConfirmationScreenModalForSupervision.react","PolarisFRXReportScreenModal.react","PolarisFRXUnfollowUserFollowupModal.react","PolarisFRXWebReportActions","PolarisFRXWebReportState","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisReactRedux","PolarisReportConstants","PolarisStoryActions","gkx","nullthrows","react","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useMemo,l=e.useState;function m(a,b){var c=a.frxLocation,e=a.frxObjectType,f=a.isAfterConfirmationScreen,g=a.onClose,h=a.onDoReportingModalClosedAction;a=a.reportedObjectID;c===d("PolarisReportConstants").FRXLocation.STORY&&e===d("PolarisReportConstants").FRXObjectType.AD&&f&&b(d("PolarisStoryActions").navigateReel(!0,"automatic_forward"));h({isAfterConfirmationScreen:f,reportedObjectID:a,reportedObjectType:e});g&&g()}function n(a){a=a.onGoBackOneFRXScreen;a()}function o(a,b,d){if(b===!0){var e=a.onDoDisableNotifyGuardianOption;e()}e=a.onDoOpenNotifyGuardianFollowupModalToPreviousScreen;var f=a.reportedOwner.id,g=c("gkx")("7623");e(b,d,g?f:"-1",g?a.reportedTagTitle:"")}function p(a,b,c,d){var e=a.onRequestInitFRXScreen;j(function(){b||(e(d),c(!0))},[c,b,d,e])}function a(a){var b=l(!1),e=b[0];b=b[1];var f=a.containerModule,g=a.currScreenPayload,h=a.currRenderStep,j=a.screenHistorySize,q=a.reportedObjectID,r=a.frxEntryPoint,s=r===void 0?d("PolarisReportConstants").FRXEntryPoint.CHEVRON_BUTTON:r,t=a.frxLocation,u=a.frxObjectType;r=a.reportedOwner;var v=a.showFRXDropOffSurveyModal,w=a.useSimpleBlockModalWithoutRefresh,x=a.threadId,y=a.threadKey,z=a.isGroupThread,A=a.isSecureThread,B=c("usePolarisAnalyticsContext")(),C=d("PolarisReactRedux").useDispatch(),D=k(function(){var a;return{container_module:(a=f)!=null?a:B,entry_point:s,location:t,object_id:q,object_type:u}},[f,B,s,t,u,q]);p(a,e,b,D);b=function(){return m(a,C)};var E=j>1;E=d("PolarisFRXReportBaseScreenModal.react").getDefaultScreenModalHeaderParamsFromScreenPayload(g,E,function(){return n(a)});var F=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:E,onClose:b,children:d("PolarisFRXWebReportStrings").DEFAULT_ERROR_MESSAGE_TEXT}),G=122;G=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:E,onClose:b,children:i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",minHeight:G,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{})})});var H=c("usePolarisViewer")();H!==null&&(H==null?void 0:H.guardianId)!==null&&(H==null?void 0:H.guardianId)!==""&&C(d("PolarisFRXWebReportActions").doStoreGuardianInformation(c("nullthrows")(H==null?void 0:H.guardianId)));H=d("PolarisReactRedux").useSelector(d("PolarisFRXWebReportStateSelectors").getGuardianUsername);switch(h){case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.UNFOLLOW:return i.jsx(c("PolarisFRXUnfollowUserFollowupModal.react"),{onClose:b,userToUnfollow:r});case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.BLOCK:return i.jsx(c("PolarisFRXBlockUserFollowupModal.react"),{frxObjectType:u,isGroupThread:z,isSecureThread:A,onClose:b,threadKey:y,userToBlock:r,useSimpleBlockModalWithoutRefresh:w});case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.NOTIFY_GUARDIAN:return i.jsx(c("PolarisFRXNotifyGuardianFollowupModal.react"),{guardianUsername:H,onClose:b,onNotify:function(b,c){return o(a,b,c)},reportedTagTitle:a.reportedTagTitle,reportedUsername:r==null?void 0:r.username});case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.NOTIFY_GUARDIAN_FOLLOWUP:return!g?!e?G:F:i.jsx(c("PolarisFRXReportConfirmationScreenModalForSupervision.react"),{headerParams:E,onClose:b,reportedOwner:r,screenPayload:g});case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.DEFAULT:default:return i.jsx(c("PolarisFRXReportScreenModal.react"),{frxMetadata:D,hasMountedScreenFlow:e,hasPreviousScreens:j>1,onClose:b,onGoBackOneFRXScreen:function(){return n(a)},reportedOwner:r,screenPayload:g,showFRXDropOffSurveyModal:v,threadId:x})}}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b;return{currRenderStep:(b=d("PolarisFRXWebReportStateSelectors")).getCurrRenderStep(a),currScreenPayload:b.getCurrScreenPayload(a),isAfterConfirmationScreen:b.getIsConfirmationScreenInHistoryStack(a),reportedTagTitle:b.getReportedTagTitle(a),screenHistorySize:b.getScreenHistorySize(a)}}e={onDoDisableNotifyGuardianOption:d("PolarisFRXWebReportActions").doDisableNotifyGuardianOption,onDoOpenNotifyGuardianFollowupModalToPreviousScreen:d("PolarisFRXWebReportActions").doOpenNotifyGuardianFollowupModalToPreviousScreenAction,onDoReportingModalClosedAction:d("PolarisFRXWebReportActions").doReportingModalClosedAction,onGoBackOneFRXScreen:d("PolarisFRXWebReportActions").doGoBackOneFRXScreenAction,onRequestInitFRXScreen:d("PolarisFRXWebReportActions").doRequestInitFRXScreenAction};f=d("PolarisReactRedux").connect(b,e)(a);g["default"]=f}),98);
__d("PolarisVideoPlayButton.react",["cx","fbt","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i._("__JHASH__WT4Q1op-CT7__JHASH__");function a(a){var b=a.onClick;a=a.showPlayButton;return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"_aakh",children:k.jsx("span",{"aria-label":d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,className:"_aaki _aakj"+(a?" _aakk":"")+" _9zwu",role:"button"})}),k.jsx("div",{"aria-label":l,className:"_aakl",onClick:b,role:"button",tabIndex:"0"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("MAWHexUtils",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.toString(16);return(a.length-1).toString(16)+a}function b(a){for(var b=1;b<a.length;b++){var d=a.substring(0,b),e=a.substring(b);if(e.length-1===parseInt(d,16))return parseInt(e,16)}throw c("err")("Cannot convert the order-preserving-hex back to number")}g.orderPreservingHex=a;g.reverseOrderPreservingHex=b}),98);
__d("MAWDbMsg",["FBLogger","MAWDbChatId","MAWHexUtils","MAWMsgType","OfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";var h;h=[(h=d("MAWMsgType")).MSG_TYPE.REVOKED,h.MSG_TYPE.EPHEMERAL_SYNC_RESPONSE,h.MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE,h.MSG_TYPE.GROUP_INVITE,h.MSG_TYPE.SK_DISTRIBUTION,h.MSG_TYPE.RAVEN_ACTION];function a(a){return q(a)?a:null}var i="futureproof",j="toBeRead",k="spam",l="futureproof_spam",m=void 0,n="e2ee_admin_msg",o="cutover_admin_msg";function p(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function b(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_DEBUG_"+d("MAWHexUtils").orderPreservingHex(Math.floor(Math.random()*1e4))}function q(a){var b=a.indexOf("_");if(b<=0)return!1;b=a.indexOf("_",b+2);return b!==a.length-2?!1:a.charAt(a.length-1)==="m"}function e(a){return a+"_"+j}function f(a){return a+"_"+n}function r(a){return a+"_"+o}function s(a){a=a.split("_");a=a[0];return d("MAWDbChatId").unsafeCoerceToChatId(d("MAWHexUtils").reverseOrderPreservingHex(a))}function t(a){a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function u(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function v(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function w(a){try{var b=s(a);a=t(a);return p(b,a+1)+"_o"}catch(a){return d("OfflineThreadingId").createOfflineThreadingID()}}function x(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.XMA:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.NOTE_REPLY:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isXMAMsg check: "%s"',a.type)}function y(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.NOTE_REPLY:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isMediaMsg check: "%s"',a.type)}function z(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.NOTE_REPLY:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isContentMsg check: "%s"',a.type)}function A(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.NOTE_REPLY:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isMsgEligibleForTriggeringEphemeralSyncResponse check: "%s"',a.type)}function B(a){return D(a.type)}function C(a){return a.type===d("MAWMsgType").MSG_TYPE.ADMIN}function D(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"||a==="GroupInvite"||a==="SenderKeyDistribution"||a==="RavenAction"||a==="EditAction"}function E(a){return a==="RavenAction"}function F(a){return a.serverTs!=null?a.serverTs:a.ts}function G(a){if(a.sortOrderMs!=null)return a.sortOrderMs;else return F(a)*1e3}function H(a,b){if(a.serverTs!=null)return Math.max(b+1,a.serverTs*1e3);else return b+1}function I(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.NOTE_REPLY:case d("MAWMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return a.editMsgContent;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:return}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for getMsgContent check: "%s"',a.type)}g.NO_CONTENT_MESSAGE_TYPES_ALLOWLIST=h;g.toMsgId=a;g.FUTUREPROOF_ALT_INDEX=i;g.SPAM_ALT_INDEX=k;g.FUTUREPROOF_SPAM_ALT_INDEX=l;g.UNDEFINED_ALT_INDEX=m;g.craftMsgId=p;g.craftDebugMsgId=b;g.isValidMsgId=q;g.craftToBeReadAltIndex=e;g.craftE2eeAdminMsgAltIndex=f;g.craftCutoverAdminMsgAltIndex=r;g.getThreadIdFromMsgId=s;g.getInChatMsgIdFromMsgId=t;g.msgIdsInChatLowerBound=u;g.msgIdsInChatUpperBound=v;g.getNextOptimisticId=w;g.isXMAMsg=x;g.isMediaMsg=y;g.isContentMsg=z;g.isMsgEligibleForTriggeringEphemeralSyncResponse=A;g.isUnrenderedMsg=B;g.isAdminMsg=C;g.isUnrenderedMsgType=D;g.isRavenActionMsgType=E;g.getCanonicalTsFromMsg=F;g.getSortOrderWithFallback=G;g.getSortOrderFromPrevious=H;g.getMsgContent=I}),98);
__d("MAWReceiveToUploadUtils",["I64","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;b=c("justknobx")._("1693");e=100;var i=(h||(h=d("I64"))).of_int32(e*100),j=h.of_int32(e*b),k=new RegExp(/^[1-9]{1}[0-9]*$/);function a(a){if(!k.test(a))return!1;try{a=(h||(h=d("I64"))).of_string(a);return h.compare(h.mod_(a,i),j)<0}catch(a){return!1}}g.checkUploadEligbility=a}),98);
__d("MAWThreadId",["I64","LSMessagingThreadTypeUtil","ODS","ReQL","WALogger","asyncToGeneratorRuntime","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange((h||(h=d("I64"))).of_int32(b))));if(a!=null)return a.serverThreadKey;throw c("unrecoverableViolation")("Tried to convert a rowId to thread key but couldn't find a\n      corresponding row in the mapping table. This can mean that\n      there is a race condition between the time a thread was created\n      on the WA backend, and the time it was inserted into the mapping table.\n      i.e. this function is called before the fn that inserts the mapping\n      into the mapping table","messenger_web_product")});return j.apply(this,arguments)}var k=new Set();function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange((h||(h=d("I64"))).of_int32(b))));if(a!=null){k["delete"](b);return a.serverThreadKey}k.has(b)||(d("WALogger").LOG(["[Occamadillo] Thread id: "+b.toString()+" is not yet in miActMapping table."]),(i||(i=d("ODS"))).bumpEntityKey(5765,"thread_not_in_miActMapping","[Occamadillo] Thread id: "+b.toString()+" is not yet in miActMapping table."),k.add(b));return});return l.apply(this,arguments)}function f(a){c("recoverableViolation")("Checking if a threadKey is a secure thread key in Occamadillo. We should be\n      checking the thread's thread type instead","messenger_web_product");return!1}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(a==null)return;return a.threadType});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield m(a,b));return a==null?!1:d("LSMessagingThreadTypeUtil").isSecure(a)});return p.apply(this,arguments)}function q(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b))}g.toThreadKey_DEPRECATED=a;g.toThreadKeyMaybe_DEPRECATED=e;g.isThreadId=f;g.isSecureThreadId=o;g.getThreadFromJid=q}),98);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(?:"+g+"[.]){3}"+g+")";var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!=-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c=n.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=p.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!u.test(d[0]))return y(c[0]);b=0;a=0;var e=1,f=0,g=a;for(var h=1;h<d.length;h++){var i=d[h];if(g===a){if(i==="(")f+=1,g=e;else if(u.test(i)||!v.test(i))b=h;else if(w.test(i))break}else if(i==="(")f+=1;else if(i===")")f-=1,f===0&&(g=a,b=h);else if(x.test(i))break}return y(c[0]+d.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3,NONE:4});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("PolarisEmojiPopoverConstants",[],(function(a,b,c,d,e,f){"use strict";a=309;b=309;c=333;d=325;e=55;var g=302;f.EMOJI_TRAY_WIDTH=a;f.EMOJI_TRAY_HEIGHT=b;f.EMOJI_TRAY_WIDTH_WITH_MARGIN=c;f.EMOJI_TRAY_HEIGHT_WITH_MARGIN=d;f.VARIATION_CONTENT_HEIGHT=e;f.VARIATION_CONTENT_WIDTH_6_EMOJIS=g}),66);
__d("PolarisEmojiPopoverPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","IGDSPopoverLoadingState.react","PolarisEmojiPopoverConstants","range","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={emoji:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",width:"x1td3qas",$$css:!0},emojiContainer:{display:"x78zum5",flexWrap:"x1a02dak",paddingBottom:"xwib8y2",$$css:!0},label:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1kpxq89",marginTop:"x1xmf6yo",marginEnd:"x1emribx",marginBottom:"x1e56ztr",marginStart:"x1i64zmx",width:"xxljpkc",$$css:!0},popover:{marginBottom:"x1yztbdb",$$css:!0}};function a(){var a=i.jsxs(c("IGDSBox.react"),{height:"fit-content",marginTop:2,width:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_WIDTH,children:[i.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:j.label}),i.jsx("div",{className:"x78zum5 x1a02dak xwib8y2",children:c("range")(0,14).map(function(a){return i.jsx(c("IGDSGlimmer.react"),{index:a,xstyle:j.emoji},"emoji_glimmer_"+a)})}),i.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:j.label}),i.jsx("div",{className:"x78zum5 x1a02dak xwib8y2",children:Array(28).fill(0).map(function(a,b){return i.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:j.emoji},"emoji_glimmer_"+b)})})]});return i.jsx(c("IGDSPopoverLoadingState.react"),{popoverContent:i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",height:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_HEIGHT_WITH_MARGIN,justifyContent:"center",width:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_WIDTH_WITH_MARGIN,children:a}),popoverXStyle:j.popover})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisEmojiButton.react",["IGDSFace2PanoOutlineIcon","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","JSResourceForInteraction","PolarisDirectStrings","PolarisEmojiPopoverPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("JSResourceForInteraction")("PolarisEmojiPopover.react").__setRef("PolarisEmojiButton.react"),k=13;function a(a){var b=a.color,e=b===void 0?"ig-primary-text":b;a.isEmojiTrayOpen;b=a.onEmojiClick;var f=a.padding,g=a.setEmojiTrayOpen;a=a.size;var h=a===void 0?"medium":a;return i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",fallback:i.jsx(c("PolarisEmojiPopoverPlaceholder.react"),{}),onVisibilityChange:function(a){g(a)},popoverProps:{handleEmojiClick:b},popoverResource:j,position:"above",preloadTrigger:"button",children:function(a,b){return i.jsx(c("IGDSIconButton.react"),{hover:i.jsx(c("IGDSFace2PanoOutlineIcon"),{alt:d("PolarisDirectStrings").EMOJI_BUTTON_ALT_TEXT,color:e==="ig-secondary-text"?"ig-tertiary-text":void 0,size:h==="small"?k:void 0}),innerRef:a,onClick:b,padding:f===!0?8:0,children:i.jsx(c("IGDSFace2PanoOutlineIcon"),{alt:d("PolarisDirectStrings").EMOJI_BUTTON_ALT_TEXT,color:e,size:h==="small"?k:void 0})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCommentInputReplyingToBar.react",["fbt","IGDSIconButton.react","IGDSXFilledIcon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={clearButton:{":active_opacity":"x1d5wrs8",$$css:!0},iOSStyling:{backgroundColor:"xjbqb8w",paddingBottom:"x1a8lsjc",paddingStart:"x1e558r4",paddingEnd:"x150jy0e",paddingTop:"xexx8yu",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x19g9edo",borderBottomColor:"x1ixjvfu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingTop:"xz9dl7a",paddingEnd:"x1pi30zi",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",$$css:!0}};function a(a){var b=a.isRevampedMobileInput;b=b===void 0?!1:b;var d=a.onClearReply;a=a.username;return k.jsxs("div",{className:(i||(i=c("stylex")))(l.root,b&&l.iOSStyling),children:[k.jsx("span",{children:h._("__JHASH__VtKxQrCzs4E__JHASH__",[h._param("username",a)])}),k.jsx(c("IGDSIconButton.react"),{onClick:d,padding:0,xstyle:l.clearButton,children:k.jsx(c("IGDSXFilledIcon"),{alt:"at",size:14})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramWebTypeaheadResultSelectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5676");b=d("FalcoLoggerInternal").create("instagram_web_typeahead_result_select",a);e=b;g["default"]=e}),98);
__d("InstagramWebTypeaheadSearchAttemptFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5677");b=d("FalcoLoggerInternal").create("instagram_web_typeahead_search_attempt",a);e=b;g["default"]=e}),98);
__d("PolarisStoryTypeaheadConstants",[],(function(a,b,c,d,e,f){"use strict";a="touch_mention";f.TOUCH_MENTION_ID=a}),66);
__d("PolarisStoryTypeaheadResultsList.react",["cx","fbt","PolarisDOMListener.react","PolarisIGCorePressable","PolarisIGVirtualList.react","PolarisSearchConstants","PolarisStoryTypeaheadConstants","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=100,m=6;function n(a){return a.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={results:[]},e.$2=function(a){a=a.index;var b=e.state.results[a];return k.jsxs(c("PolarisIGCorePressable"),{className:"_acn7",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,onPress:function(a){return e.$1(b,a)},children:[k.jsx("img",{alt:i._("__JHASH__B2hKC5spJyT__JHASH__",[i._param("username",b.username)]),className:"_acn8",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,src:b.profilePictureUrl}),k.jsx("div",{className:"_acn9",children:b.username})]},b.username)},e.$3=function(a){a.stopPropagation()},b)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a,b){return babelHelpers["extends"]({},b,{results:n(a.results)})};var e=b.prototype;e.componentDidMount=function(){this.setState({results:n(this.props.results)})};e.$1=function(a,b){b.preventDefault();b=this.props.pendingQueryStartIndex;this.props.onResultSelect(a,b)};e.render=function(){return k.jsxs("div",{className:"_acna",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,children:[k.jsx(c("PolarisDOMListener.react"),{event:"touchmove",handler:this.$3,passive:!1,target:document}),k.jsx(c("PolarisIGVirtualList.react"),{containerSize:"auto",direction:"horizontal",estimatedItemSize:l,initialRenderCount:m,itemCount:this.state.results.length,overscanCount:m,renderer:this.$2})]})};return b}(k.Component);g["default"]=a}),98);
__d("PolarisTypeaheadResultsItem.react",["cx","fbt","PolarisPostsStatistic.react","PolarisSearchConstants","PolarisSocialProofStatisticVariant","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=function(a){a.preventDefault()},c.$2=function(a){c.props.onClick&&c.props.onClick(c.props.result,a)},c.$3=function(){c.props.onMouseEnter&&c.props.onMouseEnter(c.props.index,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_MOUSE)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$4=function(a){switch(a.type){case d("PolarisSearchConstants").USER_RESULT:return k.jsxs("div",{className:"_acmr",children:[k.jsx("img",{alt:i._("__JHASH__B2hKC5spJyT__JHASH__",[i._param("username",a.username)]),className:"_acms",src:a.profilePictureUrl}),k.jsxs("div",{className:"_acmt",children:[k.jsxs("div",{className:"_acmu",children:[a.username,a.isVerified?k.jsx("div",{className:"_acmv _9ys8"}):null]}),k.jsx("span",{className:"_acmw",dir:"auto",children:a.fullName})]})]});case d("PolarisSearchConstants").HASHTAG_RESULT:var b=a.mediaCount;return k.jsxs("div",{className:"_acmt",children:[k.jsx("span",{className:"_acmu",dir:"auto",children:"#"+a.name}),b!=null&&k.jsx("div",{className:"_acmw",children:k.jsx(c("PolarisPostsStatistic.react"),{value:b,variant:d("PolarisSocialProofStatisticVariant").SOCIAL_PROOF_STATS_VARIANTS.unstyled})})]});case d("PolarisSearchConstants").LOCATION_RESULT:return k.jsxs("div",{className:"_acmt",children:[k.jsx("span",{className:"_acmu",dir:"auto",children:a.name}),k.jsx("span",{className:"_acmw",dir:"auto",children:a.address})]});default:return null}};e.render=function(){var a=this.props,b=a.isSelected,c=a.result,d=a.showLargeAvatars;a=a.size;a=a===void 0?"default":a;c=this.$4(c);return c?k.jsx("button",{className:(d?"":"_acmx")+(d?" _acmy":"")+(a==="extraLarge"?" _acmz":"")+(b?" _acm-":""),onClick:this.$2,onMouseDown:this.$1,onMouseEnter:this.$3,children:c}):null};return b}(k.Component);g["default"]=a}),98);
__d("PolarisTypeaheadResultsList.react",["cx","IGDSSpinner.react","PolarisSearchConstants","PolarisTypeaheadResultsItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){a.className;var b=a.loading,e=a.onResultHighlight,f=a.onResultSelect,g=a.pendingQueryStartIndex,h=a.results,i=a.searchContext,n=a.selectedIndex,o=a.showLargeAvatars,p=a.showResultsCondensed,q=a.size,r=l(),s=l();k(function(){if(r.current&&n!=null){var a=r.current.clientHeight,b=4;r.current.scrollTop=a*Math.floor(n/b)}},[n]);var t=function(a,b){b.preventDefault(),f(a,g)},u=function(a){switch(a.type){case d("PolarisSearchConstants").USER_RESULT:return"user_"+a.username;case d("PolarisSearchConstants").HASHTAG_RESULT:return"hashtag_"+a.name;case d("PolarisSearchConstants").LOCATION_RESULT:return"location_"+a.external_id;default:return null}};a=function(a,b){return j.jsx("div",{ref:b===0?s:null,children:j.jsx(c("PolarisTypeaheadResultsItem.react"),{index:b,isSelected:b===n,onClick:t,onMouseEnter:e,result:a,showLargeAvatars:o,size:q})},u(a))};return j.jsxs("div",{className:"_acm_",children:[b&&j.jsx("div",{className:(p?"_acn0":"")+(p?"":" _acn1"),children:j.jsx("div",{className:"_acn2"+(p?"":" _acn3")+(p?" _acn4":""),children:j.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),!b&&j.jsx("div",{className:"_acn5"+(p?" _acn6":""),ref:r,children:m(h,i).map(a)})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a,b){switch(b){case d("PolarisSearchConstants").SEARCH_CONTEXT.USER:return a.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG:return a.filter(function(a){return a.type===d("PolarisSearchConstants").HASHTAG_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION:return a.filter(function(a){return a.type===d("PolarisSearchConstants").LOCATION_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED:default:return a}}g["default"]=a}),98);
__d("PolarisTypeahead.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","InstagramWebTypeaheadSearchAttemptFalcoEvent","PolarisIGHashtagRegex","PolarisIGUsernameRegex","PolarisLogger","PolarisSearchConstants","PolarisStoryTypeaheadResultsList.react","PolarisTypeaheadResultsList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState,n=10,o=new RegExp(d("PolarisIGHashtagRegex").HASH_CHARS),p=new RegExp(d("PolarisIGUsernameRegex").MENTIONS_MARKER),q={typeaheadAttempt:"typeaheadAttempt",typeaheadClickSuccess:"typeaheadClickSuccess"};function r(a){d("PolarisLogger").logAction(q.typeaheadClickSuccess,{searchContext:a}),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}function s(a){d("PolarisLogger").logAction(q.typeaheadAttempt,{searchContext:a}),c("InstagramWebTypeaheadSearchAttemptFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}function a(a){var b=a.className;a.currentLocation;var e=a.cursorIndex,f=a.initialSearchContext;f=f===void 0?d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED:f;var g=a.inputString,h=g===void 0?"":g;g=a.loading;var o=a.onClearSearch,p=a.onResultHighlight,q=a.onResultSelect,w=a.onSearch,x=a.onSearchLocations,y=a.rankToken,z=a.results,A=a.searchOnMount,B=A===void 0?!1:A;A=a.selectedIndex;var C=a.showLargeAvatars;C=C===void 0?!1:C;var D=a.showResultsCondensed;D=D===void 0?!0:D;var E=a.size,F=a.useSearchTriggers;a=m(F?null:0);var G=a[0],H=a[1];a=m(f);var I=a[0],J=a[1],K=l(),L=l(),M=j(function(a){I===d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION?x(a):w(I,a,y),window.clearTimeout(K.current)},[w,x,y,I]);k(function(){if(B&&G!==null){var a=F?h.slice(G,e):h;window.clearTimeout(K.current);K.current=window.setTimeout(function(){return M(a)},n);return}},[e,M,h,G,B,F]);k(function(){return function(){o(),window.clearTimeout(K.current)}},[o]);var N=j(function(){H(F?null:0),o()},[o,F]);k(function(){var a;if(((a=L.current)==null?void 0:a.inputString)!==h||B&&e!==((a=L.current)==null?void 0:a.cursorIndex)){a=h.slice(e-1,e);if(F&&t(a)){var b;(b=L.current)==null?void 0:b.onClearSearch();H(e);J(v(a))}else if(G!==null&&(!h||F&&u(a)))N();else if(G!==null){var c=F?h.slice(G,e):h;window.clearTimeout(K.current);K.current=window.setTimeout(function(){s(I),M(c)},n)}}L.current={cursorIndex:e,inputString:h,onClearSearch:o}},[e,M,N,h,o,G,I,B,F]);f=function(a,b){N(),q(a,b),r(I)};return i.jsxs("div",{className:b,children:[G!=null&&!B&&i.jsx(c("PolarisTypeaheadResultsList.react"),{loading:g,onResultHighlight:p,onResultSelect:f,pendingQueryStartIndex:G,results:z,searchContext:I,selectedIndex:A,showLargeAvatars:C,showResultsCondensed:D,size:E}),G!=null&&B&&i.jsx(c("PolarisStoryTypeaheadResultsList.react"),{onResultHighlight:p,onResultSelect:f,pendingQueryStartIndex:G,results:z,searchContext:I})]})}a.displayName=a.name+" [from "+f.id+"]";function t(a){return o.test(a)||p.test(a)}function u(a){return/\s/.test(a)}function v(a){if(o.test(a))return d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG;return p.test(a)?d("PolarisSearchConstants").SEARCH_CONTEXT.USER:d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED}g["default"]=a}),98);
__d("PolarisTypeaheadContainer.react",["PolarisReactRedux","PolarisSearchActions","PolarisTypeahead.react","polarisSearchSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=d("polarisSearchSelectors").getCurrentSearchContent(a);return{loading:a.loading,rankToken:a.rankToken,results:a.results,selectedIndex:a.selectedIndex}}function b(a){return{onClearSearch:function(){a(d("PolarisSearchActions").clearSearch())},onResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))},onSearch:function(b,c,e){a(d("PolarisSearchActions").search(b,c,e))},onSearchLocations:function(b,c,e){a(d("PolarisSearchActions").searchLocations(b,c,e))}}}e=d("PolarisReactRedux").connect(a,b)(c("PolarisTypeahead.react"));g["default"]=e}),98);
__d("PolarisTypeaheadInput.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","Keys","PolarisLogger","PolarisReactRedux","PolarisSearchActions","PolarisSearchConstants","ReactTextareaAutosizeWWWIG","getTextDirection","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={typeaheadClickSuccess:"typeaheadClickSuccess"},l={root:{fontFamily:"x1i0vuye",$$css:!0}};e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={hasFocus:!1},e.$3=function(a){e.props.onBlur&&e.props.onBlur(a),e.setState({hasFocus:!1})},e.$4=function(a){e.props.onFocus&&e.props.onFocus(a),e.setState({hasFocus:!0})},e.$5=function(a){e.props.onChange(a.target.value,a.target.selectionEnd)},e.$6=function(a){e.$1=a,e.props.inputRef&&e.props.inputRef(a)},e.$7=function(a){var b=e.props.search.content[e.props.search.currentSearchTab],f=b.loading,g=b.results,h=b.searchedForQuery;b=b.selectedIndex;!a.altKey&&(g.length>0||f)&&(a.which===c("Keys").DOWN?(b==null?e.props.onTypeaheadResultHighlight(0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD):b<g.length-1&&e.props.onTypeaheadResultHighlight(b+1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),a.preventDefault()):a.which===c("Keys").UP?(b!=null&&b>0&&e.props.onTypeaheadResultHighlight(b-1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),a.preventDefault()):a.which===c("Keys").RETURN&&(g!=null&&g.length>0&&(b!=null?(e.props.onTypeaheadResultSelect(g[b],e.props.cursorIndex-h.length),m()):e.props.onTypeaheadResultHighlight(0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD)),a.preventDefault()))},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.shouldComponentUpdate=function(a,b){return this.props.value!==a.value||this.props.cursorIndex!==a.cursorIndex||this.props.disabled!==a.disabled||this.state.hasFocus!==b.hasFocus};e.componentDidUpdate=function(a,b){this.state.hasFocus&&this.$1!=null&&this.props.cursorIndex!==this.$1.selectionEnd&&this.$2()};e.$2=function(){var a=this.$1;a&&(a.focus(),a.setSelectionRange(this.props.cursorIndex,this.props.cursorIndex))};e.render=function(){var a=this.props,b=a.autosize;a.cursorIndex;a.inputRef;a.onTypeaheadResultHighlight;a.onTypeaheadResultSelect;a.search;var d=a.value,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["autosize","cursorIndex","inputRef","onTypeaheadResultHighlight","onTypeaheadResultSelect","search","value","xstyle"]);var f=c("getTextDirection")(d);e={autoComplete:"off",autoCorrect:"off",className:(h||(h=c("stylex")))(l.root,e),dir:f,onBlur:this.$3,onChange:this.$5,onFocus:this.$4,onKeyDown:this.$7,value:d};return b===!0?j.jsx(c("ReactTextareaAutosizeWWWIG"),babelHelpers["extends"]({},a,e,{ref:this.$6})):j.jsx("textarea",babelHelpers["extends"]({},a,e,{ref:this.$6}))};return b}(j.Component);function m(){d("PolarisLogger").logAction(k.typeaheadClickSuccess),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env}})}function a(a){return{search:a.search}}function b(a){return{onTypeaheadResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}f=d("PolarisReactRedux").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisPostCommentInputForm.react",["cx","fbt","CarouselAutoplayContext","IGDSButton.react","IGDSSpinner.react","PolarisEmojiButton.react","PolarisPostCommentInputReplyingToBar.react","PolarisTypeaheadContainer.react","PolarisTypeaheadInput.react","PolarisUA","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useCallback,n=b.useContext,o=i._("__JHASH__CPNtEZUIkbA__JHASH__"),p={emojiButton:{paddingTop:"x1y1aw1k",paddingEnd:"x1pi30zi",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",$$css:!0},emojiButtonOnRevampFeed:{marginEnd:"x1w0mnb",$$css:!0},emojiButtonV2:{paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",$$css:!0},familiarFeedEmojiButton:{order:"xo1ph6p",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},shouldShowReplyBar:{marginBottom:"xyorhqc",$$css:!0},textArea:{backgroundColor:"xvbhtw8",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"x5n08af",display:"x78zum5",flexGrow:"x1iyjqo2",fontSize:"x1qlqyl8",height:"x1d6elog",maxHeight:"xlk1fp6",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",resize:"xtt52l0",width:"xnalus7","::placeholder_color":"xs3hnx8",":disabled_opacity":"x1bq4at4",":disabled_pointerEvents":"xaqnwrm",$$css:!0},typeahead:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxShadow:"x1jumc70",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},typeaheadDesktop:{backgroundColor:"xvbhtw8",boxShadow:"x122emky",minWidth:"x92112o",position:"x10l6tqk",top:"xdsb8wn",$$css:!0},typeaheadMobile:{bottom:"x58jzl7",end:"xds687c",position:"x10l6tqk",start:"x17qophe",$$css:!0},typeaheadShowAboveInput:{bottom:"x10w3d4m",top:"x80663w",$$css:!0}},q={root:{color:"xkx5cws",opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.autosize,e=a.cursorIndex,f=a.familiarFeed;a.forceTextareaAutosize;var g=a.hasPostButton,h=a.inputRef,k=a.isEmojiTrayOpen,r=a.isOnDesktopFeed,s=a.isRevampedMobileInput;s=s===void 0?!1:s;var t=a.isRevampVersion,u=a.isSubmitDisabled,v=a.isTypeaheadInputDisabled,w=a.onBlur,x=a.onChange,y=a.onClearReply,z=a.onEmojiClick,A=a.onEmojiTrayOpen,B=a.onFocus,C=a.onKeyPress,D=a.onKeyUp,E=a.onPostButtonClicked,F=a.onTypeaheadResultSelect,G=a.openTypeaheadAbove,H=a.pendingComment,I=a.repliedToUsername,J=a.replyingToBarWithinInput;J=J===void 0?!1:J;a=a.showTypeahead;var K=n(c("CarouselAutoplayContext")),L=K.pauseCarouselAutoplay;K=t&&r===!0;var M=J&&I!=null&&I!==""&&y!=null,N=m(function(){L(),B()},[L,B]);return l.jsxs(l.Fragment,{children:[l.jsxs("form",{className:"_aidk"+(t?" _aidl":"")+(K?" _aie4":"")+(s?"":" _ak6u")+(s?" _akhr":"")+(J&&I!=null?" _akhm":""),"data-testid":void 0,method:"POST",children:[v&&l.jsx(c("IGDSSpinner.react"),{position:"absolute"}),J&&y!=null&&I!=null&&l.jsx("div",{className:(j||(j=c("stylex")))(M&&p.shouldShowReplyBar),children:l.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{isRevampedMobileInput:s,onClearReply:y,username:I})}),l.jsxs("div",{className:"_akhn",children:[d("PolarisUA").isDesktop()&&l.jsx("div",{className:(j||(j=c("stylex")))([r===!0?p.emojiButtonV2:p.emojiButton,f?p.familiarFeedEmojiButton:null,K&&p.emojiButtonOnRevampFeed]),children:l.jsx(c("PolarisEmojiButton.react"),{color:f?"ig-secondary-text":void 0,isEmojiTrayOpen:k,onEmojiClick:z,setEmojiTrayOpen:A,size:f&&(!t||K)?"small":void 0})}),l.jsx(c("PolarisTypeaheadInput.react"),{"aria-label":o,autosize:b,cursorIndex:e,"data-testid":void 0,disabled:v,inputRef:h,onBlur:w,onChange:x,onFocus:N,onKeyPress:C,onKeyUp:D,onTypeaheadResultSelect:F,placeholder:o,value:H,xstyle:p.textArea}),g&&(f?!u:!0)&&l.jsx("div",{className:(f?"_aidp":"")+(f?"":" _am-5"),children:l.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",isDisabled:u,label:i._("__JHASH__zzYm0I61wsT__JHASH__"),onClick:E,variant:"primary_link",xstyle:u?q.root:void 0})})]})]}),a?l.jsx(c("PolarisTypeaheadContainer.react"),{className:(j||(j=c("stylex")))([p.typeahead,d("PolarisUA").isMobile()?p.typeaheadMobile:p.typeaheadDesktop,G?p.typeaheadShowAboveInput:null]),cursorIndex:e,inputString:H,onResultSelect:F,showResultsCondensed:!0,useSearchTriggers:!0}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("polarisUpdateTextOnTypeaheadSelect",["PolarisSearchConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f="";switch(a.type){case d("PolarisSearchConstants").USER_RESULT:f=a.username;break;case d("PolarisSearchConstants").HASHTAG_RESULT:f=a.name;break;default:return{updatedCursorIndex:e,updatedText:c}}a=" ";b=c.substring(0,b);c=c.substring(e);e=b+f+a+c;c=b.length+f.length+a.length;return{updatedCursorIndex:c,updatedText:e}}g["default"]=a}),98);
__d("PolarisPostCommentInput.react",["cx","fbt","IGDSText.react","PolarisFastLink.react","PolarisIGCoreConstants","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisLogger","PolarisPanavisionQEHelpers","PolarisPendingCommentActions","PolarisPostCommentInputForm.react","PolarisPostCommentInputReplyingToBar.react","PolarisReactRedux","PolarisRoutes","PolarisSearchActions","PolarisUA","PolarisUserAvatar.react","browserHistory","gkx","joinClasses","nullthrows","one-trace","polarisSearchSelectors","polarisUpdateTextOnTypeaheadSelect","polarisUserSelectors","react","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function l(){var a=k.jsx(c("PolarisFastLink.react"),{href:d("PolarisLinkBuilder").buildLoginLink(d("browserHistory").browserHistory.location.pathname,{source:"post_comment_input"}),children:k.jsx(c("IGDSText.react").Body,{color:"link",zeroMargin:!0,children:i._("__JHASH__5fqLO0g-L2z__JHASH__")})});return k.jsx("span",{children:k.jsx(c("IGDSText.react").Body,{color:"secondaryText",zeroMargin:!0,children:i._("__JHASH__WPvyG_7QGy0__JHASH__",[i._param("loginLink",a)])})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){return k.jsx("span",{children:i._("__JHASH__BM0L4toxBeH__JHASH__",[i._param("username",a.username)])})}m.displayName=m.name+" [from "+f.id+"]";f=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$3=null;e.focusAndScroll=function(){var a=function(){var a=c("nullthrows")(e.$1);a.focus();d("PolarisUA").isMobile()&&window.setTimeout(function(){typeof a.scrollIntoView==="function"&&(a.scrollIntoView(!0),window.scrollBy(0,-200))},10)};e.setState({hasBeenFocused:!0},function(){window.setTimeout(function(){return a()})})};e.$6=function(a){a.key==="Enter"&&!a.shiftKey&&e.$5(a)};e.$7=function(a){a.stopPropagation()};e.$8=function(a,b){e.state.commentAttempt||d("PolarisLogger").logAction("commentAttempt",{isLoggedIn:e.props.isLoggedIn,source:e.props.analyticsContext,type:e.props.isVideo===!0?"video":"photo"}),e.setState({commentAttempt:!0,cursorIndex:b,isEmojiTrayOpen:e.$2!=null,needsFlush:!0,pendingComment:a})};e.$9=function(a){e.$1=a,c("gkx")("4923")&&(a!=null?e.$3=c("one-trace").trackTypingPerf(a,"PostCommentInput"):e.$3!=null&&(e.$3(),e.$3=null))};e.$10=function(){e.setState({hasBeenFocused:!0,hasFocus:!0})};e.$11=function(){e.setState({hasFocus:!1})};e.$12=function(a){var b=e.props,c=b.analyticsContext,f=b.id;b=b.ownerId;d("PolarisInteractionsLogger").logInteractionAction({containerModule:c,eventName:"instagram_organic_comment_button",mediaAuthorId:b,mediaId:f});e.$5(a)};e.$13=function(a,b){a=c("polarisUpdateTextOnTypeaheadSelect")(a,b,e.state.pendingComment,e.state.cursorIndex);b=a.updatedCursorIndex;a=a.updatedText;e.$8(a,b)};e.$14=function(a){var b,c;e.$2=a;b=((b=e.$1)==null?void 0:b.selectionStart)||0;c=((c=e.$1)==null?void 0:c.selectionEnd)||0;c=e.state.pendingComment.substring(0,b)+a+e.state.pendingComment.substring(c);b=b+a.length;e.$8(c,b)};e.$15=function(a){a===!0&&d("PolarisLogger").logAction("emojiButtonClicked",{isLoggedIn:e.props.isLoggedIn,source:e.props.analyticsContext,type:e.props.isVideo===!0?"video":"photo"}),e.setState({isEmojiTrayOpen:a})};var f=c("gkx")("8645");e.emojiPickerTray=k.createRef();e.state={commentAttempt:!1,cursorIndex:b.pendingComment.length,hasBeenFocused:!1,isEmojiTrayOpen:!1,needsFlush:!1,pendingComment:f?"":b.pendingComment};return e}var e=b.prototype;e.componentWillUnmount=function(){!this.props.commentSaveIsInFlight&&this.state.needsFlush&&this.state.pendingComment.length>0&&this.props.onCommentChange(this.state.pendingComment)};e.componentDidUpdate=function(a,b){var c=this.props,d=c.commentSaveIsInFlight;c=c.pendingComment;this.$1&&!b.hasBeenFocused&&this.state.hasBeenFocused&&this.$1.focus();a.pendingComment!==c&&(this.setState({cursorIndex:c.length,pendingComment:c}),this.$1&&this.$1.focus());b=b.isEmojiTrayOpen!==this.state.isEmojiTrayOpen;(this.$2!=null||b)&&(this.$2=null,this.$1&&(b&&this.setState({cursorIndex:this.$1.selectionEnd}),this.$1.focus()));a.commentSaveIsInFlight&&!d&&c===""&&this.setState({needsFlush:!0,pendingComment:""})};e.shouldComponentUpdate=function(a,b){return this.props.className!==a.className||this.props.commentSaveIsInFlight!==a.commentSaveIsInFlight||this.props.pendingComment!==a.pendingComment||this.state.pendingComment!==b.pendingComment||this.state.hasBeenFocused!==b.hasBeenFocused||this.state.hasFocus!==b.hasFocus||this.state.isEmojiTrayOpen!==b.isEmojiTrayOpen};e.$4=function(){return this.state.pendingComment.trim().length===0||this.props.commentSaveIsInFlight};e.$5=function(a){var b=this,c=this.props,d=c.adInfo,e=c.onCommentChange,f=c.onCommentSubmit,g=c.repliedToCommentId;c=c.repliedToCommentParentId;a.preventDefault();if(!this.$4()){e(this.state.pendingComment);this.setState({needsFlush:!1});a=null;d!=null&&(d==null?void 0:d.tracking_token)!=null&&(d==null?void 0:d.ad_id)!=null&&(a={adId:d==null?void 0:d.ad_id,adTrackingToken:d==null?void 0:d.tracking_token});f(this.state.pendingComment,g,c,a).then(function(){b.$1&&b.$1.blur()})}};e.$16=function(){if(this.props.isRevampVersion)return!1;return this.$1?this.props.viewportHeight-this.$1.getBoundingClientRect().bottom>200:!0};e.render=function(){var a=this.props,b=a.analyticsContext,e=a.canViewerProvideFeedback,f=a.className,g=a.hasRichCommentInput,h=a.isLoggedIn,i=a.isRevampedMobileInput;i=i===void 0?!1:i;var j=a.isRevampVersion,n=a.onClearReply,o=a.ownerUsername,p=a.repliedToUsername,q=a.replyingToBarWithinInput;q=q===void 0?!1:q;a=a.viewerProfilePicture;var r=d("browserHistory").browserHistory.location.pathname===d("PolarisRoutes").FEED_PATH||d("browserHistory").browserHistory.location.pathname===d("PolarisRoutes").ADS_ACTIVITY_FEED||d("browserHistory").browserHistory.location.pathname===d("PolarisRoutes").ADS_ACTIVITY_PATH;r=r&&this.props.inModal!==!0&&d("PolarisUA").isDesktop();b=d("PolarisUA").isDesktop()&&b==="reelsTab"&&j;var s=r&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed()||j;return k.jsxs("section",{className:c("joinClasses")((g===!0?"_aaod":"")+" _aaoe"+(s&&!b?" _agne":"")+(b?" _aiiy":""),f),children:[k.jsxs("div",{className:"_aaof"+(j?" _aiam":"")+(j&&r?" _aiv2":"")+(b?" _aiiz":"")+(i?" _akm2":""),children:[g===!0&&a!=null&&a!==""&&k.jsx(c("PolarisUserAvatar.react"),{className:"_aaog"+(j&&!b?" _aian":"")+(b?" _aii-":""),isLink:!1,profilePictureUrl:a,size:b?c("PolarisIGCoreConstants").AVATAR_SIZES.extraSmall:c("PolarisIGCoreConstants").AVATAR_SIZES.small}),!h||!e?k.jsx("div",{className:"_af6c",children:h?k.jsx(m,{username:c("nullthrows")(o)}):k.jsx(l,{})}):k.jsx(c("PolarisPostCommentInputForm.react"),{autosize:this.props.forceTextareaAutosize===!0||this.state.hasBeenFocused||this.state.pendingComment!=="",cursorIndex:this.state.cursorIndex,familiarFeed:s,hasPostButton:this.props.hasPostButton,inputRef:this.$9,isEmojiTrayOpen:this.state.isEmojiTrayOpen,isOnDesktopFeed:r,isRevampedMobileInput:i,isRevampVersion:this.props.isRevampVersion,isSubmitDisabled:this.$4(),isTypeaheadInputDisabled:this.props.commentSaveIsInFlight,onBlur:this.$11,onChange:this.$8,onClearReply:n,onEmojiClick:this.$14,onEmojiTrayOpen:this.$15,onFocus:this.$10,onKeyPress:this.$6,onKeyUp:this.$7,onPostButtonClicked:this.$12,onTypeaheadResultSelect:this.$13,openTypeaheadAbove:!this.$16(),pendingComment:this.state.pendingComment,repliedToUsername:p,replyingToBarWithinInput:q,showTypeahead:h&&e&&this.state.hasFocus===!0})]}),p!=null&&p!==""&&!q&&d("PolarisUA").isMobile()&&k.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{onClearReply:n,username:p})]})};return b}(k.Component);f.defaultProps={forceTextareaAutosize:d("PolarisUA").isMobile(),hasRichCommentInput:!1};function a(a,b){var e=a.pendingComments[b.id],f=a.navigation.pageIdentifier||"",g=d("polarisSearchSelectors").getCurrentSearchContent(a);return{analyticsContext:f,commentSaveIsInFlight:(e==null?void 0:e.committing)||!1,loading:g.loading,ownerUsername:(f=b.postOwnerUsername)!=null?f:c("nullthrows")(d("polarisUserSelectors").getUserById(a,b.ownerId).username),pendingComment:(e==null?void 0:e.text)||"",repliedToCommentAuthorId:e==null?void 0:e.repliedToCommentAuthorId,repliedToCommentId:e==null?void 0:e.repliedToCommentId,repliedToCommentParentId:e==null?void 0:e.repliedToCommentParentId,repliedToUsername:e==null?void 0:e.repliedToUsername,results:g.results,searchedForQuery:g.searchedForQuery,selectedIndex:g.selectedIndex}}function b(a,b){return{onClearReply:function(){a(d("PolarisPendingCommentActions").clearPendingComment(b.id))},onCommentChange:function(c,e,f,g,h){a(d("PolarisPendingCommentActions").changePendingComment(b.id,c,e,f,g,h))},onCommentSubmit:function(c,e,f,g){return b.onCommentSubmitOverride!=null?b.onCommentSubmitOverride(c,e,f,g):a(d("PolarisPendingCommentActions").commitPendingComment(b.id,b.ownerId,b.analyticsContext,g))},onTypeaheadResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onCommentChange:function(c){return b.onCommentChange(c,a.repliedToCommentId,a.repliedToCommentAuthorId,a.repliedToUsername)}})}function h(){return{viewportHeight:c("usePolarisDisplayProperties")().viewportHeight}}a=d("PolarisReactRedux").connect(a,b,e,{forwardRef:!0})(f);b=d("PolarisReactRedux").connectHooksWithRef(h)(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.islc(b.db.table(232).fetch(),0,b.i64.to_float(b.i64.cast([0,1]))),function(c){c=c.item;return b.db.table(233).add({taskId:a[0],notificationScopeKey:c.notificationScopeKey,notificationName:c.notificationName})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("WAMsgType",[],(function(a,b,c,d,e,f){a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="Reaction",v="SenderKeyDistribution",w="EditAction",x={TEXT:a,FUTUREPROOF:b,CIPHERTEXT:c,UNAVAILABLE:d,EXPIRED_EPHEMERAL:n,IMAGE:e,VIDEO:g,PTT:h,ADMIN:i,REVOKED:j,GIF:k,STICKER:l,DOCUMENT_FILE:m,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SYNC_RESPONSE:p,DELETE_FOR_ME:q,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,ICDC_ALERT:s,GROUP_INVITE:t,REACTION:u,SK_DISTRIBUTION:v,EDIT_ACTION:w};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.REACTION=u;f.SK_DISTRIBUTION=v;f.EDIT_ACTION=w;f.MSG_TYPE=x}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return j.has(a)};b=function(a){return k.has(a)||j.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var h="XMA",i="NoteReply";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{EPHEMERAL_SCREENSHOT_ACTION:c,NOTE_REPLY:i,RAVEN:e,RAVEN_ACTION:f,XMA:h});var j=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE]),k=new Set([d.TEXT,d.REVOKED,d.XMA]),l=new Set([d.NOTE_REPLY,d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA]);i=function(a){return l.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.MSG_TYPE=d;g.isQuotedMsgType=i}),98);
__d("MAWBridgeUIEventDataValidation",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){c("FBLogger")("mpf_web_foundations").catching(b).mustfix("Cannot convert string to i64: %s",a)}}g.stringToI64Opt=a}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var c=d("ReQL").fromTableAscending(a.table("threads_ranges_v2__generated")).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-1))||(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10))});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.table("threads_ranges_v2__generated")["delete"](d("ReQL").key(c.parentThreadKey,c.minThreadKey,c.minLastActivityTimestampMs))})},(h||(h=b("Promise"))).resolve())})}function l(a){var c=d("ReQL").fromTableAscending(a.table("threads")).filter(function(a){return d("LSMessagingThreadTypeUtil").isSecure(a.threadType)});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.table("threads")["delete"](d("ReQL").key(c.threadKey))})},(h||(h=b("Promise"))).resolve())})}function a(a){return(h||(h=b("Promise"))).all([k(a),l(a)]).then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MAWFetchNicknames",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(c,b)).then(function(a){return a==null?void 0:a.nickname})}g["default"]=a}),98);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","CurrentUser","Env","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExists","MAWBridgeUIEventDataValidation","MAWFetchNicknames","Promise","ReQL","Run","SubscriptionsHandler","asyncToGeneratorRuntime","gkx","isStringNullOrEmpty","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=b("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]),m=new Map(),n=Boolean((k||(k=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("1902661")?"Instagram":"Facebook";function o(){return h._("__JHASH__qNfUY0OKWF7__JHASH__",[h._param("Platform Name",n)]).toString()}function a(a,b){return(a=a.get(b))!=null?a:o()}function p(a,b){b=b===l.FULL_NAME?a==null?void 0:a.name:a==null?void 0:a.firstName;return(b=b)!=null?b:a==null?void 0:a.name}function q(a,b,e,f){var g=d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b).subscribe(function(a,b){if(b.operation==="delete")return;a=p(b.value,e);if(a==null||a==="")return;c("promiseDone")(f(a),g)});return g}function r(a,c){return(j||(j=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b)));return c==null||c.name===""?b:null});return function(a){return c.apply(this,arguments)}}())).then(function(a){return a.filter(Boolean)})}function s(a,b,c,d,e){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){g===void 0&&(g=!1);if(!g&&f!=null){g=(yield c("MAWFetchNicknames")(a,b,f));if(g!=null)return g}f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b)));return p(f,e)});return t.apply(this,arguments)}function u(a,b){return c("LSVerifyContactRowExists")(b,(i||(i=d("I64"))).of_int32(c("LSContactIdType").FBID),void 0,void 0,i.of_int32(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,i.of_int32(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,b===c("CurrentUser").getID(),i.of_int32(c("LSAuthorityLevel").OPTIMISTIC),void 0,void 0,i.of_int32(c("LSContactWorkForeignEntityType").UNKNOWN),i.of_int32(c("LSContactGender").UNKNOWN),i.of_int32(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a))}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield r(a,c));yield (j||(j=b("Promise"))).all(c.map(function(b){return u(a,b)}))});return w.apply(this,arguments)}function x(a){var b=function(){var b=m.get(a);b==null?(b=new(c("SubscriptionsHandler"))(),m.set(a,b)):(b.release(),b.engage());return b}(),e=d("Run").onBeforeUnload(function(){m.forEach(function(a){return a.release()}),m.clear()},!1);return{add:function(a){b.addSubscriptions({unsubscribe:a})},release:function(){e.remove(),b.release(),m["delete"](a)}}}function y(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.contactIDs,f=a.db,g=a.nameMode,h=g===void 0?l.FIRST_NAME:g,k=a.onResolve;g=a.subscriptionKey;var m=a.txn,n=a.threadKey,p=a.nicknameOnlyForFirstParticipant,r=p===void 0?!1:p;p=a.skipNickname;var t=p===void 0?!1:p,u=[],w=[];e.forEach(function(a){var b=d("MAWBridgeUIEventDataValidation").stringToI64Opt(a);b!=null?u.push(b):w.push(a)});yield v(m,u);var y=new Map(),z=x(g),A=function(a,b){b=(b=y.get(b))!=null?b:o();return[(i||(i=d("I64"))).to_string(a),b]},B=(yield (j||(j=b("Promise"))).all(u.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=(yield s(m,a,h,n,r&&e>0||t));if(!c("isStringNullOrEmpty")(g)){y.set(e,g);return[(i||(i=d("I64"))).to_string(a),g]}if(k!=null){var j=q(f,a,h,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){j(),y.set(e,a),y.size===u.length&&(z.release(),yield k(new Map(u.map(A))))});return function(b){return a.apply(this,arguments)}}());z.add(j)}return[(i||(i=d("I64"))).to_string(a),o()]});return function(b,c){return a.apply(this,arguments)}}())));w.forEach(function(a){B.push([a,o()])});return new Map(B)});return z.apply(this,arguments)}function e(a){var b=a.contactIDs,c=a.onResolve;a=babelHelpers.objectWithoutPropertiesLoose(a,["contactIDs","onResolve"]);var d=function(a){return b.map(function(b){return(b=a.get(b))!=null?b:o()})},e=function(){return c==null?void 0:function(a){return c(d(a))}}();return y(babelHelpers["extends"]({},a,{contactIDs:b,onResolve:e})).then(d)}g.ContactNameMode=l;g.getUnknownUser=o;g.getContactNameFromLookup=a;g.getContactNameFromContactID=s;g.genContacts=y;g.getContactNamesFromContactIDs=e}),98);
__d("MWVersion",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("2");g.v2=a}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction","MessengerIntent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={};function k(a){var b={mw_version:(h||(h=d("I64"))).to_string(a.mwVersion),thread_type:h.to_string(a.threadType)},e=a.initiatingSource;if(e!=null){var f=(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT));e=h.equal(e,i.ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX));f?b.entrypoint="chat":e&&(b.entrypoint="inbox")}a.isMessageRequest!=null&&(b.isMessageRequest=a.isMessageRequest?"true":"false");a.isCommunityEvent!=null&&(b.is_community_event=a.isCommunityEvent?"true":"false");return b}function a(a,b,e){var f=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction").set(b,f);f=k(e);Object.entries(f).forEach(function(b){var c=b[0];b=b[1];a.addMetadata(c,String(b))});d("MessengerIntent").sentMessage();return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}function b(a){return j[a]}function e(a,b){j[a]=b}g.getMessageSendAnnotations=k;g.logSentHeroInteraction=a;g.getS2sKeyFromOfflineMessageId=b;g.setS2sKeyForOfflineMessageId=e}),98);
__d("MWLogSend",["I64","MessageSendsClientFalcoEvent","MultipleTabsLogger","Promise","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g,j,k,l,m,n,o,p,q,r,s,t){c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,k)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(a){var b=a[0],i=a[1],k=b.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)}),s=q!=null?q:(h||(h=d("I64"))).to_string(e),u=r!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(r)):void 0;c("MessageSendsClientFalcoEvent").log(function(){return{backend:p,event_type:o,feature_tags:i===!0?[19]:[],group_thread_subtype:void 0,igd_action:void 0,igd_target_type:void 0,igd_verb:void 0,initiating_app_id:void 0,initiating_source:t,is_reply:n,message_attachment_fbids:j.map(String),message_id:void 0,message_type:m,messaging_thread_fbid:s,messaging_thread_type:(h||(h=d("I64"))).to_int32(f),msg_ttl:u,nav_chain:void 0,nonce:void 0,offline_threading_id:g,recipient_fbids:k,send_attribution:h.to_int32(l),send_attribution_raw:void 0,view_mode:void 0}})}))}g.log=a}),98);
__d("OfflineThreadingId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=window.crypto.getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b}),98);
__d("react-relay/relay-hooks/useClientQuery",["react-relay/relay-hooks/useLazyLoadQuery"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=a;return b("react-relay/relay-hooks/useLazyLoadQuery")(a,c,babelHelpers["extends"]({},d,{fetchPolicy:"store-only"}))}e.exports=a}),null);
__d("RelayHooks",["RelayFBEnvironmentActorID","configureRelayForWWW","react-relay/relay-hooks/EntryPointContainer.react","react-relay/relay-hooks/RelayEnvironmentProvider","react-relay/relay-hooks/loadEntryPoint","react-relay/relay-hooks/loadQuery","react-relay/relay-hooks/preloadQuery_DEPRECATED","react-relay/relay-hooks/prepareEntryPoint_DEPRECATED","react-relay/relay-hooks/useClientQuery","react-relay/relay-hooks/useEntryPointLoader","react-relay/relay-hooks/useFragment","react-relay/relay-hooks/useLazyLoadQuery","react-relay/relay-hooks/usePaginationFragment","react-relay/relay-hooks/usePreloadedQuery","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRefetchableFragment","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useSubscribeToInvalidationState","relay-runtime","relay-runtime/query/PreloadableQueryRegistry","useFBMutation","useFBSubscription"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentActorID").useActorID;c=b("react-relay/relay-hooks/loadQuery").loadQuery;d=b("relay-runtime").fetchQuery;f=b("relay-runtime").graphql;var g=b("relay-runtime").readInlineData;b("configureRelayForWWW")();e.exports={EntryPointContainer:b("react-relay/relay-hooks/EntryPointContainer.react"),PreloadableQueryRegistry:b("relay-runtime/query/PreloadableQueryRegistry"),RelayEnvironmentProvider:b("react-relay/relay-hooks/RelayEnvironmentProvider"),fetchQuery:d,graphql:f,loadQuery:c,loadEntryPoint:b("react-relay/relay-hooks/loadEntryPoint"),preloadQuery_DEPRECATED:b("react-relay/relay-hooks/preloadQuery_DEPRECATED"),prepareEntryPoint_DEPRECATED:b("react-relay/relay-hooks/prepareEntryPoint_DEPRECATED"),readInlineData:g,useActorID:a,useClientQuery:b("react-relay/relay-hooks/useClientQuery"),useFragment:b("react-relay/relay-hooks/useFragment"),useLazyLoadQuery:b("react-relay/relay-hooks/useLazyLoadQuery"),useEntryPointLoader:b("react-relay/relay-hooks/useEntryPointLoader"),useQueryLoader:b("react-relay/relay-hooks/useQueryLoader"),usePaginationFragment:b("react-relay/relay-hooks/usePaginationFragment"),useMutation:b("useFBMutation"),usePreloadedQuery:b("react-relay/relay-hooks/usePreloadedQuery"),useRefetchableFragment:b("react-relay/relay-hooks/useRefetchableFragment"),useRelayEnvironment:b("react-relay/relay-hooks/useRelayEnvironment"),useSubscribeToInvalidationState:b("react-relay/relay-hooks/useSubscribeToInvalidationState"),useSubscription:b("useFBSubscription")}}),null);
__d("LSMessageReplySourceTypeV2",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16});f["default"]=a}),66);
__d("LSMessagingThreadAttributionType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,UNKNOWN_TEST:1,UNKNOWN_FAILURE_RETRY:2,MESSENGER_INBOX:65536,MESSENGER_INBOX_IN_THREAD:65537,MESSENGER_INBOX_THREAD_LIST:65538,MESSENGER_INBOX_NESTED_FOLDER:65539,MESSENGER_INBOX_RECENT_THREADS:65540,MESSENGER_INBOX_REMAINING_THREADS:65541,MESSENGER_INBOX_MESSAGE_SEARCH:65542,MESSENGER_INBOX_IMAGE_SENDING:65543,MESSENGER_INBOX_FORWARD:65544,MESSENGER_INBOX_ARCHIVED_THREADS:65545,MESSENGER_INBOX_PENDING_REQUESTS:65546,MESSENGER_INBOX_ACTIVE_CONTACTS:65547,MESSENGER_INBOX_THREAD_BANNER_BOTTOM_SHEET:65548,MESSENGER_UNIVERSAL_SEARCH:131072,MESSENGER_UNIVERSAL_SEARCH_NULL_STATE:131073,MESSENGER_UNIVERSAL_SEARCH_KEY_PRESSED:131074,MESSENGER_UNIVERSAL_SEARCH_MESSAGE_SEARCH:131075,MESSENGER_UNIVERSAL_SEARCH_ADVANCED_CONTENT_SEARCH:131076,MONTAGE_AND_ACTIVE_NOW:196608,MONTAGE_AND_ACTIVE_NOW_MONTAGE_INBOX_UNIT:196609,MONTAGE_AND_ACTIVE_NOW_ACTIVE_NOW:196610,MONTAGE_AND_ACTIVE_NOW_INBOX_COMPOSER:196611,MONTAGE_AND_ACTIVE_NOW_ACTIVE_AND_HAS_STORY:196612,MONTAGE_AND_ACTIVE_NOW_CUSTOM_STATUS:196613,MONTAGE_AND_ACTIVE_NOW_NOTES:196614,MESSENGER_ACTIVE_NOW_FRIENDS_TAB:262144,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_FRIENDS_TAB:262145,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_PLACE_HOLDER:262146,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE:262147,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE_AND_STORY:262148,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_CONTENT_DISCOVERY:262149,MESSENGER_PENDING_REQUESTS:327680,MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST:327681,MESSENGER_PENDING_REQUESTS_PENDING_REQUESTS_PAGE:327682,MESSENGER_BROADCAST_FLOW:393216,MESSENGER_BROADCAST_FLOW_FROM_MESSENGER:393217,MESSENGER_BROADCAST_FLOW_FROM_FB:393218,MESSENGER_BROADCAST_FLOW_FROM_EXTERNAL:393219,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_SHARESHEET:393220,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_GOODWILL_COMPOSER:393221,MESSENGER_BROADCAST_FLOW_FROM_FB__SHORTS_VIEWER:393222,MESSENGER_BROADCAST_FLOW_FORWARD_GUTTER:393223,MESSENGER_BROADCAST_FLOW_FORWARD_LONGCLICK:393224,MESSENGER_BROADCAST_FLOW_MESSENGER_PHOTO_VIEW:393225,MESSENGER_OMNIPICKER:458752,MESSENGER_OMNIPICKER_NULL_STATE:458753,MESSENGER_OMNIPICKER_KEY_PRESSED:458754,MESSENGER_NOTIFICATION:524288,MESSENGER_NOTIFICATION_IN_THREAD_REPLY:524289,MESSENGER_NOTIFICATION_LONGPRESS_REPLY:524290,MESSENGER_NOTIFICATION_LONGPRESS_REACTION:524291,CLICK_TO_MESSENGER_AD:589824,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED:589825,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA:589826,CLICK_TO_MESSENGER_AD_VIEW_AND_MESSAGE:589827,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA__NEWSFEED_CTM_ADS_CTA:589828,PAYMENTS:655360,PAYMENTS_BUBBLE_CLICK:655361,RTC:720896,RTC_VOIP_INCALL:720897,RTC_DRAWER_PROMOTION:720898,FB_PAGE:786432,FB_PAGE_ABOUT_CARD:786433,FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON:786434,FB_PAGE_PROFILE_FOOTER_MESSAGE_BUTTON:786435,FB_PAGE_PROFILE_MORE_DRAWER:786436,FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:786437,FB_PAGE_PYMM_RHC:786439,FB_PROFILE:851968,FB_PROFILE_TIMELINE_MESSAGE_BUTTON:851969,FB_PROFILE_FACEBOOK_PROFILE:851970,FB_PROFILE_MESSAGE_BUTTON:851971,FB_PROFILE_MESSAGE_BUTTON_BLOKS_URL:851972,FB_PROFILE_PROFILE_HEADER_COMPOSER:851973,FB_SEARCH:917504,FB_SEARCH_CONTEXTUAL_PROFILE_ACTION_BAR_FROM_SEARCH:917505,FB_SEARCH_SEARCH_MESSAGE_BUTTON:917506,FB_SEARCH_FB_MESSAGE_SEARCH_RESULTS:917507,FB_SEARCH_HIGH_CONFIDENCE_CARD:917508,FB_SEARCH_MENTIONS:917509,FB_SEARCH_NULLSTATE_CTA:917510,CRYPTO:983040,MESSENGER_MONTAGE_COMPOSER:1048576,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB:1048577,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB_STORY_AND_ACTIVE_NOW:1048578,MESSENGER_MONTAGE_REPLY:1114112,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE:1114113,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT:1114114,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR:1114115,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE_AUTHOR_PROFILE:1114116,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT_AUTHOR_PROFILE:1114117,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR_AUTHOR_PROFILE:1114118,MESSENGER_MONTAGE_REPLY_ONE_TO_ONE_CHAT_THREAD_STORY_BUBBLE:1114119,MESSENGER_THREAD_MEMBERS_LIST:1179648,MARKETPLACE:1245184,MARKETPLACE_ACTIVITY_BANNER:1245185,MARKETPLACE_SEND_MESSAGE:1245186,FB_STORY:1310720,FB_STORY_VIEWER_SHEET_MENU:1310721,FB_STORY_VIEWER_SHEET_ROW:1310722,FB_STORY_STORIES_JEWEL_NOTIFICATION:1310723,FB_STORY_STORIES_PUSH_NOTIFICATION:1310724,FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:1310725,FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:1310726,FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:1310727,FB_STORY_SOCIAL_CONTEXT_CONVERSATIONS:1310728,FB_STORY_MENTIONS:1310729,FB_STORY_SELF_STORY_SEND:1310730,FB_STORY_SHARESHEET:1310731,WORKSPEED:1376256,WORKSPEED_COMPOSER_LIKE_BUTTON:1376257,WORKSPEED_COMPOSER_GIF_PICKER:1376258,MDOTME:1441792,MDOTME_ORGANIC_POST:1441793,MDOTME_MARKETING_EMAIL:1441794,MDOTME_MBS_OFFSITE_EMAIL:1441795,CUSTOMER_CHAT_PLUGIN:1507328,CUSTOMER_CHAT_PLUGIN_MOBILE_REDIRECT:1507329,CUSTOMER_CHAT_PLUGIN_UPGRADE_FLOW:1507330,CUSTOMER_CHAT_PLUGIN_RE_ENGAGEMENT:1507331,FB_FEED:1572864,FB_FEED_ORGANIC_POST:1572865,FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE:1572866,FB_FEED_QUESTION_TRIGGERED_CONVO:1572867,FB_FEED_DYNAMIC_HOVER_CARD:1572868,FB_FEED_ORGANIC_POST__NEWSFEED_PAGE_POST_CTA:1572869,FB_FEED_ORGANIC_POST__NEWSFEED_BUMPER_SMCTA:1572870,FB_FEED_BCF_OPEN_CHAT_BUTTON:1572871,FB_FEED_REACTORS_LIST_MESSAGE_BUTTON:1572872,FB_FEED_REPLY_TO_AUTHOR:1572873,FB_FEED_UFI_SEND_SUGGESTIONS:1572874,FB_FEED_BCF:1572875,FB_FEED_COMMUNITY_CHATS_FEED_POST:1572876,FB_NOTIFICATION:1638400,FB_NOTIFICATION_JEWEL_NOTIF:1638401,FB_NOTIFICATION_PUSH_NOTIF:1638402,FB_EVENT:1703936,FB_EVENT_MESSAGE_HOST:1703937,FB_EVENT_SHARE_CLASS_MATERIALS:1703938,SUPPORT_RESOURCES:1769472,SUPPORT_RESOURCES_FRX_ACTION:1769473,LEAD_GEN_MESSAGING:1835008,LEAD_GEN_MESSAGING_PRE_SUBMISSION:1835009,LEAD_GEN_MESSAGING_POST_SUBMISSION:1835010,LEAD_GEN_MESSAGING_CROSS_CHANNEL_VERTICAL_PRESENT_ANDROID:1835011,LEAD_GEN_MESSAGING_CROSS_CHANNEL_HSCROLL_ANDROID:1835012,MESSENGER_GRAPH:1900544,MESSENGER_GRAPH_SELECT_CONTACT:1900545,MESSENGER_CHAT:1966080,MESSENGER_CHAT_FROM_JEWEL__THREAD_LIST:1966081,MESSENGER_CHAT_IN_THREAD:1966082,MESSENGER_CHAT_FORWARD:1966083,MESSENGER_ARCHIVED_THREADS:2031616,MESSENGER_ARCHIVED_THREADS_ARCHIVED_THREADS_FOLDER:2031617,JEWEL:2097152,JEWEL_THREAD_LIST:2097153,JEWEL_SEARCH:2097154,JEWEL_NEW_MESSAGE:2097155,JEWEL_NESTED_FOLDER:2097156,CHATHEADS:2162688,CHATHEADS_RECENT_THREADS:2162689,CHATHEADS_OVERFLOW:2162690,CHATHEADS_NEW_MESSAGE:2162691,SIDEBAR:2228224,SIDEBAR_CONTACTS_LIST:2228225,SIDEBAR_CONTACTS_SEARCH:2228226,SIDEBAR_CONTACTS_GROUPS:2228227,SIDEBAR_CONTACTS_COMMUNITY_CHATS:2228228,MESSENGER_COMMUNITY_MESSAGING:2293760,MESSENGER_COMMUNITY_MESSAGING_COMMUNITY_CHANNEL:2293761,MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT:2293762,FB_PLATFORM_LOGIN:2359296,FB_PLATFORM_LOGIN_LOGIN_CONNECT_WITH_MESSENGER:2359297,CONTACT_MANAGER:2424832,CONTACT_MANAGER_CONTACT_SHARE:2424833,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_LIST:2424834,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_SEARCH:2424835,CONTACT_MANAGER_ICON_CONTACT_LIST:2424836,CONTACT_MANAGER_ICON_CONTACT_SEARCH:2424837,MESSAGING_INBOX_IN_BLUE:2490368,MESSAGING_INBOX_IN_BLUE_THREAD_LIST:2490369,MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:2490370,MESSAGING_INBOX_IN_BLUE_INBOX_ICON:2490371,MESSAGING_INBOX_IN_BLUE_SWIPE_FROM_RIGHT:2490372,MESSAGING_INBOX_IN_BLUE_MIB_NOTIFICATION:2490373,MESSAGING_INBOX_IN_BLUE_ACTIVE_NOW:2490374,MESSAGING_INBOX_IN_BLUE_SUGGESTED_CHATS:2490375,MESSAGING_INBOX_IN_BLUE_CHAT_PREVIEW_BANNER:2490376,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_CORE_NULL_STATE:2490377,MESSAGING_INBOX_IN_BLUE_MESSAGE_REQUESTS:2490378,MESSAGING_INBOX_IN_BLUE_SPAM:2490379,MESSAGING_INBOX_IN_BLUE_FB_GROUPS:2490380,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_BUTTON:2490381,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_TOOLTIP:2490382,MESSAGING_INBOX_IN_BLUE_BROADCAST_FLOW:2490383,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_HEADER:2490384,MESSAGING_INBOX_IN_BLUE_PRIVACY_SETTINGS:2490385,MESSAGING_INBOX_IN_BLUE_ARCHIVED_CHATS:2490386,MESSAGING_INBOX_IN_BLUE_UNIVERSAL_SEARCH:2490387,MIB_NOTIFICATION:2555904,MIB_NOTIFICATION_PUSH_NOTIFICATION:2555905,MIB_NOTIFICATION_JEWEL_NOTIFICATION:2555906,MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:2555907,MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:2555908,MESSENGER_RESTRICTED_ACCOUNTS:2621440,ARMADILLO_CUTOVER_THREAD_LINKING_MESSAGE:2686976,CALLS_TAB:2752512,MINI_SHOP_VIEW_MENU_BUTTON:2818048,SHARESHEET:2883584,SHARESHEET_GENERALIZED_BROADCAST_FLOW:2883585,SHARESHEET_OFF_PLATFORM_SHARING_H_SCROLL:2883586,UFI:2949120,UFI_GENERALIZED_BROADCAST_FLOW:2949121,CHATHEAD_CLICK_COLLAPSED:3014656,TIMELINE_MESSAGE_BUTTON:3080192,DIRECT_REPLY_INTENT:3145728,FB_GROUPS:3211264,FB_GROUPS_INBOX:3211265,FB_GROUPS_PICKER_EXISTING_CHAT:3211266,FB_GROUPS_PICKER_JOIN_CHAT:3211267,FB_GROUPS_MEMBER_LIST:3211268,DEVICES:3276800,DEVICES_STELLA:3276801,FB_WELLBEING:3342336,FB_WELLBEING_INCALL_UNBLOCKING_NOTIFICATION:3342337,MESSENGER_DEEP_LINKING:3407872,READ_ONLY_CUTOVER_THREAD:3473408,READ_ONLY_CUTOVER_THREAD_ARMADILLO_THREAD:3473409,ARMADILLO_THREAD:3538944,ARMADILLO_THREAD_READ_ONLY_CUTOVER_THREAD:3538945,ARMADILLO_THREAD_EXTERNAL_LINK:3538946,FB_SHORTS:3604480,FB_SHORTS_PROFILE:3604481,FB_SHORTS_REACTORS_LIST_MESSAGE_BUTTON:3604482,SEND_PLUGIN:3670016,SEND_AS_MESSAGE_FROM_NT:3735552,MESSENGER_PUBLIC_CHATS_MESSAGING:3801088,MESSENGER_GROWTH:3866624,MESSENGER_GROWTH_NOTIFICATIONS_ENTRYPOINT:3866625,FRIENDS_HOME:3932160,FRIENDS_HOME_ACTIVE_NOW:3932161,FRIENDS_HOME_MESSAGE_NEW_FRIENDS:3932162,FRIENDS_HOME_POST_ACCEPT_MESSAGING:3932163,FRIENDS_HOME_SENDER_POST_ACCEPT_WAVE:3932164,EXTERNAL_LINK_XMA:3997696,EXTERNAL_LINK_XMA_FROM_COMPOSER:3997697,EXTERNAL_LINK_XMA_FROM_DEEP_LINKING:3997698,EXTERNAL_LINK_XMA_FROM_SHARE_EXTENSION:3997699,FB_NOTIFICATIONS:4063232,QUICK_PROMOTION:4128768,QUICK_PROMOTION_CTA:4128769,QUICK_PROMOTION_INTERSTITIAL:4128770,QUICK_PROMOTION_TOP_BANNER:4128771,FBM_IN_APP_NOTIFS:4194304,CREATOR_SUPPORT:4259840,CREATOR_SUPPORT_MESSENGER_TOAST:4259841,FB_INSTANT_GAME:4325376,COMMUNITY_CHATS_IN_FEED:4390912,COMMUNITY_CHATS_IN_FEED_PERMALINK:4390913,UNIFIED_BUSINESS_INBOX:4456448,ROLLCALL:4521984,HIGHLIGHTS_TAB:4587520,HIGHLIGHTS_TAB_FEED_INLINE:4587521,HIGHLIGHTS_TAB_MEDIA_VIEWER:4587522,HIGHLIGHTS_TAB_THREAD_VIEW:4587523,HIGHLIGHTS_TAB_FEED_INLINE_CONNECTED_CHAT:4587524,HIGHLIGHTS_TAB_FEED_INLINE_LOCAL_EVENT:4587525,HIGHLIGHTS_TAB_FEED_INLINE_FRIENDS_UPDATE:4587526,HIGHLIGHTS_TAB_FEED_INLINE_BIRTHDAY:4587527,HIGHLIGHTS_TAB_MEDIA_VIEWER_CONNECTED_CHAT:4587528,HIGHLIGHTS_TAB_MEDIA_VIEWER_FRIENDS_UPDATE:4587529,HIGHLIGHTS_TAB_THREAD_VIEW_CONNECTED_CHAT:4587530,HIGHLIGHTS_TAB_THREAD_VIEW_LOCAL_EVENT:4587531,HIGHLIGHTS_TAB_THREAD_VIEW_FRIENDS_UPDATE:4587532,HIGHLIGHTS_TAB_THREAD_VIEW_BIRTHDAY:4587533,MARKETPLACE_INBOX:4653056,ONE_TAP_MESSAGE_QUICK_SHARE:4718592,HIGHLIGHTS_TAB_STORIES_TRAY:4784128,FB_BIRTHDAY_CENTER:4849664,MESSENGER_SIRIKIT:4915200,MESSENGER_SIRIKIT_CALLKIT_QUICK_REPLY:4915201,MESSENGER_SIRIKIT_VOICE_COMMAND:4915202,CLICK_TO_SUBSCRIBE_AD:4980736,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER:5046272,FB_UNIVERSAL_SEARCH:5111808,FB_UNIVERSAL_SEARCH_NULL_STATE_SUGGESTED:5111809,FB_UNIVERSAL_SEARCH_NULL_STATE_RECENT:5111810,FB_UNIVERSAL_SEARCH_QUERY_RESULTS:5111811,FBLITE_MESSAGING:5177344,FBLITE_MESSAGING_FROM_EXTERNAL:5177345,FBLITE_MESSAGING_FORWARD_FROM_BROADCAST_FLOW:5177346,FBLITE_MESSAGING_IN_THREAD:5177349,FBLITE_MESSAGING_ACTIVE_NOW:5177352,FBLITE_MESSAGING_ARCHIVED_CHATS:5177353,FBLITE_MESSAGING_SPAM:5177354,FBLITE_MESSAGING_MESSAGE_REQUESTS:5177355,FBLITE_MESSAGING_MARKETPLACE:5177356,FBLITE_MESSAGING_THREAD_MEMBERS_LIST:5177357,FBLITE_MESSAGING_NOTIFICATION:5242880,FBLITE_MESSAGING_NOTIFICATION_IN_THREAD_REPLY:5242881,FBLITE_MESSAGING_NOTIFICATION_DIRECT_REPLY:5242882,FBLITE_INBOX:5308416,FBLITE_INBOX_UNIVERSAL_SEARCH:5308417,FBLITE_INBOX_PEOPLE_PICKER:5308418,FBLITE_INBOX_RECENT_THREADS:5308419,FBLITE_INBOX_REMAINING_THREADS:5308420,SHARED_ALBUM:5373952,QUICK_REPLIES:5439488,QUICK_REPLIES_TRAY:5439489});f["default"]=a}),66);
__d("MWXPressable.react",["cr:133","cr:323","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){switch(a){case"normal":return 8;case"compact":return 4;case"50%":return"50%";case"inherit":default:return void 0}}function a(a,c){var d=a.overlayRadius;a=babelHelpers.objectWithoutPropertiesLoose(a,["overlayRadius"]);if(b("cr:133"))return i.jsx(b("cr:133"),babelHelpers["extends"]({overlayRadius:j(d)},a,{ref:c}));return b("cr:323")?i.jsx(b("cr:323"),babelHelpers["extends"]({overlayRadius:d},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";c=i.forwardRef(a);g["default"]=c}),98);/*FB_PKG_DELIM*/
__d("createArrayFromMixed",["invariant"],(function(a,b,c,d,e,f,g,h){function i(a){var b=a.length;!Array.isArray(a)&&(typeof a==="object"||typeof a==="function")||h(0,3914);typeof b==="number"||h(0,3915);b===0||b-1 in a||h(0,3916);typeof a.callee!=="function"||h(0,3917);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(a){}var c=Array(b);for(var d=0;d<b;d++)c[d]=a[d];return c}function j(a){return!!a&&(typeof a==="object"||typeof a==="function")&&"length"in a&&!("setInterval"in a)&&typeof a.nodeType!=="number"&&(Array.isArray(a)||"callee"in a||"item"in a)}function a(a){if(!j(a))return[a];else if(Array.isArray(a))return a.slice();else return i(a)}g["default"]=a}),98);
__d("createObjectFrom",[],(function(a,b,c,d,e,f){function g(a,b){if(b===void 0)return g(a,!0);var c={};if(Array.isArray(b))for(var d=a.length-1;d>=0;d--)c[a[d]]=b[d];else for(d=a.length-1;d>=0;d--)c[a[d]]=b;return c}f["default"]=g}),66);
__d("isElementNode",["isNode"],(function(a,b,c,d,e,f){function a(a){return b("isNode")(a)&&a.nodeType==1}e.exports=a}),null);
__d("DOMQuery",["CSS","FBLogger","containsNode","createArrayFromMixed","createObjectFrom","ge","ifRequired","isElementNode","isNode"],(function(a,b,c,d,e,f,g){var h=/^\.-?[_a-zA-Z]+[\w-]*$/;function i(a,b){return a.hasAttribute?a.hasAttribute(b):a.getAttribute(b)!==null}function a(a,b){a=j(a,b);return a[0]}function b(a,b,c){b=j(a,b);a=j(a,c);b.length===1&&a.length===1&&b[0]===a[0]?c=b:c=b.concat(a);return c[0]}function j(a,b){if(!a||!a.getElementsByTagName)return[];b=b.split(" ");var e=[a];for(var f=0;f<b.length;f++){if(e.length===0)break;if(b[f]==="")continue;var g=b[f],j=b[f],k=[],l=!1;if(g.charAt(0)=="^")if(f===0)l=!0,g=g.slice(1);else return[];g=g.replace(/\[(?:[^=\]]*=(?:\"[^\"]*\"|\'[^\']*\'))?|[.#]/g," $&");g=g.split(" ");var m=g[0]||"*",n=m=="*",o=g[1]&&g[1].charAt(0)=="#";if(o){o=c("ge")(g[1].slice(1),a,m);if(o&&(n||o.tagName.toLowerCase()==m))for(var p=0;p<e.length;p++)if(l&&c("containsNode")(o,e[p])){k=[o];break}else if(document==e[p]||c("containsNode")(e[p],o)&&e[p]!==o){k=[o];break}}else{o=[];p=e.length;var q,r=!l&&j.indexOf("[")<0&&document.querySelectorAll;for(var s=0;s<p;s++){if(l){q=[];var t=e[s].parentNode;while(c("isElementNode")(t))(n||t.tagName.toLowerCase()==m)&&q.push(t),t=t.parentNode}else r?h.test(j)?q=e[s].getElementsByClassName(j.substring(1)):q=e[s].querySelectorAll(j):q=e[s].getElementsByTagName(m);t=q.length;for(var u=0;u<t;u++)o.push(q[u])}if(!r)for(q=1;q<g.length;q++){t=g[q];u=t.charAt(0)==".";n=t.substring(1);for(s=0;s<o.length;s++){p=o[s];if(!p||p.nodeType!==1)continue;if(u){d("CSS").hasClass(p,n)||delete o[s];continue}else{j=t.slice(1,t.length-1);m=j.indexOf("=");if(m<0){if(!i(p,j)){delete o[s];continue}}else{r=j.substr(0,m);j=j.substr(m+1);j=j.slice(1,j.length-1);if(p.getAttribute(r)!=j){delete o[s];continue}}}}}for(s=0;s<o.length;s++)if(o[s]){k.push(o[s]);if(l)break}}e=k}return e}function e(){var a=window.getSelection;if(a)return a()+"";else{a=document.selection;if(a)return a.createRange().text}return null}function f(a,b){(typeof a==="string"||typeof b==="string")&&c("FBLogger")("dom_query").info("Support for node IDs is deprecated. Use containsNode(ge(<id1>), ge(<id2>)) instead");return c("containsNode")(c("ge")(a),c("ge")(b))}function k(){var a=c("ifRequired")("Quickling",function(a){return a.isActive()?c("ge")("content"):null});return a||document.body}function l(a,b){b=c("createArrayFromMixed")(b).join("|").toUpperCase().split("|");b=c("createObjectFrom")(b);return c("isNode")(a)&&a.nodeName in b}function m(a){return l(a,["input","textarea"])||a.contentEditable==="true"}g.find=a;g.findPushSafe=b;g.scry=j;g.getSelection=e;g.contains=f;g.getRootElement=k;g.isNodeOfType=l;g.isInputNode=m}),98);
__d("DOMEvent",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.event=a||window.event,typeof this.event.srcElement!=="unknown"||h(0,5798),this.target=this.event.target||this.event.srcElement}var b=a.prototype;b.preventDefault=function(){var a=this.event;a.preventDefault?(a.preventDefault(),"defaultPrevented"in a||(a.defaultPrevented=!0)):a.returnValue=!1;return this};b.isDefaultPrevented=function(){var a=this.event;return"defaultPrevented"in a?a.defaultPrevented:a.returnValue===!1};b.stopPropagation=function(){var a=this.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this};b.kill=function(){this.stopPropagation().preventDefault();return this};a.killThenCall=function(b){return function(c){new a(c).kill();return b()}};return a}();g["default"]=a}),98);
__d("dedupString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return Object.keys((b={},b[a]=0,b))[0]}f["default"]=a}),66);
__d("wrapFunction",[],(function(a,b,c,d,e,f){var g={};function a(a,b,c){var d=b in g?g[b](a,c):a;return function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.apply(this,b)}}a.setWrapper=function(a,b){g[b]=a};f["default"]=a}),66);
__d("DOMEventListener",["invariant","dedupString","emptyFunction","passiveEventListenerUtil","wrapFunction"],(function(a,b,c,d,e,f,g){var h=b("passiveEventListenerUtil").isPassiveEventListenerSupported,i,j;window.addEventListener?(i=function(a,c,d,e){e===void 0&&(e=!1),d.wrapper=b("wrapFunction")(d,"entry",b("dedupString")("DOMEventListener.add "+c)),a.addEventListener(c,d.wrapper,h?e:!1)},j=function(a,b,c,d){d===void 0&&(d=!1),a.removeEventListener(b,c.wrapper,h?d:!1)}):window.attachEvent?(i=function(a,c,d,e){e===void 0,d.wrapper=b("wrapFunction")(d,"entry","DOMEventListener.add "+c),a.attachEvent||g(0,2798),a.attachEvent("on"+c,d.wrapper)},j=function(a,b,c,d){d===void 0,a.detachEvent||g(0,2799),a.detachEvent("on"+b,c.wrapper)}):j=i=b("emptyFunction");a={add:function(a,b,c,d){d===void 0&&(d=!1);i(a,b,c,d);return{remove:function(){j(a,b,c,d)}}},remove:j};e.exports=a}),null);
__d("EventProfiler",["cr:708886"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:708886")}),98);
__d("Scroll",[],(function(a,b,c,d,e,f){function g(a,b){return!!b&&(a===b.documentElement||a===b.body)}function a(a){var b;if(a==null)return 0;var c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollTop)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollTop)||0:a.scrollTop||0}function b(a,b){if(a==null)return;var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollTop=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollTop=b||0)):a.scrollTop=b||0}function c(a){var b,c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollLeft)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollLeft)||0:a.scrollLeft||0}function d(a,b){var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollLeft=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollLeft=b||0)):a.scrollLeft=b||0}f.getTop=a;f.setTop=b;f.getLeft=c;f.setLeft=d}),66);
__d("FlowMigrationUtilsForLegacyFiles",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="flow_typing_for_legacy_code";function a(a){c("FBLogger")(h).blameToPreviousFile().event(h+".bad_call").mustfix(a);return new Error("["+h+"] "+a)}g.invariantViolation=a}),98);
__d("getDocumentScrollElement",["FlowMigrationUtilsForLegacyFiles"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof navigator!=="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function a(a){a=a||document;if(a.scrollingElement)return a.scrollingElement;a=!h&&a.compatMode==="CSS1Compat"?a.documentElement:a.body;a||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("null result in getDocumentScrollElement");return a}g["default"]=a}),98);
__d("getObjectValues",[],(function(a,b,c,d,e,f){function a(a){var b=[];for(var c in a)b.push(a[c]);return b}f["default"]=a}),66);
__d("Event",["$","Arbiter","DOMEvent","DOMEventListener","DOMQuery","DataStore","ErrorGuard","EventProfiler","ExecutionEnvironment","FBLogger","Parent","Scroll","TimeSlice","UserAgent","dedupString","fb-error","getDocumentScrollElement","getObjectValues"],(function(a,b,c,d,e,f){var g,h,i=b("fb-error").TAAL,j="Event.listeners";Event.prototype||(Event.prototype={});function k(a){(a.type==="click"||a.type==="mouseover"||a.type==="keydown")&&b("Arbiter").inform("Event/stop",{event:a})}var l=function(){"use strict";function a(a,b,c){this.cancelBubble=!1,this.target=a,this.type=b,this.data=c}var c=a.prototype;c.getData=function(){this.data=this.data||{};return this.data};c.stop=function(){return Event.stop(this)};c.prevent=function(){return Event.prevent(this)};c.isDefaultPrevented=function(){return Event.isDefaultPrevented(this)};c.kill=function(){return Event.kill(this)};c.getTarget=function(){return new(b("DOMEvent"))(this).target||null};return a}();function m(a){if(a instanceof l)return a;a||(!window.addEventListener&&document.createEventObject?a=window.event?document.createEventObject(window.event):{}:a={});if(!a._inherits_from_prototype)for(var b in Event.prototype)try{a[b]=Event.prototype[b]}catch(a){}return a}Object.assign(Event.prototype,{_inherits_from_prototype:!0,getRelatedTarget:function(){var a=this.relatedTarget||(this.fromElement===this.srcElement?this.toElement:this.fromElement);return a&&a.nodeType?a:null},getModifiers:function(){var a={control:!!this.ctrlKey,shift:!!this.shiftKey,alt:!!this.altKey,meta:!!this.metaKey};a.access=b("UserAgent").isPlatform("Mac OS X")?a.control:a.alt;a.any=a.control||a.shift||a.alt||a.meta;return a},isRightClick:function(){return this.which?this.which===3:this.button&&this.button===2},isMiddleClick:function(){return this.which?this.which===2:this.button&&this.button===4},isDefaultRequested:function(){return this.getModifiers().any||this.isMiddleClick()||this.isRightClick()}},l.prototype);c={listen:function(a,c,d,e,f){typeof d==="function"&&(d=b("TimeSlice").guard(d,b("dedupString")("Event.js "+c+" handler")));!f||typeof f==="boolean"?f={passive:!1}:f={passive:f.passive||!1};if(!(g||(g=b("ExecutionEnvironment"))).canUseDOM)return new u(a,d,null,c,e,null,f);typeof a==="string"&&(a=b("$")(a));typeof e==="undefined"&&(e=Event.Priority.NORMAL);if(typeof c==="object"){var h={};for(var k in c)h[k]=Event.listen(a,k,c[k],e,f);return h}if(c.match(/^on/i))throw new TypeError("Bad event name `"+c+"': use `click', not `onclick'.");if(!a){k=i.blameToPreviousFrame(new Error("Cannot listen to an undefined element."));b("FBLogger")("event").catching(k).mustfix("Tried to listen to element of type %s",c);throw k}if(a.nodeName=="LABEL"&&c=="click"){h=a.getElementsByTagName("input");a=h.length==1?h[0]:a}else if(a===window&&c==="scroll"){k=b("getDocumentScrollElement")();k!==document.documentElement&&k!==document.body&&(a=k)}h=b("DataStore").get(a,j,{});k=o[c];k&&(c=k.base,k.wrap&&(d=k.wrap(d)));q(a,h,c,f);k=h[c];e in k||(k[e]=[]);var l=k[e].length;d=new u(a,d,h,c,e,l,f);k[e][l]=d;k.numHandlers++;f.passive||(k.numNonPassiveHandlers++,p(a,h[c],c));return d},stop:function(a){var c=new(b("DOMEvent"))(a).stopPropagation();k(c.event);return a},prevent:function(a){new(b("DOMEvent"))(a).preventDefault();return a},isDefaultPrevented:function(a){return new(b("DOMEvent"))(a).isDefaultPrevented(a)},kill:function(a){a=new(b("DOMEvent"))(a).kill();k(a.event);return!1},getKeyCode:function(a){a=new(b("DOMEvent"))(a).event;if(!a)return!1;switch(a.keyCode){case 63232:return 38;case 63233:return 40;case 63234:return 37;case 63235:return 39;case 63272:case 63273:case 63275:return null;case 63276:return 33;case 63277:return 34}if(a.shiftKey)switch(a.keyCode){case 33:case 34:case 37:case 38:case 39:case 40:return null}return a.keyCode},getPriorities:function(){if(!n){var a=b("getObjectValues")(Event.Priority);a.sort(function(a,b){return a-b});n=a}return n},fire:function(a,b,c){c=new l(a,b,c);var d;do{var e=Event.__getHandler(a,b);e&&(d=e(c));a=a.parentNode}while(a&&d!==!1&&!c.cancelBubble);return d!==!1},__fire:function(a,b,c){a=Event.__getHandler(a,b);if(a)return a(m(c))},__getHandler:function(a,c){var d=b("DataStore").get(a,j);return d&&d[c]?d[c].domHandler:a["on"+c]},getPosition:function(a){a=new(b("DOMEvent"))(a).event;var c=b("getDocumentScrollElement")(),d=a.clientX+b("Scroll").getLeft(c);a=a.clientY+b("Scroll").getTop(c);return{x:d,y:a}}};Object.assign(Event,c);var n=null;d=function(a){return function(c){if(!b("DOMQuery").contains(this,c.getRelatedTarget()))return a.call(this,c)}};var o;!window.navigator.msPointerEnabled?o={mouseenter:{base:"mouseover",wrap:d},mouseleave:{base:"mouseout",wrap:d}}:o={mousedown:{base:"MSPointerDown"},mousemove:{base:"MSPointerMove"},mouseup:{base:"MSPointerUp"},mouseover:{base:"MSPointerOver"},mouseout:{base:"MSPointerOut"},mouseenter:{base:"MSPointerOver",wrap:d},mouseleave:{base:"MSPointerOut",wrap:d}};if(b("UserAgent").isBrowser("Firefox < 52")){f=function(a,b){b=m(b);var c=b.getTarget();while(c)Event.__fire(c,a,b),c=c.parentNode};document.documentElement.addEventListener("focus",f.bind(null,"focusin"),!0);document.documentElement.addEventListener("blur",f.bind(null,"focusout"),!0)}var p=function(a,c,d){var e=c.numNonPassiveHandlers==0;e!=c.options.passive&&(c.domHandlerRemover.remove(),c.options.passive=e,c.domHandlerRemover=b("DOMEventListener").add(a,d,c.domHandler,{passive:e}))},q=function(a,c,d,e){if(d in c)return;var f=b("TimeSlice").guard(t.bind(a,d),b("dedupString")("Event listenHandler "+d));c[d]={numHandlers:0,numNonPassiveHandlers:0,domHandlerRemover:b("DOMEventListener").add(a,d,f,e),domHandler:f,options:e};c="on"+d;if(a[c]){f=a===document.documentElement?Event.Priority._BUBBLE:Event.Priority.TRADITIONAL;var g=a[c];a[c]=null;Event.listen(a,d,g,f,e)}};function r(a){return!a.href.endsWith("#")?!1:a.href===document.location.href||a.href===document.location.href+"#"}function s(a,b){return a.nodeName==="INPUT"&&a.type===b}var t=b("EventProfiler").__wrapEventListenHandler(function(a,c){c=m(c);if(!b("DataStore").get(this,j))throw new Error("Bad listenHandler context.");var d=b("DataStore").get(this,j)[a];if(!d)throw new Error("No registered handlers for `"+a+"'.");if(a=="click"||a=="contextmenu"||a=="mousedown"&&c.which==2){a=c.getTarget();var e=b("Parent").byTag(a,"a");e instanceof HTMLAnchorElement&&e.href&&r(e)&&!s(a,"file")&&!s(a,"submit")&&c.prevent()}e=Event.getPriorities();for(a=0;a<e.length;a++){var f=e[a];if(f in d){f=d[f];for(var g=0;g<f.length;g++){if(!f[g])continue;var h=f[g].fire(this,c);if(h===!1)return c.kill();else c.cancelBubble&&c.stop()}}}return c.returnValue});Event.Priority={URGENT:-20,TRADITIONAL:-10,NORMAL:0,_BUBBLE:1e3};var u=function(){"use strict";function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$7=d,this.$6=e,this.$4=f,this.$5=g}var c=a.prototype;c.isRemoved=function(){return!this.$3};c.remove=function(){if((g||(g=b("ExecutionEnvironment"))).canUseDOM){if(this.isRemoved()){b("FBLogger")("Event").warn("Event handler has already been removed");return}var a=this.$3[this.$7];a.numHandlers<=1?(a.domHandlerRemover.remove(),delete this.$3[this.$7]):(delete a[this.$6][this.$4],a.numHandlers--,this.$5.passive||(a.numNonPassiveHandlers--,p(this.$1,this.$3[this.$7],this.$7)));this.$3=null}};c.fire=function(a,c){return(g||(g=b("ExecutionEnvironment"))).canUseDOM?(h||(h=b("ErrorGuard"))).applyWithGuard(this.$2,a,[c],{name:"eventhandler:"+c.type+":"+(typeof a.name=="string"?a.name:a.id)}):!0};return a}();a.$E=Event.$E=m;e.exports=Event}),null);
__d("TrustedTypesLinkTagHTMLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){if(a==="<link />")return a;throw c("err")("Violating Trusted Type policies. Only works for '<link />' strings.")}};b=c("TrustedTypes").createPolicy("link-tag-html",a);d=b;g["default"]=d}),98);
__d("getMarkupWrap",["invariant","ExecutionEnvironment","TrustedTypesLinkTagHTMLPolicy"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k={};b=[1,'<select multiple="true">',"</select>"];d=[1,"<table>","</table>"];e=[3,"<table><tbody><tr>","</tr></tbody></table>"];var l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:b,option:b,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:e,th:e};f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(a){m[a]=l,k[a]=!0});function a(a){a=a;!j&&h(0,144);Object.prototype.hasOwnProperty.call(m,a)||(a="*");Object.prototype.hasOwnProperty.call(k,a)||(a==="*"?j.innerHTML=c("TrustedTypesLinkTagHTMLPolicy").createHTML("<link />"):j.innerHTML="<"+a+"></"+a+">",k[a]=!j.firstChild);return k[a]?m[a]:null}g["default"]=a}),98);
__d("createNodesFromMarkup",["invariant","ExecutionEnvironment","TrustedTypesNoOpPolicy_DO_NOT_USE","getMarkupWrap"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;function l(a){a=a.match(k);return a&&a[1].toLowerCase()}function a(a,b){var d=j;!j&&h(0,5001);var e=l(a);e=e&&c("getMarkupWrap")(e);if(e){d.innerHTML=e[1]+a+e[2];e=e[0];while(e--)d=d.lastChild}else d.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(a);e=d.getElementsByTagName("script");e.length&&(b||h(0,5002),Array.from(e).forEach(b));a=Array.from(d.childNodes);while(d.lastChild)d.removeChild(d.lastChild);return a}g["default"]=a}),98);
__d("evalGlobal",[],(function(a,b,c,d,e,f){function a(a){if(typeof a!=="string")throw new TypeError("JS sent to evalGlobal is not a string. Only strings are permitted.");if(!a)return;var b=document.createElement("script");try{b.appendChild(document.createTextNode(a))}catch(c){b.text=a}a=document.getElementsByTagName("head")[0]||document.documentElement;a.appendChild(b);a.removeChild(b)}f["default"]=a}),66);
__d("HTML",["invariant","Bootloader","FBLogger","createNodesFromMarkup","emptyFunction","evalGlobal"],(function(a,b,c,d,e,f,g){var h=/(<(\w+)[^>]*?)\/>/g,i={abbr:!0,area:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0};a=function(){"use strict";function a(c){c&&typeof c.__html==="string"&&(c=c.__html);if(!(this instanceof a))return c instanceof a?c:new a(c);if(c){var d=typeof c;d==="string"||g(0,277,d)}this._markup=c||"";this._defer=!1;this._nodes=null;this._inlineJS=b("emptyFunction");this._rootNode=null;this._hasInlineJs=!1}var c=a.prototype;c.toString=function(){return this._markup};c.getContent=function(){return this._markup};c.getNodes=function(){this._fillCache();return this._nodes};c.getRootNode=function(){this._rootNode&&g(0,278);var a=this.getNodes();if(a.length===1)this._rootNode=a[0];else{var b=document.createDocumentFragment();for(var c=0;c<a.length;c++)b.appendChild(a[c]);this._rootNode=b}return this._rootNode};c.getAction=function(){var a=this;this._fillCache();var b=function(){a._inlineJS()};return this._defer?function(){setTimeout(b,0)}:b};c._fillCache=function(){if(this._nodes!==null)return;if(!this._markup){this._nodes=[];return}var a=this._markup.replace(h,function(a,b,c){return i[c.toLowerCase()]?a:b+"></"+c+">"}),c=null;a=b("createNodesFromMarkup")(a,function(a){b("FBLogger")("staticresources").warn("HTML: encountered script node while parsing, hasSrc=%s, type=%s",Boolean(a.src),a.type==null||a.type===""?"<unknown>":a.type),a.type!=="application/ld+json"&&a.type!=="application/json"&&(c=c||[],c.push(a.src?b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN.bind(b("Bootloader"),a.src):b("evalGlobal").bind(null,a.innerHTML)),a.parentNode.removeChild(a))});c&&(this._hasInlineJs=!0,this._inlineJS=function(){for(var a=0;a<c.length;a++)c[a]()});this._nodes=a};c.setDeferred=function(a){this._defer=!!a;return this};c.hasInlineJs=function(){return this._hasInlineJs};a.isHTML=function(b){return!!b&&(b instanceof a||b.__html!==void 0)};a.replaceJSONWrapper=function(b){return b&&b.__html!==void 0?new a(b.__html):b};return a}();e.exports=a}),null);
__d("TrustedTypesIEFixDOMPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){return a}};b=c("TrustedTypes").createPolicy("dom-ie-fix",a);d=b;g["default"]=d}),98);
__d("UserAgent_DEPRECATED",[],(function(a,b,c,d,e,f){var g=!1,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){if(g)return;g=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);s=/\b(iPhone|iP[ao]d)/.exec(a);t=/\b(iP[ao]d)/.exec(a);q=/Android/i.exec(a);u=/FBAN\/\w+;/i.exec(a);v=/FBAN\/mLite;/i.exec(a);w=/Mobile/i.exec(a);r=!!/Win64/.exec(a);if(b){h=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN;h&&document&&document.documentMode&&(h=document.documentMode);var d=/(?:Trident\/(\d+.\d+))/.exec(a);m=d?parseFloat(d[1])+4:h;i=b[2]?parseFloat(b[2]):NaN;j=b[3]?parseFloat(b[3]):NaN;k=b[4]?parseFloat(b[4]):NaN;k?(b=/(?:Chrome\/(\d+\.\d+))/.exec(a),l=b&&b[1]?parseFloat(b[1]):NaN):l=NaN}else h=i=j=l=k=NaN;if(c){if(c[1]){d=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);n=d?parseFloat(d[1].replace("_",".")):!0}else n=!1;o=!!c[2];p=!!c[3]}else n=o=p=!1}function y(){return x()||h}function a(){return x()||m>h}function b(){return y()&&r}function c(){return x()||i}function d(){return x()||j}function z(){return x()||k}function e(){return z()}function A(){return x()||l}function B(){return x()||o}function C(){return x()||n}function D(){return x()||p}function E(){return x()||s}function F(){return x()||s||t||q||w}function G(){return x()||v!=null?null:u}function H(){return x()||q}function I(){return x()||t}f.ie=y;f.ieCompatibilityMode=a;f.ie64=b;f.firefox=c;f.opera=d;f.webkit=z;f.safari=e;f.chrome=A;f.windows=B;f.osx=C;f.linux=D;f.iphone=E;f.mobile=F;f.nativeApp=G;f.android=H;f.ipad=I}),66);
__d("isScalar",[],(function(a,b,c,d,e,f){function a(a){return/string|number|boolean/.test(typeof a)}f["default"]=a}),66);
__d("DOM",["$","DOMQuery","Event","FBLogger","FbtResultBase","HTML","TrustedTypesIEFixDOMPolicy","UserAgent_DEPRECATED","createArrayFromMixed","fb-error","isNode","isScalar","isTextNode"],(function(a,b,c,d,e,f,g){a=function(a,b,c){a=document.createElement(a);b&&h.setAttributes(a,b);c!=null&&h.setContent(a,c);return a};var h={find:(b=d("DOMQuery")).find,findPushSafe:b.findPushSafe,scry:b.scry,getSelection:b.getSelection,contains:b.contains,getRootElement:b.getRootElement,isNodeOfType:b.isNodeOfType,isInputNode:b.isInputNode,create:a,setAttributes:function(a,b){b.type&&(a.type=b.type);for(var d in b){var e=b[d],f=/^on/i.test(d);f&&typeof e!=="function"&&c("FBLogger")("dom").warn("Handlers passed to DOM.setAttributes must be functions. Handler passed for %s was %s",d,typeof e);if(d=="type")continue;else d=="style"?typeof e==="string"?a.style.cssText=e:Object.assign(a.style,e):f?c("Event").listen(a,d.substr(2),e):d in a?a[d]=e:a.setAttribute&&a.setAttribute(d,e)}},prependContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));return j(b,a,function(b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)})},insertAfter:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){a.nextSibling?d.insertBefore(b,a.nextSibling):d.appendChild(b)})},insertBefore:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){d.insertBefore(b,a)})},setContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));while(a.firstChild)i(a.firstChild);return h.appendContent(a,b)},appendContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));return j(b,a,function(b){a.appendChild(b)})},replace:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){d.replaceChild(b,a)})},remove:function(a){i(typeof a==="string"?c("$")(a):a)},empty:function(a){a=typeof a==="string"?c("$")(a):a;while(a.firstChild)i(a.firstChild)}};function i(a){a.parentNode&&a.parentNode.removeChild(a)}function j(a,b,e){a=c("HTML").replaceJSONWrapper(a);if(a instanceof c("HTML")&&b.firstChild===null&&-1===a.toString().indexOf("<script")){var f=d("UserAgent_DEPRECATED").ie();if(!f||f>7&&!d("DOMQuery").isNodeOfType(b,["table","tbody","thead","tfoot","tr","select","fieldset"])){var g=f?'<em style="display:none;">&nbsp;</em>':"";b.innerHTML=c("TrustedTypesIEFixDOMPolicy").createHTML(g+a);f&&b.removeChild(b.firstChild);return Array.from(b.childNodes)}}else if(c("isTextNode")(b)){b.data=a;return[a]}g=document.createDocumentFragment();var h;f=[];b=[];var i=!1;a=c("createArrayFromMixed")(a);a.length===1&&a[0]instanceof c("FbtResultBase")&&(a=a[0].getContents());for(var j=0;j<a.length;j++){h=c("HTML").replaceJSONWrapper(a[j]);if(h instanceof c("HTML")){b.push(h.getAction());var k=h.getNodes();!i&&h.hasInlineJs()&&(c("FBLogger")("staticresources").warn("DOM: adding HTML which contains inline JS"),i=!0);for(var l=0;l<k.length;l++)f.push(k[l]),g.appendChild(k[l])}else if(c("isScalar")(h)||h instanceof c("FbtResultBase")){l=document.createTextNode(h);f.push(l);g.appendChild(l)}else c("isNode")(h)?(f.push(h),g.appendChild(h)):(Array.isArray(h)&&c("FBLogger")("dom").warn("Nest arrays not supported"),h!==null&&c("FBLogger")("dom").warn("No way to set content %s",h))}e(g);b.forEach(function(a){a()});return f}e=h;g["default"]=e}),98);
__d("goURI",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;g["default"]=(h||c("URI")).go}),98);
__d("EventProfilerSham",[],(function(a,b,c,d,e,f){a={__wrapEventListenHandler:function(a){return a},tagCurrentActiveInteractionsAs:function(a){},setCurrentAdAccountId:function(a){},setAdsConfig:function(a){}};b=a;f["default"]=b}),66);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("base64-js-1.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){g.byteLength=e;g.toByteArray=h;g.fromByteArray=k;var a=[],b=[],c=typeof Uint8Array!=="undefined"?Uint8Array:Array;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0,k=e.length;h<k;++h)a[h]=e[h],b[e.charCodeAt(h)]=h;b["-".charCodeAt(0)]=62;b["_".charCodeAt(0)]=63;function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("=");a===-1&&(a=b);b=a===b?0:4-a%4;return[a,b]}function e(a){a=d(a);var b=a[0];a=a[1];return(b+a)*3/4-a}function f(a,b,c){return(b+c)*3/4-c}function h(a){var e,g=d(a),h=g[0];g=g[1];var i=new c(f(a,h,g)),j=0;h=g>0?h-4:h;for(var k=0;k<h;k+=4)e=b[a.charCodeAt(k)]<<18|b[a.charCodeAt(k+1)]<<12|b[a.charCodeAt(k+2)]<<6|b[a.charCodeAt(k+3)],i[j++]=e>>16&255,i[j++]=e>>8&255,i[j++]=e&255;g===2&&(e=b[a.charCodeAt(k)]<<2|b[a.charCodeAt(k+1)]>>4,i[j++]=e&255);g===1&&(e=b[a.charCodeAt(k)]<<10|b[a.charCodeAt(k+1)]<<4|b[a.charCodeAt(k+2)]>>2,i[j++]=e>>8&255,i[j++]=e&255);return i}function i(b){return a[b>>18&63]+a[b>>12&63]+a[b>>6&63]+a[b&63]}function j(a,b,c){var d,e=[];for(b=b;b<c;b+=3)d=(a[b]<<16&16711680)+(a[b+1]<<8&65280)+(a[b+2]&255),e.push(i(d));return e.join("")}function k(b){var c=b.length,d=c%3,e=[],f=16383;for(var g=0,h=c-d;g<h;g+=f)e.push(j(b,g,g+f>h?h:g+f));d===1?(g=b[c-1],e.push(a[g>>2]+a[g<<4&63]+"==")):d===2&&(g=(b[c-2]<<8)+b[c-1],e.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"="));return e.join("")}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("base64-js",["base64-js-1.3.0"],(function(a,b,c,d,e,f){e.exports=b("base64-js-1.3.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("babel-runtime-7.14.0",["regenerator-runtime-0.13.5"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c,h=a(b("regenerator-runtime-0.13.5"));d={};var i={exports:d};function aa(){function a(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}i.exports=a;i.exports["default"]=i.exports,i.exports.__esModule=!0}var j=!1;function k(){j||(j=!0,aa());return i.exports}f={};var l={exports:f};function ba(){function a(a){var b;typeof Symbol!=="undefined"&&(Symbol.asyncIterator&&(b=a[Symbol.asyncIterator]),b==null&&Symbol.iterator&&(b=a[Symbol.iterator]));b==null&&(b=a["@@asyncIterator"]);b==null&&(b=a["@@iterator"]);if(b==null)throw new TypeError("Object is not async iterable");return b.call(a)}l.exports=a;l.exports["default"]=l.exports,l.exports.__esModule=!0}var m=!1;function ca(){m||(m=!0,ba());return l.exports}a={};var n={exports:a};function da(){function a(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function b(b){return function(){var c=this,d=arguments;return new Promise(function(e,f){var g=b.apply(c,d);function h(b){a(g,e,f,h,i,"next",b)}function i(b){a(g,e,f,h,i,"throw",b)}h(void 0)})}}n.exports=b;n.exports["default"]=n.exports,n.exports.__esModule=!0}var o=!1;function ea(){o||(o=!0,da());return n.exports}b={};var p={exports:b};function fa(){function a(a){this.wrapped=a}p.exports=a;p.exports["default"]=p.exports,p.exports.__esModule=!0}var ga=!1;function ha(){ga||(ga=!0,fa());return p.exports}d={};var q={exports:d};function ia(){var a=ha();function b(b){return new a(b)}q.exports=b;q.exports["default"]=q.exports,q.exports.__esModule=!0}var ja=!1;function ka(){ja||(ja=!0,ia());return q.exports}f={};var r={exports:f};function la(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}r.exports=a;r.exports["default"]=r.exports,r.exports.__esModule=!0}var ma=!1;function na(){ma||(ma=!0,la());return r.exports}a={};var s={exports:a};function oa(){function a(b,c){s.exports=a=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};s.exports["default"]=s.exports,s.exports.__esModule=!0;return a(b,c)}s.exports=a;s.exports["default"]=s.exports,s.exports.__esModule=!0}var pa=!1;function t(){pa||(pa=!0,oa());return s.exports}b={};var u={exports:b};function qa(){function a(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return!0}catch(a){return!1}}u.exports=a;u.exports["default"]=u.exports,u.exports.__esModule=!0}var ra=!1;function sa(){ra||(ra=!0,qa());return u.exports}d={};var v={exports:d};function ta(){var a=t(),b=sa();function c(d,e,f){b()?(v.exports=c=Reflect.construct,(v.exports["default"]=v.exports,v.exports.__esModule=!0)):(v.exports=c=function(b,c,d){var e=[null];e.push.apply(e,c);c=Function.bind.apply(b,e);b=new c();d&&a(b,d.prototype);return b},(v.exports["default"]=v.exports,v.exports.__esModule=!0));return c.apply(null,arguments)}v.exports=c;v.exports["default"]=v.exports,v.exports.__esModule=!0}var ua=!1;function va(){ua||(ua=!0,ta());return v.exports}f={};var w={exports:f};function wa(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function b(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}w.exports=b;w.exports["default"]=w.exports,w.exports.__esModule=!0}var xa=!1;function ya(){xa||(xa=!0,wa());return w.exports}a={};var x={exports:a};function za(){function a(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}x.exports=a;x.exports["default"]=x.exports,x.exports.__esModule=!0}var Aa=!1;function Ba(){Aa||(Aa=!0,za());return x.exports}b={};var y={exports:b};function Ca(){function a(){y.exports=a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};y.exports["default"]=y.exports,y.exports.__esModule=!0;return a.apply(this,arguments)}y.exports=a;y.exports["default"]=y.exports,y.exports.__esModule=!0}var Da=!1;function Ea(){Da||(Da=!0,Ca());return y.exports}d={};var z={exports:d};function Fa(){function a(b){z.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};z.exports["default"]=z.exports,z.exports.__esModule=!0;return a(b)}z.exports=a;z.exports["default"]=z.exports,z.exports.__esModule=!0}var Ga=!1;function A(){Ga||(Ga=!0,Fa());return z.exports}f={};var B={exports:f};function Ha(){var a=A();function b(b,c){while(!Object.prototype.hasOwnProperty.call(b,c)){b=a(b);if(b===null)break}return b}B.exports=b;B.exports["default"]=B.exports,B.exports.__esModule=!0}var Ia=!1;function Ja(){Ia||(Ia=!0,Ha());return B.exports}a={};var C={exports:a};function Ka(){var a=Ja();function b(c,d,e){typeof Reflect!=="undefined"&&Reflect.get?(C.exports=b=Reflect.get,(C.exports["default"]=C.exports,C.exports.__esModule=!0)):(C.exports=b=function(b,c,d){b=a(b,c);if(!b)return;b=Object.getOwnPropertyDescriptor(b,c);return b.get?b.get.call(d):b.value},(C.exports["default"]=C.exports,C.exports.__esModule=!0));return b(c,d,e||c)}C.exports=b;C.exports["default"]=C.exports,C.exports.__esModule=!0}var La=!1;function Ma(){La||(La=!0,Ka());return C.exports}b={};var D={exports:b};function Na(){var a=t();function b(b,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,writable:!0,configurable:!0}});c&&a(b,c)}D.exports=b;D.exports["default"]=D.exports,D.exports.__esModule=!0}var Oa=!1;function Pa(){Oa||(Oa=!0,Na());return D.exports}d={};var E={exports:d};function Qa(){var a=t();function b(b,c){b.prototype=Object.create(c.prototype),b.prototype.constructor=b,a(b,c)}E.exports=b;E.exports["default"]=E.exports,E.exports.__esModule=!0}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return E.exports}f={};var F={exports:f};function Ta(){function a(a){return a&&a.__esModule?a:{"default":a}}F.exports=a;F.exports["default"]=F.exports,F.exports.__esModule=!0}var Ua=!1;function Va(){Ua||(Ua=!0,Ta());return F.exports}a={};var G={exports:a};function Wa(){var a=g("/helpers/typeof")["default"];function b(a){if(typeof WeakMap!=="function")return null;var c=new WeakMap(),d=new WeakMap();return(b=function(a){return a?d:c})(a)}function c(c,d){if(!d&&c&&c.__esModule)return c;if(c===null||a(c)!=="object"&&typeof c!=="function")return{"default":c};d=b(d);if(d&&d.has(c))return d.get(c);var e={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in c)if(g!=="default"&&Object.prototype.hasOwnProperty.call(c,g)){var h=f?Object.getOwnPropertyDescriptor(c,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=c[g]}e["default"]=c;d&&d.set(c,e);return e}G.exports=c;G.exports["default"]=G.exports,G.exports.__esModule=!0}var Xa=!1;function Ya(){Xa||(Xa=!0,Wa());return G.exports}b={};var H={exports:b};function Za(){var a=Ba();function b(b){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?Object(arguments[c]):{},e=Object.keys(d);typeof Object.getOwnPropertySymbols==="function"&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})));e.forEach(function(c){a(b,c,d[c])})}return b}H.exports=b;H.exports["default"]=H.exports,H.exports.__esModule=!0}var $a=!1;function ab(){$a||($a=!0,Za());return H.exports}d={};var I={exports:d};function bb(){function a(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}I.exports=a;I.exports["default"]=I.exports,I.exports.__esModule=!0}var cb=!1;function db(){cb||(cb=!0,bb());return I.exports}f={};var J={exports:f};function eb(){var a=db();function b(b,c){if(b==null)return{};var d=a(b,c),e,f;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(b);for(f=0;f<g.length;f++){e=g[f];if(c.indexOf(e)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(b,e))continue;d[e]=b[e]}}return d}J.exports=b;J.exports["default"]=J.exports,J.exports.__esModule=!0}var fb=!1;function gb(){fb||(fb=!0,eb());return J.exports}a={};var K={exports:a};function hb(){var a=g("/helpers/typeof")["default"],b=k();function c(c,d){return d&&(a(d)==="object"||typeof d==="function")?d:b(c)}K.exports=c;K.exports["default"]=K.exports,K.exports.__esModule=!0}var ib=!1;function jb(){ib||(ib=!0,hb());return K.exports}b={};var L={exports:b};function kb(){function a(a){throw new TypeError('"'+a+'" is read-only')}L.exports=a;L.exports["default"]=L.exports,L.exports.__esModule=!0}var lb=!1;function mb(){lb||(lb=!0,kb());return L.exports}d={};var M={exports:d};function nb(){function a(a){if(Array.isArray(a))return a}M.exports=a;M.exports["default"]=M.exports,M.exports.__esModule=!0}var ob=!1;function pb(){ob||(ob=!0,nb());return M.exports}f={};var N={exports:f};function qb(){function a(a,b){var c=a&&(typeof Symbol!=="undefined"&&a[Symbol.iterator]||a["@@iterator"]);if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}N.exports=a;N.exports["default"]=N.exports,N.exports.__esModule=!0}var rb=!1;function sb(){rb||(rb=!0,qb());return N.exports}a={};var O={exports:a};function tb(){function a(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}O.exports=a;O.exports["default"]=O.exports,O.exports.__esModule=!0}var ub=!1;function vb(){ub||(ub=!0,tb());return O.exports}b={};var P={exports:b};function wb(){var a=vb();function b(b,c){if(!b)return;if(typeof b==="string")return a(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);d==="Object"&&b.constructor&&(d=b.constructor.name);if(d==="Map"||d==="Set")return Array.from(b);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return a(b,c)}P.exports=b;P.exports["default"]=P.exports,P.exports.__esModule=!0}var xb=!1;function yb(){xb||(xb=!0,wb());return P.exports}d={};var Q={exports:d};function zb(){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Q.exports=a;Q.exports["default"]=Q.exports,Q.exports.__esModule=!0}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return Q.exports}f={};var R={exports:f};function Cb(){var a=pb(),b=sb(),c=yb(),d=Bb();function e(e,f){return a(e)||b(e,f)||c(e,f)||d()}R.exports=e;R.exports["default"]=R.exports,R.exports.__esModule=!0}var Db=!1;function Eb(){Db||(Db=!0,Cb());return R.exports}a={};var S={exports:a};function Fb(){var a=vb();function b(b){if(Array.isArray(b))return a(b)}S.exports=b;S.exports["default"]=S.exports,S.exports.__esModule=!0}var Gb=!1;function Hb(){Gb||(Gb=!0,Fb());return S.exports}b={};var T={exports:b};function Ib(){function a(a){if(typeof Symbol!=="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}T.exports=a;T.exports["default"]=T.exports,T.exports.__esModule=!0}var Jb=!1;function Kb(){Jb||(Jb=!0,Ib());return T.exports}d={};var U={exports:d};function Lb(){function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}U.exports=a;U.exports["default"]=U.exports,U.exports.__esModule=!0}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return U.exports}f={};var V={exports:f};function Ob(){var a=Hb(),b=Kb(),c=yb(),d=Nb();function e(e){return a(e)||b(e)||c(e)||d()}V.exports=e;V.exports["default"]=V.exports,V.exports.__esModule=!0}var Pb=!1;function Qb(){Pb||(Pb=!0,Ob());return V.exports}a={};var W={exports:a};function Rb(){function a(b){typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?(W.exports=a=function(a){return typeof a},(W.exports["default"]=W.exports,W.exports.__esModule=!0)):(W.exports=a=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},(W.exports["default"]=W.exports,W.exports.__esModule=!0));return a(b)}W.exports=a;W.exports["default"]=W.exports,W.exports.__esModule=!0}var Sb=!1;function Tb(){Sb||(Sb=!0,Rb());return W.exports}b={};var X={exports:b};function Ub(){var a=ha();function b(b){var c,d;function e(a,b){return new Promise(function(e,g){e={key:a,arg:b,resolve:e,reject:g,next:null};d?d=d.next=e:(c=d=e,f(a,b))})}function f(c,d){try{var e=b[c](d);d=e.value;var h=d instanceof a;Promise.resolve(h?d.wrapped:d).then(function(a){if(h){f(c==="return"?"return":"next",a);return}g(e.done?"return":"normal",a)},function(a){f("throw",a)})}catch(a){g("throw",a)}}function g(a,b){switch(a){case"return":c.resolve({value:b,done:!0});break;case"throw":c.reject(b);break;default:c.resolve({value:b,done:!1});break}c=c.next;c?f(c.key,c.arg):d=null}this._invoke=e;typeof b["return"]!=="function"&&(this["return"]=void 0)}b.prototype[typeof Symbol==="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};b.prototype.next=function(a){return this._invoke("next",a)};b.prototype["throw"]=function(a){return this._invoke("throw",a)};b.prototype["return"]=function(a){return this._invoke("return",a)};X.exports=b;X.exports["default"]=X.exports,X.exports.__esModule=!0}var Vb=!1;function Wb(){Vb||(Vb=!0,Ub());return X.exports}d={};var Y={exports:d};function Xb(){var a=Wb();function b(b){return function(){return new a(b.apply(this,arguments))}}Y.exports=b;Y.exports["default"]=Y.exports,Y.exports.__esModule=!0}var Yb=!1;function Zb(){Yb||(Yb=!0,Xb());return Y.exports}f={};var Z={exports:f};function $b(){function a(a){return Function.toString.call(a).indexOf("[native code]")!==-1}Z.exports=a;Z.exports["default"]=Z.exports,Z.exports.__esModule=!0}var ac=!1;function bc(){ac||(ac=!0,$b());return Z.exports}a={};var $={exports:a};function cc(){var a=A(),b=t(),c=bc(),d=va();function e(f){var g=typeof Map==="function"?new Map():void 0;$.exports=e=function(e){if(e===null||!c(e))return e;if(typeof e!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof g!=="undefined"){if(g.has(e))return g.get(e);g.set(e,f)}function f(){return d(e,arguments,a(this).constructor)}f.prototype=Object.create(e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});return b(f,e)};$.exports["default"]=$.exports,$.exports.__esModule=!0;return e(f)}$.exports=e;$.exports["default"]=$.exports,$.exports.__esModule=!0}var dc=!1;function ec(){dc||(dc=!0,cc());return $.exports}b={};var fc={exports:b};function gc(){fc.exports=h()}var hc=!1;function ic(){hc||(hc=!0,gc());return fc.exports}function c(a){switch(a){case void 0:throw new Error("Cannot require the default exported value from a package listed as excluded");case"/helpers/assertThisInitialized":return k();case"/helpers/asyncIterator":return ca();case"/helpers/asyncToGenerator":return ea();case"/helpers/awaitAsyncGenerator":return ka();case"/helpers/classCallCheck":return na();case"/helpers/construct":return va();case"/helpers/createClass":return ya();case"/helpers/defineProperty":return Ba();case"/helpers/extends":return Ea();case"/helpers/get":return Ma();case"/helpers/getPrototypeOf":return A();case"/helpers/inherits":return Pa();case"/helpers/inheritsLoose":return Sa();case"/helpers/interopRequireDefault":return Va();case"/helpers/interopRequireWildcard":return Ya();case"/helpers/objectSpread":return ab();case"/helpers/objectWithoutProperties":return gb();case"/helpers/objectWithoutPropertiesLoose":return db();case"/helpers/possibleConstructorReturn":return jb();case"/helpers/readOnlyError":return mb();case"/helpers/slicedToArray":return Eb();case"/helpers/toConsumableArray":return Qb();case"/helpers/typeof":return Tb();case"/helpers/wrapAsyncGenerator":return Zb();case"/helpers/wrapNativeSuper":return ec();case"/regenerator":return ic()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("file-saver-2.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a,b){"undefined"!=typeof g?b():(b(),a.FileSaver={exports:{}}.exports)})(this,function(){function b(b,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(!1,a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\ufeff",b],{type:b.type}):b}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){},d.send()}function d(b){var a=new XMLHttpRequest;a.open("HEAD",b,!1);try{a.send()}catch(a){}return 200<=a.status&&299>=a.status}function e(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(c){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(a)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype?function(a,b,g){var h=f.URL||f.webkitURL,i=document.createElement("a");b=b||a.name||"download",i.download=b,i.rel="noopener","string"==typeof a?(i.href=a,i.origin===location.origin?e(i):d(i.href)?c(a,b,g):e(i,i.target="_blank")):(i.href=h.createObjectURL(a),setTimeout(function(){h.revokeObjectURL(i.href)},4e4),setTimeout(function(){e(i)},0))}:"msSaveOrOpenBlob"in navigator?function(a,f,g){if(f=f||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(b(a,g),f);else if(d(a))c(a,f,g);else{var h=document.createElement("a");h.href=a,h.target="_blank",setTimeout(function(){e(h)})}}:function(e,a,b,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof e)return c(e,a,b);a="application/octet-stream"===e.type;b=/constructor/i.test(f.HTMLElement)||f.safari;var g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||a&&b)&&"object"==typeof FileReader){var h=new FileReader;h.onloadend=function(){var a=h.result;a=g?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=a:location=a,d=null},h.readAsDataURL(e)}else{var i=f.URL||f.webkitURL,j=i.createObjectURL(e);d?d.location=j:location.href=j,d=null,setTimeout(function(){i.revokeObjectURL(j)},4e4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof h&&(h.exports=g)})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("file-saver",["file-saver-2.0.2"],(function(a,b,c,d,e,f){e.exports=b("file-saver-2.0.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-composed-ref-1.1.0",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g(),b=function(a,b){if(typeof a==="function"){a(b);return}a.current=b},c=function(c,d){var e=a.useRef();return a.useCallback(function(a){c.current=a;e.current&&b(e.current,null);e.current=d;if(!d)return;b(d,a)},[d])};h["default"]=c}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-isomorphic-layout-effect-1.1.2",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();a="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;h["default"]=a}var k=!1;function l(){k||(k=!0,j());return i.exports}d={};var m={exports:d};function n(){m.exports=l()}var o=!1;function p(){o||(o=!0,n());return m.exports}function c(a){switch(a){case void 0:return p()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-latest-1.2.0",["react-0.0.0","use-isomorphic-layout-effect-1.1.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h=a(b("use-isomorphic-layout-effect-1.1.2")),i={},j={exports:i};function k(){function a(a){return a&&"object"==typeof a&&"default"in a?a["default"]:a}Object.defineProperty(i,"__esModule",{value:!0});var b=g(),c=a(h());a=function(a){var d=b.useRef(a);return c(function(){d.current=a}),d};i["default"]=a}var l=!1;function m(){l||(l=!0,k());return j.exports}d={};var n={exports:d};function o(){n.exports=m()}var p=!1;function q(){p||(p=!0,o());return n.exports}function c(a){switch(a){case void 0:return q()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("react-textarea-autosize-8.3.2",["babel-runtime-7.14.0","react-0.0.0","use-latest-1.2.0","use-composed-ref-1.1.0"],(function(a,b,c,d,e,f){"use strict";var g=b("babel-runtime-7.14.0"),h=b("react-0.0.0"),i=b("use-latest-1.2.0"),j=b("use-composed-ref-1.1.0"),k={},l={exports:k};function m(){Object.defineProperty(k,"__esModule",{value:!0});var a=g("/helpers/extends"),b=g("/helpers/objectWithoutPropertiesLoose"),c=h(),d=i(),e=j();function f(a){return a&&a.__esModule?a:{"default":a}}var l=f(d),m=f(e),n={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},o=function(a){Object.keys(n).forEach(function(b){a.style.setProperty(b,n[b],"important")})},p=null,q=function(a,b){a=a.scrollHeight;return b.sizingStyle.boxSizing==="border-box"?a+b.borderSize:a-b.paddingSize};function r(a,b,c,d){c===void 0&&(c=1);d===void 0&&(d=Infinity);p||(p=document.createElement("textarea"),p.setAttribute("tab-index","-1"),p.setAttribute("aria-hidden","true"),o(p));p.parentNode===null&&document.body.appendChild(p);var e=a.paddingSize,f=a.borderSize,g=a.sizingStyle,h=g.boxSizing;Object.keys(g).forEach(function(a){a=a;p.style[a]=g[a]});o(p);p.value=b;b=q(p,a);p.value="x";a=p.scrollHeight-e;c=a*c;h==="border-box"&&(c=c+e+f);b=Math.max(c,b);c=a*d;h==="border-box"&&(c=c+e+f);b=Math.min(c,b);return[b,a]}var s=function(){},t=function(a,b){return a.reduce(function(a,c){a[c]=b[c];return a},{})},u=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],v=typeof document!=="undefined"?!!document.documentElement.currentStyle:!1,w=function(a){a=window.getComputedStyle(a);if(a===null)return null;a=t(u,a);var b=a.boxSizing;if(b==="")return null;v&&b==="border-box"&&(a.width=parseFloat(a.width)+parseFloat(a.borderRightWidth)+parseFloat(a.borderLeftWidth)+parseFloat(a.paddingRight)+parseFloat(a.paddingLeft)+"px");b=parseFloat(a.paddingBottom)+parseFloat(a.paddingTop);var c=parseFloat(a.borderBottomWidth)+parseFloat(a.borderTopWidth);return{sizingStyle:a,paddingSize:b,borderSize:c}},x=function(a){var b=l["default"](a);c.useLayoutEffect(function(){var a=function(a){b.current(a)};window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}},[])};d=function(d,e){var f=d.cacheMeasurements,g=d.maxRows,h=d.minRows,i=d.onChange,j=i===void 0?s:i;i=d.onHeightChange;var k=i===void 0?s:i;i=b(d,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var l=i.value!==void 0,n=c.useRef(null);d=m["default"](n,e);var o=c.useRef(0),p=c.useRef(),q=function(){var a=n.current,b=f&&p.current?p.current:w(a);if(!b)return;p.current=b;b=r(b,a.value||a.placeholder||"x",h,g);var c=b[0];b=b[1];o.current!==c&&(o.current=c,a.style.setProperty("height",c+"px","important"),k(c,{rowHeight:b}))};e=function(a){l||q(),j(a)};typeof document!=="undefined"&&(c.useLayoutEffect(q),x(q));return c.createElement("textarea",a({},i,{onChange:e,ref:d}))};f=c.forwardRef(d);k["default"]=f}var n=!1;function o(){n||(n=!0,m());return l.exports}c={};var p={exports:c};function q(){p.exports=o()}var r=!1;function s(){r||(r=!0,q());return p.exports}function a(a){switch(a){case void 0:return s()}}e.exports=a}),null);
__d("react-textarea-autosize",["react-textarea-autosize-8.3.2"],(function(a,b,c,d,e,f){e.exports=b("react-textarea-autosize-8.3.2")()}),null);/*FB_PKG_DELIM*/
__d("PolarisUserHoverCardStatisticsSectionQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"userID"}],b=[{kind:"Literal",name:"_request_data",value:{}},{kind:"Literal",name:"user_id",value:0},{kind:"Variable",name:"user_id_str_override",variableName:"userID"}],c={alias:null,args:null,kind:"ScalarField",name:"follower_count",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"following_count",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisUserHoverCardStatisticsSectionQuery",selections:[{alias:null,args:b,concreteType:"XDTUserInfoResponse",kind:"LinkedField",name:"xdt_api__v1__users__info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[c,d,e],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisUserHoverCardStatisticsSectionQuery",selections:[{alias:null,args:b,concreteType:"XDTUserInfoResponse",kind:"LinkedField",name:"xdt_api__v1__users__info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[c,d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"6547526092004381",metadata:{},name:"PolarisUserHoverCardStatisticsSectionQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("IGDSHoverCardContent.react",["BaseContextualLayerOrientationContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={root:{backgroundColor:"xvbhtw8",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x1rj4ezl",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",$$css:!0},rootAbove:{top:"x1v4kod4",$$css:!0},rootBelow:{top:"xfr5jun",$$css:!0},rootEnd:{start:"xr6gfmr",$$css:!0},rootStart:{start:"x1mb8mph",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;var d=k(c("BaseContextualLayerOrientationContext"));d=d.position;return j.jsx("div",{className:(h||(h=c("stylex")))([l.root,d==="above"&&l.rootAbove,d==="below"&&l.rootBelow,d==="start"&&l.rootStart,d==="end"&&l.rootEnd,a]),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisHoverCardLogger",["PolarisLogger","react","throttle","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState;function l(a,b,c,e,f,g,h){d("PolarisLogger").logAction("hoverCardTriggered",{analytics_context:h,card_cutoff:a.bottom<0||a.left<0||window.innerWidth-a.right<0||a.top<0,card_resource_id:g,card_space_bottom:a.bottom,card_space_left:a.left,card_space_right:window.innerWidth-a.right,card_space_top:a.top,card_type:f,interaction_duration:window.performance.now()-c,load_duration:c-b,trigger_analytics_context:e,viewport_height:window.innerHeight,viewport_width:window.innerWidth})}function a(a,b,d,e,f){var g=k(0),h=g[0],i=g[1];g=k(0);var m=g[0],n=g[1],o=c("usePolarisAnalyticsContext")();j(function(){h===0&&i(window.performance.now());var c;a.current&&(c=a.current);return function(){if(m&&c){var a=c.getBoundingClientRect(),d=a.bottom,g=a.left,i=a.right;a=a.top;d={bottom:window.innerHeight-d,left:g,right:window.innerWidth-i,top:a};l(d,h,m,b,e,f,o)}}},[o,a,f,e,h,m,b]);j(function(){d&&m===0&&n(window.performance.now())},[a,d,m])}function b(a,b,e,f,g){var h=c("usePolarisAnalyticsContext")();return i(c("throttle")(function(){var c;d("PolarisLogger").logAction("hoverCardInteraction",babelHelpers["extends"]({},(c=g)!=null?c:{},{analytics_context:h,card_resource_id:b,card_type:a,interaction:f,trigger_analytics_context:e}))},500),[h,a,b,f,e,g])}g.useHoverCardLoadedLogger=a;g.useHoverCardInteractionLoggerCallback=b}),98);
__d("PolarisUserHoverCardStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";b=h._("__JHASH__tk6YGldFWHI__JHASH__");c=h._("__JHASH__1eydgvdFVJo__JHASH__");d=h._("__JHASH__2cQUsCR4pd6__JHASH__");function a(a){return h._("__JHASH__bQ_F-fLfH80__JHASH__",[h._param("Username of current user",a)])}g.PRIVATE_ACCOUNT_TITLE=b;g.PRIVATE_ACCOUNT_SUBTEXT=c;g.NO_POSTS_TITLE=d;g.noPostsSubtext=a}),98);
__d("PolarisUserHoverCardButtonSection.react",["IGDSAppMessengerPanoOutlineIcon","IGDSButton.react","IGDSDirectPanoOutlineIcon","IGDSGlimmer.react","PolarisConfig","PolarisDirectStrings","PolarisFollowButtonContainer.react","PolarisGroupProfileUtils","PolarisNavigationStrings","PolarisRelationshipTypes","polarisRelationshipSelectors","react","usePolarisDirectFeatures","usePolarisDirectMessageClick","usePolarisHoverCardLogger","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={actionButtonsContainer:{display:"x78zum5",$$css:!0},followButton:{flexGrow:"x1iyjqo2",marginStart:"xsgj6o6",maxWidth:"x1ncir08",$$css:!0},glimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x90ne7k",width:"xh8yej3",$$css:!0},messageButton:{flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",maxWidth:"x1ncir08",$$css:!0},root:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0}};function l(a){var b=a.triggerAnalyticsContext;a=a.userId;a=d("usePolarisHoverCardLogger").useHoverCardInteractionLoggerCallback("user",a,b,"editProfileClicked");return i.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,href:"/accounts/edit",label:d("PolarisNavigationStrings").PROFILE_EDIT_TEXT,onClick:a,variant:"secondary"})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.triggerAnalyticsContext,e=a.userId;a=a.username;var f=c("usePolarisSelector")(function(a){return a.relationships[e]}),g=f!=null&&d("polarisRelationshipSelectors").followedByViewer(f);f=j(function(){return{followed:g}},[g]);b=d("usePolarisHoverCardLogger").useHoverCardInteractionLoggerCallback("user",e,b,"followButtonClicked",f);return i.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:"UNKNOWN__POLARIS_USER_HOVER_CARD_BUTTON_SECTION",fullWidth:!0,onClick:b,useFollowIcon:!0,userId:e,username:(f=a)!=null?f:""})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.interopMessagingUserFbid;a=a.userId;a=c("usePolarisDirectMessageClick")(a,b);b=a[0];a=a[1];var e=c("usePolarisDirectFeatures")();e=e.hasMessagingRedesign;e=e?c("IGDSAppMessengerPanoOutlineIcon"):c("IGDSDirectPanoOutlineIcon");return i.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,icon:i.jsx(e,{alt:"",color:"web-always-white",size:20}),isLoading:a,label:d("PolarisDirectStrings").MESSAGE_STRING,onClick:b,variant:"primary"})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.glimmerStartIndex,e=a.triggerAnalyticsContext,f=a.user,g=a.userId;a=c("usePolarisSelector")(function(a){return a.relationships[g]});var h=d("PolarisConfig").getViewerId();if(g===h)return i.jsx(l,{triggerAnalyticsContext:e,userId:g});if((a==null?void 0:(h=a.followedByViewer)==null?void 0:h.state)==null||f==null)return i.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:k.glimmer});h=d("PolarisGroupProfileUtils").getIsUserGroupProfile(f);b=a.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING;a=f.aiAgentType!=null;return h||!b||a?i.jsx(m,{triggerAnalyticsContext:e,userId:g,username:f.username}):i.jsxs("div",{className:"x78zum5",children:[i.jsx("div",{className:"x1iyjqo2 xw3qccf x1ncir08",children:i.jsx(n,{interopMessagingUserFbid:f.interopMessagingUserFbid,userId:g})}),i.jsx("div",{className:"x1iyjqo2 xsgj6o6 x1ncir08",children:i.jsx(m,{triggerAnalyticsContext:e,userId:g,username:f.username})})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.glimmerStartIndex,c=a.triggerAnalyticsContext,d=a.user;a=a.userId;return i.jsx("div",{className:"x1swvt13 x1pi30zi",children:i.jsx(o,{glimmerStartIndex:b,triggerAnalyticsContext:c,user:d,userId:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardNoticeSection.react",["CometImage.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.description,d=a.icon;a=a.title;return i.jsxs("div",{className:"x1bs97v6 x1q0q8m5 xso031l x5ur3kl x13fuv20 x178xt8z xrvj5dj x1v5loxz x1o2pa38 xyamay9 x1pi30zi x1l90r2v x1swvt13 x2b8uid",children:[i.jsx(c("CometImage.react"),{alt:"",height:48,src:d,width:48}),i.jsx(c("IGDSText.react"),{weight:"bold",children:a}),i.jsx(c("IGDSText.react"),{color:"secondaryText",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardPostsSection.react",["ix","CometImage.react","IGDSGlimmer.react","PolarisFastLink.react","PolarisLinkBuilder","PolarisRelationshipTypes","PolarisUserHoverCardNoticeSection.react","PolarisUserHoverCardStrings","polarisPostSelectors","react","usePolarisHoverCardLogger","usePolarisSelector"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={glimmer:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",height:"x1wkxgih",width:"xygnafs",$$css:!0},mediaContainer:{backgroundColor:"xnz67gz",display:"x78zum5",height:"x1wkxgih",":active_opacity":"x162lpob",$$css:!0},root:{alignItems:"x6s0dn4",display:"xrvj5dj",gridColumnGap:"x8l38fb",gridTemplateColumns:"x1rp53t7",$$css:!0}};function l(a){var b=a.postId,e=a.triggerAnalyticsContext;a=a.userId;a=d("usePolarisHoverCardLogger").useHoverCardInteractionLoggerCallback("user",a,e,"postGridPostLinkClicked");e=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostOrNullById(a,b)});var f=e==null?void 0:e.src;if(f==null||(e==null?void 0:e.code)==null)return j.jsx("div",{className:"xnz67gz x78zum5 x1wkxgih x162lpob"});e=d("PolarisLinkBuilder").buildMediaLink(e.code);return j.jsx(c("PolarisFastLink.react"),{className:"xnz67gz x78zum5 x1wkxgih x162lpob",href:e,onClick:a,children:j.jsx(c("CometImage.react"),{height:120,objectFit:"cover",src:f,width:120})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.glimmerStartIndex,e=a.postIds,f=a.triggerAnalyticsContext,g=a.user,i=a.userId;a=c("usePolarisSelector")(function(a){return a.relationships[i]});if(g!=null&&g.isPrivate===!0&&a!=null&&a.followedByViewer.state!==d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING)return j.jsx(c("PolarisUserHoverCardNoticeSection.react"),{description:d("PolarisUserHoverCardStrings").PRIVATE_ACCOUNT_SUBTEXT,icon:h("295615"),title:d("PolarisUserHoverCardStrings").PRIVATE_ACCOUNT_TITLE});if(e==null||a==null||g==null)return j.jsxs("div",{className:"x6s0dn4 xrvj5dj x8l38fb x1rp53t7",children:[j.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:k.glimmer}),j.jsx(c("IGDSGlimmer.react"),{index:b+1,xstyle:k.glimmer}),j.jsx(c("IGDSGlimmer.react"),{index:b+2,xstyle:k.glimmer})]});return e.length===0?g.username==null?null:j.jsx(c("PolarisUserHoverCardNoticeSection.react"),{description:d("PolarisUserHoverCardStrings").noPostsSubtext(g.username),icon:h("295614"),title:d("PolarisUserHoverCardStrings").NO_POSTS_TITLE}):j.jsx("div",{className:"x6s0dn4 xrvj5dj x8l38fb x1rp53t7",children:e.map(function(a){return j.jsx(l,{postId:a,triggerAnalyticsContext:f,userId:i},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardStatisticsSection.react",["fbt","CometPlaceholder.react","CometRelay","IGDSGlimmer.react","IGDSText.react","PolarisBigNumber.react","PolarisUserHoverCardStatisticsSectionQuery.graphql","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={root:{alignItems:"x6s0dn4",display:"xrvj5dj",gridColumnGap:"x8l38fb",gridTemplateColumns:"x1rp53t7",$$css:!0},statistic:{paddingTop:"xexx8yu",paddingEnd:"x1sxyh0",paddingBottom:"x18d9i69",paddingStart:"xurb0ha",textAlign:"x2b8uid",$$css:!0},statisticCountGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1v9usgg",marginStart:"x1gryazu",marginEnd:"xkrivgy",width:"x100vrsf",$$css:!0},statisticLabel:{marginTop:"x1gslohp",$$css:!0},statisticLabelGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1v9usgg",marginStart:"x1gryazu",marginEnd:"xkrivgy",marginTop:"x1gslohp",width:"x1fu8urw",$$css:!0}};function m(a){a=a.glimmerStartIndex;return k.jsxs("div",{className:"xexx8yu x1sxyh0 x18d9i69 xurb0ha x2b8uid",children:[k.jsx(c("IGDSGlimmer.react"),{index:a,xstyle:l.statisticCountGlimmer}),k.jsx(c("IGDSGlimmer.react"),{index:a+1,xstyle:l.statisticLabelGlimmer})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.count;a=a.label;return k.jsxs("div",{className:"xexx8yu x1sxyh0 x18d9i69 xurb0ha x2b8uid",children:[k.jsx("div",{children:k.jsx(c("IGDSText.react"),{weight:"bold",children:k.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:b})})}),k.jsx("div",{className:"x1gslohp",children:k.jsx(c("IGDSText.react"),{children:a})})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var c,e;a=a.userId;a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("PolarisUserHoverCardStatisticsSectionQuery.graphql"),{userID:a});a=a.xdt_api__v1__users__info.user;c=(c=a==null?void 0:a.media_count)!=null?c:0;e=(e=a==null?void 0:a.follower_count)!=null?e:0;a=(a=a==null?void 0:a.following_count)!=null?a:0;return k.jsxs(k.Fragment,{children:[k.jsx(n,{count:c,label:h._("__JHASH__4TvrpCYBYlw__JHASH__",[h._plural((c=c)!=null?c:0)])}),k.jsx(n,{count:e,label:h._("__JHASH__iPewtgDkrBS__JHASH__",[h._plural((c=e)!=null?c:0)])}),k.jsx(n,{count:a,label:h._("__JHASH__5OGpybB5qMf__JHASH__",[h._plural((e=a)!=null?e:0)])})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.glimmerStartIndex;a.user;a=a.userId;return k.jsx("div",{className:"x6s0dn4 xrvj5dj x8l38fb x1rp53t7",children:k.jsx(c("CometPlaceholder.react"),{fallback:k.jsxs(k.Fragment,{children:[k.jsx(m,{glimmerStartIndex:b}),k.jsx(m,{glimmerStartIndex:b+1}),k.jsx(m,{glimmerStartIndex:b+2})]}),children:k.jsx(o,{userId:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUserHoverCardUserInfoSection.react",["IGDSGlimmer.react","IGDSText.react","IGDSVerifiedBadge.react","PolarisFastLink.react","PolarisSponsoredPostContext.react","PolarisUserAvatarWithStories.react","isStringNullOrWhitespaceOnly","react","usePolarisHoverCardLogger","usePolarisTrackingDataProfileURLParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={fullName:{height:"xmix8c7",marginTop:"x1gslohp",width:"x1rva8in",$$css:!0},fullNameGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"xlup9mm",marginTop:"x1gslohp",width:"xzjbwwf",$$css:!0},profilePictureGlimmer:{borderTopStartRadius:"xv4rd2r",borderTopEndRadius:"x19baegm",borderBottomEndRadius:"x1vswc8w",borderBottomStartRadius:"x1jq0agw",height:"xnnlda6",width:"x15yg21f",$$css:!0},root:{alignItems:"x6s0dn4",display:"xrvj5dj",gridColumnGap:"xjv0b96",gridTemplateColumns:"x1wdtju6",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0},username:{alignItems:"x6s0dn4",display:"x78zum5",height:"xmix8c7",$$css:!0},usernameGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"xlup9mm",width:"xja02kk",$$css:!0},verifiedBadge:{marginStart:"xsgj6o6",$$css:!0}};function a(a){var b=a.glimmerStartIndex,e=a.triggerAnalyticsContext,f=a.user;a=a.userId;var g=f==null?void 0:f.fullName,h=f==null?void 0:f.username,l=f==null?void 0:f.isVerified,m=f==null?void 0:f.profilePictureUrl;a=d("usePolarisHoverCardLogger").useHoverCardInteractionLoggerCallback("user",a,e,"profileLinkClicked");e=d("usePolarisTrackingDataProfileURLParams").usePolarisTrackingDataProfileURLParams(j(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext).canUserSeePersistentCta);return i.jsxs("div",{className:"x6s0dn4 xrvj5dj xjv0b96 x1wdtju6 x1swvt13 x1pi30zi",children:[i.jsx("div",{children:m==null?i.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:k.profilePictureGlimmer}):i.jsx(c("PolarisUserAvatarWithStories.react"),{isClickable:!0,profilePictureUrl:m,size:56,storyEntrypoint:"user_hover_card",userId:f==null?void 0:f.id,username:f==null?void 0:f.username})}),i.jsx("div",{children:i.jsx("div",{children:h==null?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSGlimmer.react"),{index:b+1,xstyle:k.usernameGlimmer}),i.jsx(c("IGDSGlimmer.react"),{index:b+2,xstyle:k.fullNameGlimmer})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"x6s0dn4 x78zum5 xmix8c7",children:[i.jsx(c("PolarisFastLink.react"),{href:"/"+h,onClick:a,params:e,children:i.jsx(c("IGDSText.react").LabelEmphasized,{children:h})}),l===!0&&i.jsx("span",{className:"xsgj6o6",children:i.jsx(c("IGDSVerifiedBadge.react"),{})})]}),c("isStringNullOrWhitespaceOnly")(g)?null:i.jsx("div",{className:"xmix8c7 x1gslohp x1rva8in",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,textAlign:"start",children:g})})]})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("ReQL").fromTableAscending(a.table("cutover_threads"));return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.table("cutover_threads")["delete"](d("ReQL").key(c.openThreadId))})},(h||(h=b("Promise"))).resolve())})}g.call=a}),98);
__d("MWLSSchemaEphemeral",["FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","MAWLSVaultingHooks","MessengerLogHistory","ReStore","asyncToGeneratorRuntime","cr:6693"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("init_start");var a;if(b("cr:6693")!=null){try{h.debug("Creating EB State DB");var e=(yield b("cr:6693").makeEBStateDB());e!=null&&(a=c("ReStore")(e,d("LSMetadata").metadata,[c("MAWLSVaultingHooks")]))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}h.debug("EB State DB inited")}a==null&&(h.debug("Creating EDB"),a=c("LSJSInMemoryStorage")(d("LSMetadata").metadata),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return a});return i.apply(this,arguments)}g.createDB=a}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("1224637")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;b=(h||(h=d("I64"))).of_int32(1);e=h.of_int32(0);g.syncParams=a;g.syncChannel=b;g.lastSyncTimestampMs=e}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;a={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(h||(h=d("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:h.ofNumber(0),minTimeToSyncTimestampMs:h.ofNumber(-1),priority:h.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:h.ofNumber(1),syncParams:JSON.stringify({locale:c("CurrentLocale").get()}),syncStatus:h.ofNumber(0)};b={epochId:void 0,failureCount:h.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:h.ofNumber(0),lastSyncRequestTimestampMs:h.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:h.ofNumber(0),taskQueueName:""};e=h.ofNumber(9999999999999);g.defaultSyncGroup=a;g.defaultNetworkRequest=b;g.neverSyncTimestamp=e}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52});f["default"]=a}),66);
__d("isOccamadilloResumeSyncEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("6551")&&c("gkx")("4471")&&c("gkx")("4463")}g["default"]=a}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("CurrentMessengerUser").getIDorEIMU();return a.table("_user_info").put({facebookUserId:(h||(h=d("I64"))).of_string(b),id:(i||(i=d("LSIntEnum"))).ofNumber(1)})}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","isArmadillo","isOccamadilloResumeSyncEnabled","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();(c("isArmadillo")()||c("gkx")("9017")===!0)&&!c("isOccamadilloResumeSyncEnabled")()&&j.add(95);e=c("isArmadillo")()||c("gkx")("9017")===!0?{groupId:95}:null;var k=[{groupId:1},{groupId:2},{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},{groupId:16},{groupId:28},{groupId:196},{groupId:198},c("qex")._("923")?{groupId:95}:null,{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}],l=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,c("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,c("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:16},{groupId:140},{groupId:141},{groupId:142},{groupId:143},{groupId:26},{groupId:5},{groupId:28},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:196},{groupId:104},{groupId:198},e,c("gkx")("2096")||c("qex")._("1332")?{groupId:120}:null,c("qex")._("274")||c("gkx")("5849")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,c("gkx")("2250")?{groupId:108}:null];function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("network_requests")).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return(i||(i=d("LSIntEnum"))).toNumber(a)});return(h||(h=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||j.has(b.groupId))&&(yield a.table("network_requests").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(i||(i=d("LSIntEnum"))).ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("sync_groups")))),f=e.map(function(a){a=a.groupId;return(i||(i=d("LSIntEnum"))).toNumber(a)});function g(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);(!f.includes(c)||j.has(c))&&(yield a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:(i||(i=d("LSIntEnum"))).ofNumber(c)})))});return k.apply(this,arguments)}yield (h||(h=b("Promise"))).all(c.map(function(a){return a&&g(a)}))});return p.apply(this,arguments)}function q(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?k:l}function a(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=q(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield m(a,b);yield o(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return r.apply(this,arguments)}g.e2eeMetadataSyncGroup=e;g.igdSyncGroups=k;g.defaultSyncGroups=l;g.seedDb=a}),98);
__d("MWLSSchemaEphemeralProxy",["MWLSSchemaEphemeral"],(function(a,b,c,d,e,f){"use strict";Object.keys(importNamespace("MWLSSchemaEphemeral")).forEach(function(a){if(a==="default"||a==="__esModule")return;f[a]=importNamespace("MWLSSchemaEphemeral")[a]})}),null);
__d("UserTimingUtils",["performance","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof (h||(h=c("performance"))).mark==="function"&&typeof (h||(h=c("performance"))).clearMarks==="function"&&typeof (h||(h=c("performance"))).measure==="function"&&typeof (h||(h=c("performance"))).clearMeasures==="function",j=!1;if(i&&(h||(h=c("performance"))).mark!=null){var k="__v3",l={};Object.defineProperty(l,"startTime",{get:function(){j=!0}});try{(h||(h=c("performance"))).mark(k,l)}catch(a){}finally{(h||(h=c("performance"))).clearMarks(k)}}function a(a){i&&(h||(h=c("performance"))).mark(a)}function d(a,b,d){d===void 0&&(d=!0);if(i){try{(h||(h=c("performance"))).measure(a,b)}catch(a){}d&&(h||(h=c("performance"))).clearMarks(b);(h||(h=c("performance"))).clearMeasures(a)}}function e(a){if(i){try{a=(h||(h=c("performance"))).getEntriesByName(a,"mark");if(a!=null&&a.length>0)return!0}catch(a){}return!1}}function f(a){if(i)try{(h||(h=c("performance"))).clearMarks(a)}catch(a){}}function m(a,b){if(j)try{(h||(h=c("performance"))).measure(a,b),h.clearMeasures(a)}catch(a){}}function n(a,b){j&&((h||(h=c("performance"))).mark(a,b),h.clearMarks(a))}function o(a,d){var e,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=(h||(h=c("performance"))).now();i.next=3;return b("regeneratorRuntime").awrap(d());case 3:f=i.sent;g=(h||(h=c("performance"))).now();m(a,{end:g,start:e});return i.abrupt("return",f);case 7:case"end":return i.stop()}},null,this)}g.measureStart=a;g.measureEnd=d;g.hasMark=e;g.clearMarks=f;g.measureModern=m;g.markModern=n;g.asyncMeasure=o}),98);
__d("GetLsDatabase",["ExecutionEnvironment","FBLogger","LSDefaultSyncGroups","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MWLSSchemaEphemeralProxy","MessengerLogHistory","MultipleTabsLogger","Promise","UserTimingUtils","asyncToGeneratorRuntime","cr:4489","cr:5774","cr:665","cr:7351","cr:757","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:757"))!=null?e:b("cr:7351"),k=c("gkx")("4471")&&c("gkx")("4463"),l=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MessengerLogHistory").getInstance("db_init"),e=(yield d("MultipleTabsLogger").getMultipleTabsAnnotation());a.debug("Has multiple tabs: "+e);d("MultipleTabsLogger").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"));a.debug("====Creating DB====");b("cr:4489")!=null&&b("cr:665")!=null&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield b("cr:4489").setupVaultMaterials()})),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("support_check_start");e=b("cr:5774").isSupported!=null?yield b("cr:5774").isSupported():!1;d("LSPlatformLsInitLog").addPoint("support_check_end",{bool:{using_pdb:e}});e&&self.navigator.locks==null&&c("FBLogger")("messenger_web_product").mustfix("PDB exposed to people without navigator.locks");a.debug("Connecting to DB");e=e?yield b("cr:5774").createDB():yield d("MWLSSchemaEphemeralProxy").createDB();a.debug("Connecting established");yield e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=k||j==null?[(i||(i=b("Promise"))).resolve(),(i||(i=b("Promise"))).resolve()]:[j.call(c),d("MAWDropCutoverThreadsTable").call(c)],f=e[0];e=e[1];yield (i||(i=b("Promise"))).all([f,e]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(c,void 0);a.debug("DB seeded")});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui");a.debug("====DB created====");return e});return function(){return a.apply(this,arguments)}}(),m;function a(){m==null&&(m=(h||(h=c("ExecutionEnvironment"))).isInBrowser?l():new(i||(i=b("Promise")))(function(){}));return m}g.get=a}),98);/*FB_PKG_DELIM*/
__d("IGDSCheckPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("polyline",{fill:"none",points:"22 5 9.002 17.998 2.005 11.004",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("usePolarisShowToast",["PolarisReactRedux","PolarisToastActions"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("PolarisReactRedux").useDispatch();return function(b){a(d("PolarisToastActions").showToast(b))}}g["default"]=a}),98);
__d("ActorURI",["ActorURIConfig","URI"],(function(a,b,c,d,e,f,g){var h;function a(a,b){return new(h||(h=c("URI")))(a).addQueryData(c("ActorURIConfig").PARAMETER_ACTOR,b)}g.create=a;g.PARAMETER_ACTOR=c("ActorURIConfig").PARAMETER_ACTOR}),98);
__d("getImageSourceURLFromImageish",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof a==="string")return a;return a!=null&&typeof a==="object"&&(!a.sprited&&a.uri&&typeof a.uri==="string")?a.uri:""}f["default"]=a}),66);
__d("XControllerURIBuilder",["invariant","URI","gkx","isInternalFBURI"],(function(a,b,c,d,e,f,g,h){var i;a=function(){function a(a,b){this.$1={},this.$2=a,this.$3=b}var b=a.prototype;b.setInt=function(a,b){return this.__setParam(a,"Int",b)};b.setFBID=function(a,b){return this.__setParam(a,"FBID",b)};b.setFloat=function(a,b){return this.__setParam(a,"Float",b)};b.setString=function(a,b){return this.__setParam(a,"String",b)};b.setExists=function(a,b){b===!1&&(b=void 0);return this.__setParam(a,"Exists",b)};b.setBool=function(a,b){return this.__setParam(a,"Bool",b)};b.setBoolVector=function(a,b){return this.__setParam(a,"BoolVector",b)};b.setEnum=function(a,b){return this.__setParam(a,"Enum",b)};b.setPath=function(a,b){return this.__setParam(a,"Path",b)};b.setIntVector=function(a,b){return this.__setParam(a,"IntVector",b)};b.setIntKeyset=function(a,b){return this.__setParam(a,"IntKeyset",b)};b.setIntSet=function(a,b){return this.__setParam(a,"IntSet",b.join(","))};b.setFloatVector=function(a,b){return this.__setParam(a,"FloatVector",b)};b.setFloatSet=function(a,b){return this.__setParam(a,"FloatSet",b.join(","))};b.setStringVector=function(a,b){return this.__setParam(a,"StringVector",b)};b.setStringKeyset=function(a,b){return this.__setParam(a,"StringKeyset",b)};b.setStringSet=function(a,b){return this.__setParam(a,"StringSet",b)};b.setFBIDVector=function(a,b){return this.__setParam(a,"FBIDVector",b)};b.setFBIDSet=function(a,b){return this.__setParam(a,"FBIDSet",b)};b.setFBIDKeyset=function(a,b){return this.__setParam(a,"FBIDKeyset",b)};b.setEnumVector=function(a,b){return this.__setParam(a,"EnumVector",b)};b.setEnumSet=function(a,b){return this.__setParam(a,"EnumSet",b)};b.setEnumKeyset=function(a,b){return this.__setParam(a,"EnumKeyset",b)};b.setIntToIntMap=function(a,b){return this.__setParam(a,"IntToIntMap",b)};b.setIntToFloatMap=function(a,b){return this.__setParam(a,"IntToFloatMap",b)};b.setIntToStringMap=function(a,b){return this.__setParam(a,"IntToStringMap",b)};b.setIntToBoolMap=function(a,b){return this.__setParam(a,"IntToBoolMap",b)};b.setStringToIntMap=function(a,b){return this.__setParam(a,"StringToIntMap",b)};b.setStringToFloatMap=function(a,b){return this.__setParam(a,"StringToFloatMap",b)};b.setStringToStringMap=function(a,b){return this.__setParam(a,"StringToStringMap",b)};b.setStringToNullableStringMap=function(a,b){return this.__setParam(a,"StringToNullableStringMap",b)};b.setStringToBoolMap=function(a,b){return this.__setParam(a,"StringToBoolMap",b)};b.setStringToEnumMap=function(a,b){return this.__setParam(a,"StringToEnumMap",b)};b.setEnumToStringVectorMap=function(a,b){return this.__setParam(a,"EnumToStringVectorMap",b)};b.setEnumToStringMap=function(a,b){return this.__setParam(a,"EnumToStringMap",b)};b.setEnumToBoolMap=function(a,b){return this.__setParam(a,"EnumToBoolMap",b)};b.setEnumToEnumMap=function(a,b){return this.__setParam(a,"EnumToEnumMap",b)};b.setEnumToIntMap=function(a,b){return this.__setParam(a,"EnumToIntMap",b)};b.setEnumToFBIDVectorMap=function(a,b){return this.__setParam(a,"EnumToFBIDVectorMap",b)};b.setStringToIntDict=function(a,b){return this.__setParam(a,"StringToIntDict",b)};b.setStringToNullableIntDict=function(a,b){return this.__setParam(a,"StringToNullableIntDict",b)};b.setStringToFloatDict=function(a,b){return this.__setParam(a,"StringToFloatDict",b)};b.setStringToStringKeysetDict=function(a,b){return this.__setParam(a,"StringToStringKeysetDict",b)};b.setStringToNullableFloatDict=function(a,b){return this.__setParam(a,"StringToNullableFloatDict",b)};b.setStringToStringDict=function(a,b){return this.__setParam(a,"StringToStringDict",b)};b.setStringToNullableStringDict=function(a,b){return this.__setParam(a,"StringToNullableStringDict",b)};b.setStringToBoolDict=function(a,b){return this.__setParam(a,"StringToBoolDict",b)};b.setStringToEnumDict=function(a,b){return this.__setParam(a,"StringToEnumDict",b)};b.setEnumToIntDict=function(a,b){return this.__setParam(a,"EnumToIntDict",b)};b.setEnumToStringDict=function(a,b){return this.__setParam(a,"EnumToStringDict",b)};b.setHackType=function(a,b){return this.__setParam(a,"HackType",b)};b.setTypeAssert=function(a,b){return this.__setParam(a,"TypeAssert",b)};b.__validateRequiredParamsExistence=function(){for(var a in this.$3)!this.$3[a].required||Object.prototype.hasOwnProperty.call(this.$1,a)||h(0,903,a)};b.setParams=function(a){for(var b in a){this.__assertParamExists(b);var c=this.$3[b].type;this.__setParam(b,c,a[b])}return this};b.__assertParamExists=function(a){a in this.$3||h(0,37339,a)};b.__setParam=function(a,b,c){this.__assertParamExists(a);var d=this.$3[a].type,e={StringOrPFBID:"String",IntOrPFBID:"Int",FBIDOrPFBID:"FBID",PaymentLegacyAdAccountID:"Int"};e=e[d];d===b||e===b||h(0,37340,a,b,d);this.__setParamInt(a,c);return this};b.__setParamInt=function(a,b){this.$1[a]=b};b.getRequest_LEGACY_UNTYPED=function(a){return a.setReplaceTransportMarkers().setURI(this.getURI())};b.setPreviousActorIsPageVoice=function(a){this.__setParamInt("paipv",a?1:0);return this};b.getURI=function(){this.__validateRequiredParamsExistence();var a={},b="",d=/^(.*)?\{(\?)?(\*)?(.+?)\}(.*)?$/,e=this.$2.split("/"),f=!1;for(var g=0;g<e.length;g++){var j=e[g];if(j==="")continue;var k=d.exec(j);if(!k)b+="/"+j;else{j=k[2]==="?";var l=k[4],m=this.$3[l];m||h(0,11837,l,this.$2);if(j&&f)continue;if(this.$1[l]==null&&j){f=!0;continue}j=this.$1[l]!=null?this.$1[l]:m.defaultValue;j!=null||h(0,907,l);m=k[1]?k[1]:"";k=k[5]?k[5]:"";b+="/"+m+j+k;a[l]=!0}}this.$2.slice(-1)==="/"&&(b+="/");b===""&&(b="/");m=new(i||(i=c("URI")))(b);for(j in this.$1){k=this.$1[j];if(!a[j]&&k!=null){l=this.$3[j];m.addQueryData(j,l&&l.type==="Exists"?null:k)}}return m};b.getLookasideURI=function(){var a="lookaside.facebook.com";c("isInternalFBURI")((i||(i=c("URI"))).getRequestURI())?a="lookaside.internalfb.com":c("gkx")("996940")&&(a="lookaside.internmc.facebook.com");return this.getURI().setDomain(a).setProtocol("https")};a.create=function(b,c){return function(){return new a(b,c)}};return a}();a.prototype.getRequest=function(a){return this.getRequest_LEGACY_UNTYPED(a)};g["default"]=a}),98);
__d("XRequest",["invariant"],(function(a,b,c,d,e,f,g){var h=function a(b,c,d){var e;switch(b){case"Bool":e=c&&c!=="false"&&c!=="0"||!1;break;case"Int":e=c.toString();/-?\d+/.test(e)||g(0,11839,c);break;case"Float":e=parseFloat(c,10);isNaN(e)&&g(0,11840,c);break;case"FBID":e=c.toString();for(var f=0;f<e.length;++f){var h=e.charCodeAt(f);48<=h&&h<=57||g(0,11841,c)}break;case"String":e=c.toString();break;case"Enum":d===0?e=a("Int",c,null):d===1?e=a("String",c,null):d===2?e=c:g(0,5044,d);break;default:if(h=/^Nullable(\w+)$/.exec(b))c===null?e=null:e=a(h[1],c,d);else if(f=/^(\w+)Vector$/.exec(b)){!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c;var i=f[1];typeof i==="string"||g(0,5045);e=e.map(function(b){return a(i,b,d&&d.member)})}else if(h=/^(\w+)(Set|Keyset)$/.exec(b))!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c,e=e.reduce(function(a,b){a[b]=b;return a},{}),i=h[1],typeof i==="string"||g(0,5045),e=Object.keys(e).map(function(b){return a(i,e[b],d&&d.member)});else if(f=/^(\w+)To(\w+)Map$/.exec(b)){e={};var j=f[1],k=f[2];typeof j==="string"&&typeof k==="string"||g(0,5045);Object.keys(c).forEach(function(b){e[a(j,b,d&&d.key)]=a(k,c[b],d&&d.value)})}else g(0,11842,b)}return e};a=function(){function a(a,b,c){var d=this;this.$1=b;this.$2=babelHelpers["extends"]({},c.getQueryData());b=a.split("/").filter(function(a){return a});a=c.getPath().split("/").filter(function(a){return a});var e;for(var f=0;f<b.length;++f){var h=/^\{(\?)?(\*)?(\w+)\}$/.exec(b[f]);if(!h){b[f]===a[f]||g(0,5047,c.getPath());continue}var i=!!h[1],j=!!h[2];!j||f===b.length-1||g(0,11843,e);e=h[3];Object.prototype.hasOwnProperty.call(this.$1,e)||g(0,11844,e);this.$1[e].required?i&&g(0,5050,e):i||g(0,5057,e);a[f]&&(this.$2[e]=j?a.slice(f).join("/"):a[f])}Object.keys(this.$1).forEach(function(a){!d.$1[a].required||Object.prototype.hasOwnProperty.call(d.$2,a)||g(0,5051)})}var b=a.prototype;b.getExists=function(a){return this.$2[a]!==void 0};b.getBool=function(a){return this.$3(a,"Bool")};b.getInt=function(a){return this.$3(a,"Int")};b.getFloat=function(a){return this.$3(a,"Float")};b.getFBID=function(a){return this.$3(a,"FBID")};b.getString=function(a){return this.$3(a,"String")};b.getEnum=function(a){return this.$3(a,"Enum")};b.getOptionalInt=function(a){return this.$4(a,"Int")};b.getOptionalFloat=function(a){return this.$4(a,"Float")};b.getOptionalFBID=function(a){return this.$4(a,"FBID")};b.getOptionalString=function(a){return this.$4(a,"String")};b.getOptionalEnum=function(a){return this.$4(a,"Enum")};b.getIntVector=function(a){return this.$3(a,"IntVector")};b.getFloatVector=function(a){return this.$3(a,"FloatVector")};b.getFBIDVector=function(a){return this.$3(a,"FBIDVector")};b.getStringVector=function(a){return this.$3(a,"StringVector")};b.getEnumVector=function(a){return this.$3(a,"EnumVector")};b.getOptionalIntVector=function(a){return this.$4(a,"IntVector")};b.getOptionalFloatVector=function(a){return this.$4(a,"FloatVector")};b.getOptionalFBIDVector=function(a){return this.$4(a,"FBIDVector")};b.getOptionalStringVector=function(a){return this.$4(a,"StringVector")};b.getOptionalEnumVector=function(a){return this.$4(a,"EnumVector")};b.getIntSet=function(a){return this.$3(a,"IntSet")};b.getFBIDSet=function(a){return this.$3(a,"FBIDSet")};b.getFBIDKeyset=function(a){return this.$3(a,"FBIDKeyset")};b.getStringSet=function(a){return this.$3(a,"StringSet")};b.getEnumKeyset=function(a){return this.$3(a,"EnumKeyset")};b.getOptionalIntSet=function(a){return this.$4(a,"IntSet")};b.getOptionalFBIDSet=function(a){return this.$4(a,"FBIDSet")};b.getOptionalFBIDKeyset=function(a){return this.$4(a,"FBIDKeyset")};b.getOptionalStringSet=function(a){return this.$4(a,"StringSet")};b.getEnumToBoolMap=function(a){return this.$3(a,"EnumToBoolMap")};b.getEnumToEnumMap=function(a){return this.$3(a,"EnumToEnumMap")};b.getEnumToFloatMap=function(a){return this.$3(a,"EnumToFloatMap")};b.getEnumToIntMap=function(a){return this.$3(a,"EnumToIntMap")};b.getEnumToStringMap=function(a){return this.$3(a,"EnumToStringMap")};b.getIntToBoolMap=function(a){return this.$3(a,"IntToBoolMap")};b.getIntToEnumMap=function(a){return this.$3(a,"IntToEnumMap")};b.getIntToFloatMap=function(a){return this.$3(a,"IntToFloatMap")};b.getIntToIntMap=function(a){return this.$3(a,"IntToIntMap")};b.getIntToStringMap=function(a){return this.$3(a,"IntToStringMap")};b.getStringToBoolMap=function(a){return this.$3(a,"StringToBoolMap")};b.getStringToEnumMap=function(a){return this.$3(a,"StringToEnumMap")};b.getStringToFloatMap=function(a){return this.$3(a,"StringToFloatMap")};b.getStringToIntMap=function(a){return this.$3(a,"StringToIntMap")};b.getStringToStringMap=function(a){return this.$3(a,"StringToStringMap")};b.getOptionalEnumToBoolMap=function(a){return this.$4(a,"EnumToBoolMap")};b.getOptionalEnumToEnumMap=function(a){return this.$4(a,"EnumToEnumMap")};b.getOptionalEnumToFloatMap=function(a){return this.$4(a,"EnumToFloatMap")};b.getOptionalEnumToIntMap=function(a){return this.$4(a,"EnumToIntMap")};b.getOptionalEnumToStringMap=function(a){return this.$4(a,"EnumToStringMap")};b.getOptionalIntToBoolMap=function(a){return this.$4(a,"IntToBoolMap")};b.getOptionalIntToEnumMap=function(a){return this.$4(a,"IntToEnumMap")};b.getOptionalIntToFloatMap=function(a){return this.$4(a,"IntToFloatMap")};b.getOptionalIntToIntMap=function(a){return this.$4(a,"IntToIntMap")};b.getOptionalIntToStringMap=function(a){return this.$4(a,"IntToStringMap")};b.getOptionalStringToBoolMap=function(a){return this.$4(a,"StringToBoolMap")};b.getOptionalStringToEnumMap=function(a){return this.$4(a,"StringToEnumMap")};b.getOptionalStringToFloatMap=function(a){return this.$4(a,"StringToFloatMap")};b.getOptionalStringToIntMap=function(a){return this.$4(a,"StringToIntMap")};b.getOptionalStringToStringMap=function(a){return this.$4(a,"StringToStringMap")};b.getEnumToNullableEnumMap=function(a){return this.$3(a,"EnumToNullableEnumMap")};b.getEnumToNullableFloatMap=function(a){return this.$3(a,"EnumToNullableFloatMap")};b.getEnumToNullableIntMap=function(a){return this.$3(a,"EnumToNullableIntMap")};b.getEnumToNullableStringMap=function(a){return this.$3(a,"EnumToNullableStringMap")};b.getIntToNullableEnumMap=function(a){return this.$3(a,"IntToNullableEnumMap")};b.getIntToNullableFloatMap=function(a){return this.$3(a,"IntToNullableFloatMap")};b.getIntToNullableIntMap=function(a){return this.$3(a,"IntToNullableIntMap")};b.getIntToNullableStringMap=function(a){return this.$3(a,"IntToNullableStringMap")};b.getStringToNullableEnumMap=function(a){return this.$3(a,"StringToNullableEnumMap")};b.getStringToNullableFloatMap=function(a){return this.$3(a,"StringToNullableFloatMap")};b.getStringToNullableIntMap=function(a){return this.$3(a,"StringToNullableIntMap")};b.getStringToNullableStringMap=function(a){return this.$3(a,"StringToNullableStringMap")};b.getOptionalEnumToNullableEnumMap=function(a){return this.$4(a,"EnumToNullableEnumMap")};b.getOptionalEnumToNullableFloatMap=function(a){return this.$4(a,"EnumToNullableFloatMap")};b.getOptionalEnumToNullableIntMap=function(a){return this.$4(a,"EnumToNullableIntMap")};b.getOptionalEnumToNullableStringMap=function(a){return this.$4(a,"EnumToNullableStringMap")};b.getOptionalIntToNullableEnumMap=function(a){return this.$4(a,"IntToNullableEnumMap")};b.getOptionalIntToNullableFloatMap=function(a){return this.$4(a,"IntToNullableFloatMap")};b.getOptionalIntToNullableIntMap=function(a){return this.$4(a,"IntToNullableIntMap")};b.getOptionalIntToNullableStringMap=function(a){return this.$4(a,"IntToNullableStringMap")};b.getOptionalStringToNullableEnumMap=function(a){return this.$4(a,"StringToNullableEnumMap")};b.getOptionalStringToNullableFloatMap=function(a){return this.$4(a,"StringToNullableFloatMap")};b.getOptionalStringToNullableIntMap=function(a){return this.$4(a,"StringToNullableIntMap")};b.getOptionalStringToNullableStringMap=function(a){return this.$4(a,"StringToNullableStringMap")};b.$3=function(a,b){this.$5(a,b);var c=this.$1[a];if(!Object.prototype.hasOwnProperty.call(this.$2,a)&&c.defaultValue!=null){c.required&&g(0,5052);return h(b,c.defaultValue,c.enumType)}c.required||b==="Bool"||c.defaultValue!=null||g(0,11845,b,a,b,a);return h(b,this.$2[a],c.enumType)};b.$4=function(a,b){this.$5(a,b);var c=this.$1[a];c.required&&g(0,11846,b,a,b,a);c.defaultValue&&g(0,5052);return Object.prototype.hasOwnProperty.call(this.$2,a)?h(b,this.$2[a],c.enumType):null};b.$5=function(a,b){Object.prototype.hasOwnProperty.call(this.$1,a)||g(0,37317,a),this.$1[a].type===b||g(0,11848,a,b,this.$1[a].type)};return a}();f["default"]=a}),66);
__d("XController",["XControllerURIBuilder","XRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getURIBuilder=function(a){var b=this,d=new(c("XControllerURIBuilder"))(this.$1,this.$2);if(a){var e=this.getRequest(a);Object.keys(this.$2).forEach(function(a){var c=b.$2[a],f="";!c.required&&!Object.prototype.hasOwnProperty.call(c,"defaultValue")&&(f="Optional");f="get"+f+c.type;f=e[f](a);if(f==null||Object.prototype.hasOwnProperty.call(c,"defaultValue")&&f===c.defaultValue)return;c="set"+c.type;d[c](a,f)})}return d};b.getRequest=function(a){return new(c("XRequest"))(this.$1,this.$2,a)};a.create=function(b,c){return new a(b,c)};return a}();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisAPIGetFrCookieQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"_request_data"},{defaultValue:null,kind:"LocalArgument",name:"payload"}],b=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"_request_data"},{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XDTGetEncryptedCredentialsResponse",kind:"LinkedField",name:"xdt_api__v1__web__accounts__get_encrypted_credentials",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fr",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisAPIGetFrCookieQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisAPIGetFrCookieQuery",selections:b},params:{id:"6534825339958064",metadata:{},name:"PolarisAPIGetFrCookieQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisAPIGetFrCookie",["CometRelay","PolarisAPIGetFrCookieQuery.graphql","PolarisInstapi","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("PolarisAPIGetFrCookieQuery.graphql");function a(a,b){return c("justknobx")._("999")?d("CometRelay").fetchQuery(b,i,{_request_data:{},payload:a}).toPromise().then(function(a){if(a==null)throw c("err")("Failed to get Fr cookie.");return{fr:a.xdt_api__v1__web__accounts__get_encrypted_credentials.fr}}):d("PolarisInstapi").apiPost("/api/v1/web/accounts/get_encrypted_credentials/",{body:{payload:a}}).then(function(a){return a.data})}g.getFrCookie=a}),98);
__d("buildIframeOriginUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}g["default"]=a}),98);
__d("PolarisFacebookCookieSyncConstants",["URI","buildIframeOriginUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;a={error:"ig_iframe_error",ig_sync:"ig_iframe_ig_sync",ig_sync_error:"ig_iframe_ig_sync_error",ig_sync_success:"ig_iframe_ig_sync_success",ready:"ig_iframe_ready",success:"ig_iframe_success",sync:"ig_iframe_fb_sync"};b=c("buildIframeOriginUrl")("https://www.facebook.com");d=new(h||(h=c("URI")))(b).getDomain();e="fr";g.IFRAME_MESSAGES=a;g.IFRAME_ORIGIN=b;g.IFRAME_DOMAIN=d;g.FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY=e}),98);
__d("IgFrCookieUpdaterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5694");b=d("FalcoLoggerInternal").create("ig_fr_cookie_updater",a);e=b;g["default"]=e}),98);
__d("SecureMessageListener",["SecurePostMessage","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=null;this.$4=!1;this.$1=a;this.$5=function(a){b.run(a)}}var b=a.prototype;b.setEventHandler=function(a){this.$2=a;return this};b.setSupportedOrigins=function(a){this.$3=a;return this};b.skipOriginCheck_UNSAFE=function(){this.$4=!0;return this};b.beginListening=function(){this.$1.addEventListener("message",this.$5);return this};b.stopListening=function(){this.$1.removeEventListener("message",this.$5);return this};b.run=function(a){if(this.$3==null||this.$3.length===0){if(!this.$4&&a.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,a.origin))return;if(this.$2)if(this.$2.length==1)this.$2(a);else{var b=function(b){d("SecurePostMessage").sendMessageToSpecificOrigin(a.source,b,a.origin)};this.$2(a,b)}};b.isSupportedOrigin=function(a,b){if(!new RegExp("^https://").test(b))return!1;var d=new(h||(h=c("URI")))(b);return a.some(function(a){return d.isSubdomainOfDomain(a)})};return a}();g["default"]=a}),98);
__d("XPolarisFacebookSyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sync/instagram/",{})}),null);
__d("PolarisFacebookToInstagramCookieSync.react",["FBLogger","InstagramODS","PolarisFacebookCookieSyncConstants","SecureMessageListener","SecurePostMessage","XAsyncRequest","XPolarisFacebookSyncController","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.frameRef,e=a.onCleanUp;i(function(){var a=function(){c("InstagramODS").incr("web.cookie_sync.oo_cookie.start_fb_sync");var a=b.current;(a==null?void 0:a.contentWindow)!=null&&d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)},f=function(b){if(b.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)return;var f=b.data.eventName;switch(f){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:a();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_success:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_success");f=c("XPolarisFacebookSyncController").getURIBuilder().getURI();new(c("XAsyncRequest"))().setURI(f).setMethod("POST").setData({encrypted_data:(f=b.data.data)==null?void 0:f.data}).setHandler(function(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_success")}).setErrorHandler(function(a){c("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_fail");a=(a=a.errorDescription)!=null?a:"Error when syncing ig cookies";c("FBLogger")("ig_web").mustfix(a)}).send();e();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_error:c("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_error");b=(f=b.data.errorDescription)!=null?f:"Exception thrown when syncing cookie to sync ig cookie";c("FBLogger")("ig_web").mustfix(b);e()}},g=new(c("SecureMessageListener"))(window).setEventHandler(f).setSupportedOrigins([d("PolarisFacebookCookieSyncConstants").IFRAME_DOMAIN]).beginListening();return function(){g.stopListening()}},[b,e]);return null}g["default"]=a}),98);
__d("PolarisInstagramToFacebookCookieSync.react",["CometRelay","FBLogger","IgFrCookieUpdaterFalcoEvent","InstagramODS","PolarisAPIGetFrCookie","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisWebStorage","SecurePostMessage","browserHistory","gkx","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=Number(new Date().getTime());function m(a){var b=new Date().getTime()-l;a.total_latency=b.toString();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}function a(a){var b=a.frameRef,e=a.frData,f=a.onCleanUp,g=c("gkx")("4906");a=(a=c("usePolarisViewer")())==null?void 0:a.id;var h=d("browserHistory").getPath(d("browserHistory").browserHistory),l=d("CometRelay").useRelayEnvironment();h=k({browser_history_path:h,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:e,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var n=h.current;j(function(){g||(n.is_blacklisted=!0,m(n),f())},[]);a=function(a){var b=a.data.eventName;n.iframe_message_origin=a.origin;if(a.origin!==d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN){b in d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES&&(n.iframe_message_origin_mismatch=!0,m(n));return}switch(b){case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:c("InstagramODS").incr("web.frcookie.iframe.ready");n.iframe_message_ready=!0;o();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.success:c("InstagramODS").incr("web.frcookie.iframe.success");n.iframe_message_success=!0;m(n);f();break;case d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.error:c("InstagramODS").incr("web.frcookie.iframe.error");p();n.iframe_message_error=!0;m(n);break}};var o=function(){n.iframe_non_null=!1;n.iframe_content_window_non_null=!1;var a=b.current;if(a==null)return;e==null&&c("InstagramODS").incr("web.frcookie.local_storage.empty");d("PolarisAPIGetFrCookie").getFrCookie(e,l).then(function(b){n.api_data=b.fr;if(b.fr===e){m(n);f();return}n.local_storage_same_as_api=!1;var g=c("PolarisWebStorage").getLocalStorage();if(g==null){m(n);f();return}n.is_local_storage_accessible=!0;if(b.fr===""){g.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);c("InstagramODS").incr("web.frcookie.local_storage.remove");m(n);f();return}g.setItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY,b.fr);n.show_iframe=!0;n.local_storage_updated=!0;n.iframe_payload=b.fr;n.iframe_non_null=!0;a.contentWindow!=null&&(n.iframe_content_window_non_null=!0,d("SecurePostMessage").sendMessageToSpecificOrigin(a.contentWindow,{data:b.fr,eventName:d("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.sync},d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN));c("InstagramODS").incr("web.frcookie.local_storage.update")})["catch"](function(a){c("InstagramODS").incr("web.frcookie.get.error"),n.exception=a.toString(),m(n),c("FBLogger")("ig_web").catching(a).mustfix("Exception thrown when getting frCookie"),p()})},p=function(){var a=c("PolarisWebStorage").getLocalStorage();c("PolarisWebStorage").isLocalStorageSupported()&&a!=null&&a.removeItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);f()};return g&&i.jsx(c("PolarisDOMListener.react"),{event:"message",handler:a,target:window})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFacebookCookieSyncImpl.react",["IgFrCookieUpdaterFalcoEvent","JSScheduler","LegacyHidden","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisFacebookToInstagramCookieSync.react","PolarisInstagramToFacebookCookieSync.react","PolarisReactRedux","PolarisUA","PolarisWebStorage","RunComet","browserHistory","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN+"/instagram/login_sync/",o=["terms","challenge"],p=3,q=Number(new Date().getTime());function r(a){var b=new Date().getTime()-q;a.total_latency=b.toString();c("IgFrCookieUpdaterFalcoEvent").log(function(){return a})}var s=function(){if(!d("PolarisUA").isIGWebview()&&c("PolarisWebStorage").isLocalStorageSupported()){var a=c("PolarisWebStorage").getLocalStorage();if(a!=null)return a.getItem(d("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY)}return null};function t(a){var b;a=a.frData;var e=l(null);b=(b=c("usePolarisViewer")())==null?void 0:b.id;b=l({browser_history_path:d("browserHistory").getPath(d("browserHistory").browserHistory),iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:b,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:a,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var f=b.current;b=function(){f.iframe_unload=!0};var g=m(!1),i=g[0],o=g[1];k(function(){var a=null,b=null,e=d("RunComet").onAfterLoad(function(){a=(h||(h=c("JSScheduler"))).scheduleLoggingPriCallback(function(){b=window.setTimeout(function(){o(!0)},p*1e3)})});return function(){b&&window.clearTimeout(b),a&&(h||(h=c("JSScheduler"))).cancelCallback(a),e&&e.remove()}},[]);g=m(!1);var q=g[0],s=g[1];g=m(!1);var t=g[0],u=g[1];g=q&&t;return!i?null:j.jsxs(j.Fragment,{children:[j.jsx(c("LegacyHidden"),{mode:"hidden",children:j.jsx("iframe",{onError:function(){f.iframe_on_error=!0,r(f)},onLoad:function(){f.iframe_on_load=!0},ref:e,src:n,style:{border:"none",display:"none",height:0,width:0},title:"fr"})}),g?null:j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisInstagramToFacebookCookieSync.react"),{frameRef:e,frData:a,onCleanUp:function(){return s(!0)}}),j.jsx(c("PolarisFacebookToInstagramCookieSync.react"),{frameRef:e,onCleanUp:function(){return u(!0)}}),j.jsx(c("PolarisDOMListener.react"),{event:"beforeunload",handler:b,target:window})]})]})}t.displayName=t.name+" [from "+f.id+"]";function a(){var a,b=d("PolarisReactRedux").useSelector(function(a){return!!(a==null?void 0:(a=a.cookieModal)==null?void 0:a.visible)});a=(a=c("usePolarisViewer")())==null?void 0:a.id;if(b)return null;var e=d("browserHistory").getPath(d("browserHistory").browserHistory);if(o.some(function(a){return e.includes(a)})){r({browser_history_path:e,iframe_origin:d("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!0,is_control_group:!1,is_local_storage_accessible:!1,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});return null}return j.jsx(t,{frData:s()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(d){return c.sp(b("LSIssueNewTask"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},function(b){return d[3]=c.i64.to_string(a[1]),c.ftr(c.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(b){return b.queueName===a[0]&&b.context===d[3]&&b.taskValue===a[2]}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.taskId)})},function(e){return d[2]=new c.Map(),d[2].set("task_id",d[0]),d[2].set("task_queue_name",a[0]),d[2].set("task_label",d[3]),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[2])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSCreateOfflineThreadingID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return c[0]=b.i64.random(),d[0]=b.i64.and_(b.i64.or_(b.i64.lsl_(a[0],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[0],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.resolve(d)}b=a;f["default"]=b}),66);
__d("LSFilteredThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.i64.neq(a[10],f)?d[0]=a[10]:d[0]=c.i64.cast([0,0]),a[11]!==f?d[1]=a[11]:d[1]="",(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)||a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))&&!(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)&&a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))?c.seq([function(e){return d[3]=a[4]==null?c.i64.cast([-2147483648,0]):a[4],d[4]=a[7]==null?c.i64.cast([0,1]):a[7],d[10]=c.i64.gt(d[4],c.i64.cast([0,1]))&&c.i64.gt(d[3],c.i64.cast([-2147483648,0])),c.sp(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("cursor",d[2]),d[5].set("filter",a[1]),d[5].set("is_after",a[3]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[5].set("reference_thread_key",a[3]?a[5]:a[4]),d[5].set("secondary_filter",d[0]),d[5].set("filter_value",d[1]),d[5].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[6]=c.i64.add(d[11],c.i64.cast([0,0]))):d[6]=c.i64.cast([0,0]),d[7]=c.toJSON(d[5]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,313]),d[7],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[6],c.i64.cast([0,0])).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.ftr(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(247).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[3]==null?c.i64.cast([-2147483648,0]):d[3],minLastActivityTimestampMs:d[4]==null?c.i64.cast([0,1]):d[4],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],threadRangeFilterValue:d[1],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1}):(b.item,c.fe(c.ftr(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSHasMatchingAttachmentCTA",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.ct(b.ftr(b.db.table(19).fetch([[[a[0]]],"fk_attachments"]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.attachmentFbid===a[1]})).then(function(a){return c[0]=a})},function(a){return d[0]=b.i64.gt(c[0],b.i64.cast([0,0]))}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSClearMessagePlaceholderRange"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.fe(c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSetMessageDisplayedContentTypes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.attachmentType,b.xmaLayoutType],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),e,e],c[3]=f[0],c[4]=f[1],c[5]=f[2],f):(d=a.item,f=[d.replySourceTypeV2,d.replySourceId,d.text],c[3]=f[0],c[4]=f[1],c[5]=f[2],f)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=e:(b=a.item,c[7]=b.customEmoji)})},function(d){return b.i64.eq(c[0],b.i64.cast([0,6]))?c[9]=b.i64.cast([0,64]):(b.i64.eq(c[0],b.i64.cast([0,5]))?c[15]=b.i64.cast([0,4]):(b.i64.eq(c[0],b.i64.cast([0,3]))?c[16]=b.i64.cast([0,16384]):(b.i64.eq(c[0],b.i64.cast([0,2]))?c[17]=b.i64.cast([0,2]):(b.i64.eq(c[0],b.i64.cast([0,4]))?c[18]=b.i64.cast([0,2]):c[18]=a[5]?b.i64.cast([0,4096]):b.i64.cast([0,0]),c[17]=c[18]),c[16]=c[17]),c[15]=c[16]),c[9]=c[15]),c[10]=c[5]!==e&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[9],b.i64.cast([0,1])):c[9],c[11]=c[7]!==e&&c[7]===c[5]?b.i64.or_(c[10],b.i64.cast([0,128])):c[10],c[12]=b.i64.eq(c[0],b.i64.cast([0,7]))?b.i64.or_(c[11],b.i64.cast([0,8])):c[11],c[13]=b.i64.eq(c[1],b.i64.cast([0,0]))?b.i64.or_(c[12],b.i64.cast([0,1024])):b.i64.eq(c[1],b.i64.cast([0,1]))?b.i64.or_(c[12],b.i64.cast([0,2048])):c[12],c[14]=b.i64.eq(c[3],b.i64.cast([0,2]))&&c[4]!==e?b.i64.or_(c[13],b.i64.cast([0,512])):c[13],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(d){var e=d.update;d.item;return e({displayedContentTypes:a[4]?b.i64.cast([0,32]):b.i64.eq(c[3],b.i64.cast([0,3]))?b.i64.or_(c[14],b.i64.cast([0,8192])):c[14]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSUpsertReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).put({threadKey:a[0],messageId:a[2],actorId:a[3],timestampMs:a[1],reaction:a[4],authorityLevel:a[5]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("MAWDbChatId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.unsafeCoerceToChatId=a}),66);
__d("IGDThreadListNewMessageLoggingDataContext",["react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useRef,m=j({current:""});function a(a){var b=a.children;a=a.flowInstanceId;a=l(a);return i.jsx(m.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(m)}function e(){var a=k(m);(a.current===null||a.current==="")&&(a.current=c("uuidv4")());return a}g.IGDThreadListNewMessageLoggingContextProvider=a;g.useFlowInstanceIdContext=b;g.useFlowInstanceId=e}),98);
__d("MAWVerifyThreadCutover",["I64","LSContactBitOffset","Promise","ReQL","asyncToGeneratorRuntime","isThreadLevelCutoverEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("isThreadLevelCutoverEnabled")()){a=(yield a);a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(e)));return a}return(i||(i=b("Promise"))).resolve()});return j.apply(this,arguments)}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("isThreadLevelCutoverEnabled")()){a=(yield a);a=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(e)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(e))]));e=a[0];a=a[1];a=a!=null&&d("LSContactBitOffset").has(76,a);return e!=null||a}return!1});return l.apply(this,arguments)}function e(a,c){return c==null?(i||(i=b("Promise"))).resolve(!1):k(a,(h||(h=d("I64"))).of_string(c))}g.getCutoverThread=a;g.verifyThreadCutover=k;g.verifyThreadCutoverWithStringInput=e}),98);
__d("WALogger",["WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=d("WATagsLogger").TAGS([]);b=a.DEV;c=a.DEV_XMPP;e=a.LOG;f=a.WARN;d=a.ERROR;g.DEV=b;g.DEV_XMPP=c;g.LOG=e;g.WARN=f;g.ERROR=d}),98);
__d("LSMediaUrlUtils",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if((h||(h=d("I64"))).gt(a,(h||(h=d("I64"))).zero)){var b=(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()/1e3);return h.lt(a,b)}return!1}g.isTimestampExpired=a}),98);
__d("rewriteFallbackUrl",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("getLSMediaContactProfilePictureUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=c("rewriteFallbackUrl")(a.profilePictureFallbackUrl))!=null?b:a.profilePictureUrl}else return a.profilePictureUrl}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisDesktopPostLoadingShimmer.react",["cx","PolarisIGTheme.react","PolarisReactRedux","PolarisSizing","polarisPostModalHelpers","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b,c=a.dimensions,e=a.postId,f=a.viewportHeight;a=a.viewportWidth;var g=a!=null&&a>d("PolarisSizing").MEDIUM_SCREEN_MIN;b=(b=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostOrNullById(a,(a=e)!=null?a:"")}))==null?void 0:b.isSponsored;b=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:c,hasFooter:b,hasSidebarInRedesign:g,viewportHeight:(b=f)!=null?b:0,viewportWidth:(f=a)!=null?f:0});return j.jsx("div",babelHelpers["extends"]({className:"_aas3"+(g&&c!=null&&c.width>=c.height?" _aas4":"")},b,{children:j.jsx(l,{dimensions:c})}))}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.dimensions;var b={},c=d("PolarisIGTheme.react").useTheme();a&&(b.paddingBottom=d("PolarisSizing").getHeightPercent(a)+"%");return j.jsx("div",{className:"_aas5"+(c.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?" _aas6":""),style:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.dimensions,c=a.postId,d=a.viewportHeight;a=a.viewportWidth;return j.jsx(k,{dimensions:b,postId:c,viewportHeight:d,viewportWidth:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.dimensions,c=a.postId,d=a.viewportHeight;a=a.viewportWidth;var e={};b&&(e={flexDirection:"row"});return j.jsxs("div",{className:"_aas7",style:e,children:[j.jsx(m,{dimensions:b,postId:c,viewportHeight:d,viewportWidth:a}),j.jsxs("div",{className:"_aas8",children:[j.jsxs("div",{className:"_aas9",children:[j.jsx("div",{className:"_aasa"}),j.jsxs("div",{className:"_aasb",children:[j.jsx("div",{className:"_aasc"}),j.jsx("div",{className:"_aasd"})]})]}),j.jsxs("div",{className:"_aase",children:[j.jsx("div",{className:"_aasf"}),j.jsx("div",{className:"_aasg"}),j.jsx("div",{className:"_aash"})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.SIDEBAR_VARIANT_CUTOFF=d("PolarisSizing").MEDIUM_SCREEN_MIN;g.DesktopPostLoadingShimmer=a}),98);
__d("PolarisPostModalLoading.react",["IGDSBox.react","IGDSSpinner.react","PolarisDesktopPostLoadingShimmer.react","PolarisPostConstants","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.dimensions,e=a.postId,f=a.viewportHeight;a=a.viewportWidth;return d("PolarisUA").isDesktop()&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF?i.jsx(d("PolarisDesktopPostLoadingShimmer.react").DesktopPostLoadingShimmer,{dimensions:b,postId:e,viewportHeight:f,viewportWidth:a}):i.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:i.jsx(c("IGDSSpinner.react"),{color:"light",size:"medium"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModalPaginationArrow.react",["cx","IGDSChevronIcon","Locale","PolarisGenericStrings","PolarisIGCoreSVGIconButton","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.direction;a=a.onClick;var e=c("Locale").isRTL(),f=b==="back"&&!e||b==="next"&&e;e=b==="next"&&!e||b==="back"&&e;return j.jsx("div",{className:(f?"_aaqf":"")+(e?" _aaqg":"")+" _aaqh",children:j.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:a,children:j.jsx(c("IGDSChevronIcon"),{alt:f?d("PolarisGenericStrings").GO_BACK:d("PolarisGenericStrings").NEXT,color:"web-always-black",direction:b,size:16})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModalInternal.react",["cx","IGCoreModal","IGCoreModalLocation","PolarisAutoplayViewpointManager.react","PolarisConfig","PolarisDOMListener.react","PolarisLogger","PolarisPostActionLoadPost","PolarisPostModalLoading.react","PolarisPostModalPaginationArrow.react","PolarisPostModalRenderingContext","PolarisReactRedux","PolarisRoutes","PolarisThreadedCommentActions","getPolarisKeyCommandConfig","nullthrows","polarisPostModalHelpers","polarisPostSelectors","react","useGlobalKeyCommands","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useRef,o={isInModal:!0};function a(a){var b=a.analyticsContext,e=a.children,f=a.combinedPostIds,g=f===void 0?[]:f;f=a["data-testid"];f=a.dimensions;var h=a.mediaLinkBuilder,i=a.modalEntryPath;i=i===void 0?d("PolarisRoutes").FEED_PATH:i;var p=a.onClose,q=a.onlyReplaceModalHistory,r=a.onOpen,s=a.postCode,t=a.postId,u=a.showLoadingShimmer,v=a.skipMediaInfo,w=d("PolarisReactRedux").useDispatch(),x=n(null);a=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getAreCommentsFetched(a,t)});var y=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getIsPostDataFetched(a,s)}),z=d("PolarisConfig").isLoggedIn()===!0?y:y&&a;y=k(function(){z||(v===!0?w(d("PolarisThreadedCommentActions").requestInitialComments(t)):w(d("PolarisPostActionLoadPost").loadPost(s,t)))},[v,z,w,s,t]);l(y,[y]);var A=g.findIndex(function(a){return a===t}),B=k(function(a){return a>=0&&a<g.length},[g.length]),C=k(function(a){a=A+a;B(a)&&r&&r(c("nullthrows")(g[a]),a)},[g,A,B,r]),D=k(function(a){p(a),x.current!=null&&x.current.returnToEntry()},[p]);a=m(function(){return[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateLeft",function(){C(d("polarisPostModalHelpers").LEFT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateRight",function(){C(d("polarisPostModalHelpers").RIGHT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","exit",function(){D()})]},[C,D]);c("useGlobalKeyCommands")(a);y=function(a){return function(b){if(b.metaKey||b.ctrlKey)return;b.preventDefault();b.stopPropagation();C(a);d("PolarisLogger").logAction("postModalArrowClick")}};a=k(function(){var a=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(b);a.length>0&&d("PolarisLogger").logPageView(a,{page_id:a,post_id:t})},[b,t]);var E=B(A-1),F=B(A+1);E=j.jsx("div",{className:"_aeap _aeaq",children:j.jsxs("div",{className:"_aear",children:[E&&j.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"back",onClick:y(d("polarisPostModalHelpers").LEFT_DELTA)}),F&&j.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"next",onClick:y(d("polarisPostModalHelpers").RIGHT_DELTA)})]})});F=c("usePolarisDisplayProperties")();y=F.viewportHeight;F=F.viewportWidth;u=j.jsx(j.Fragment,{children:!z&&u?j.jsx(c("PolarisPostModalLoading.react"),{dimensions:f,postId:t,viewportHeight:y,viewportWidth:F}):e});f=j.jsx(c("IGCoreModal"),{aboveContent:E,backgroundColor:"DEPRECATED_transparent",closeButtonPosition:"background","data-testid":void 0,onClose:D,size:"fullscreenResponsive",children:u});return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisAutoplayViewpointManager.react").FullscreenAutoplayViewpointClipRegion,{id:"postModal"}),j.jsx(c("IGCoreModalLocation"),{entryPath:i,nativeReplace:!0,onlyReplaceModalHistory:q,onUpdateHistory:a,pageID:"postPage",parentModule:"PolarisPostModal",path:h(s),ref:x}),j.jsx(c("PolarisDOMListener.react"),{event:"popstate",handler:D,once:!0,target:window}),j.jsx(d("PolarisPostModalRenderingContext").PolarisPostModalRenderingContext.Provider,{value:o,children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInstantPostModal.react",["PolarisPostModalInternal.react","PolarisProfileTabTaggedPhotosConstants","polarisPostModalHelpers","react","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=!1,f=!1,g=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(a.analyticsContext)==="profilePageModal";b=((b=a.modalEntryPath)==null?void 0:b.endsWith("/"+d("PolarisProfileTabTaggedPhotosConstants").TAGGED_TAB_ID+"/"))===!0;g&&!b&&(e=!0);g=d("usePolarisPost").usePost(a.postId,function(a){return a.isVideo});b&&g===!0&&(f=!0);return i.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:f,skipMediaInfo:e}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaBrowserPostModal.react",["invariant","PolarisInstantPostModal.react","PolarisIsLoggedInDesktop","PolarisPost.react","PolarisPostVariants","PolarisReactRedux","PolarisRoutes","isStringNullOrEmpty","nullthrows","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.analyticsContext,e=a.combinedPosts,f=a.mediaLinkBuilder,g=a.modalEntryPath,i=a.onClose,l=a.onImpression,m=a.onOpen,n=a.postId,o=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getDeletedIds(a)});a=e.map(function(a){return a.id});var p=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostOrNullById(a,n)});k(function(){p==null&&(o.includes(n)||h(0,51476),i())},[o,i,p,n]);return p==null?null:j.jsx(c("PolarisInstantPostModal.react"),{analyticsContext:b,combinedPostIds:a,dimensions:p.dimensions,mediaLinkBuilder:f,modalEntryPath:c("isStringNullOrEmpty")(g)?d("PolarisRoutes").FEED_PATH:g,onClose:i,onOpen:m,postCode:c("nullthrows")(p.code),postId:n,children:j.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:n,isVisible:!0,onImpression:l,shortcode:p.code,testid:void 0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostModal.react",["PolarisPostModalInternal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:!0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsItemModal.react",["IGRouter","PolarisClipsHelpers","PolarisLinkBuilder","PolarisPost.react","PolarisPostModal.react","PolarisPostVariants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b=a.analyticsContext,e=a.clips,f=a.history,g=a.onClose,h=a.onOpen;a=a.postId;f=j(f.location.pathname);var k=d("PolarisClipsHelpers").getClipItemFromPostID(e,a);if(!k)return null;e=e.map(function(a){return c("nullthrows")((a=a.media)==null?void 0:a.pk)});return i.jsx(c("PolarisPostModal.react"),{analyticsContext:b,combinedPostIds:e,dimensions:d("PolarisClipsHelpers").getClipDimensionsFromItemDict(k),mediaLinkBuilder:d("PolarisLinkBuilder").buildClipsMediaLink,modalEntryPath:f.current,onClose:g,onOpen:h,postCode:c("nullthrows")((e=k.media)==null?void 0:e.code),postId:a,children:i.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:!0,id:a,isVisible:!0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";b=d("IGRouter").withIGRouter(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("PolarisDynamicExplorePostModal.react",["PolarisDynamicExploreMediaHelpers","PolarisDynamicExploreTypes","PolarisInstantPostModal.react","PolarisIsLoggedInDesktop","PolarisLinkBuilder","PolarisPost.react","PolarisReactRedux","polarisDynamicExploreSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.analyticsContext,e=a.exploreGridQuery,f=a.exploreGridType,g=a.modalEntryPath,h=a.onClose,j=a.onOpen,k=a.postId;a=d("PolarisReactRedux").useSelector(function(a){return d("polarisDynamicExploreSelectors").getPostModalCompatibleGridItemIds(a,f,e)});var l=d("PolarisReactRedux").useSelector(function(a){return d("polarisDynamicExploreSelectors").getGridItems(a,f,e).find(function(a){return d("PolarisDynamicExploreMediaHelpers").getPostId(a)===k})});return l!=null&&i.jsx(c("PolarisInstantPostModal.react"),{analyticsContext:b,combinedPostIds:a,dimensions:d("PolarisDynamicExploreMediaHelpers").getPostDimensions(l),mediaLinkBuilder:d("PolarisLinkBuilder").buildMediaLink,modalEntryPath:g,onClose:h,onlyReplaceModalHistory:f===d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,onOpen:j,postCode:d("PolarisDynamicExploreMediaHelpers").getPostCode(l),postId:k,children:i.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:k,isVisible:!0,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLiveCreationModalLazy.react",["CometPlaceholder.react","IGCoreModal","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisSizing","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisLiveCreationModal.react").__setRef("PolarisLiveCreationModalLazy.react"));function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("IGCoreModal"),{backdropColor:"dark",children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",maxWidth:d("PolarisSizing").FEED_WIDTH_WIDE,position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function a(){return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("IGCoreModal"),{children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:i.jsx(j,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPaidAdsPixelContainerDeferredV2.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferred")("PolarisPaidAdsPixelsContainerV2.react").__setRef("PolarisPaidAdsPixelContainerDeferredV2.react"));g["default"]=a}),98);
__d("XRefererFrameControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/common/referer_frame.php",Object.freeze({no_lower:!1}),void 0);b=a;g["default"]=b}),98);
__d("isDollyFBURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)&&a.getSubdomain()==="store"}g["default"]=a}),98);
__d("isWhatsAppBlogURI",[],(function(a,b,c,d,e,f){var g=new RegExp("^blog\\.whatsapp\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("ControlledReferer",["invariant","Bootloader","ConstUriUtils","CookieConsent","XRefererFrameControllerRouteBuilder","getRequestConstUri","gkx","isDollyFBURI","isInstagramURI","isInternalFBURI","isMessengerDotComURI","isMetaDotComURI","isOculusDotComURI","isWhatsAppBlogURI","isWorkplaceDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f,g,h){var i;function j(a,b,e){if(!(i||(i=c("CookieConsent"))).isThirdPartyIframeAllowed(a)){c("Bootloader").loadModules(["ODS"],function(a){a.bumpEntityKey(2966,"defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}function f(){var c="";try{c=a.contentWindow.location.pathname}catch(a){return}if(c!=="/intern/common/referer_frame.php"&&c!=="/common/referer_frame.php"&&c!=="/common/referer_frame.php/")return;a.contentWindow.document.body.style.margin=0;b()}var g=c("gkx")("708253")&&c("gkx")("4142")&&!c("lowerFacebookDomain").isValidDocumentDomain();g=c("XRefererFrameControllerRouteBuilder").buildUri({no_lower:g});var j;c("isMessengerDotComURI")(c("getRequestConstUri")())||c("isInstagramURI")(c("getRequestConstUri")())||c("isWhatsAppBlogURI")(c("getRequestConstUri")())||c("isMetaDotComURI")(c("getRequestConstUri")())||c("isDollyFBURI")(c("getRequestConstUri")())||c("isWorkplaceDotComURI")(c("getRequestConstUri")())?j=g:c("isOculusDotComURI")(c("getRequestConstUri")())?j=g:c("isInternalFBURI")(c("getRequestConstUri")())?j=d("ConstUriUtils").getUri("/intern/common/referer_frame.php"):j=g;e==null&&c("isWorkplaceDotComURI")(c("getRequestConstUri")())&&(e="workplace");if(e){j=(g=j)==null?void 0:g.addQueryParam("fb_source",e)}j!=null||h(0,67317);a.onload=f;a.src=j.toString()}function a(a,b,c){j(a,function(){a.contentWindow.document.body.innerHTML=b},c)}g.shouldUseFacebookReferer=j;g.useFacebookRefererHtml=a}),98);
__d("StaticContainer.react",["React"],(function(a,b,c,d,e,f,g){var h=d("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:h.Children.only(a)};return b}(h.Component);g["default"]=a}),98);
__d("isTruthy",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&Boolean(a)}f["default"]=a}),66);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","SecurePostMessage","StaticContainer.react","TrustedTypesNoOpPolicy_DO_NOT_USE","URI","isTruthy","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.mountFrameRef=function(a){this.frame=a};e.updateFrame=function(){var a=this,b=this.frame;if(!b)return;this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props);d("ControlledReferer").shouldUseFacebookReferer(b,function(){var e=b.contentWindow.document;e.body.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML('\n        <form method="GET" id="theform"></form>\n        '+d("ControlledRefererIFrameConfig").additional_markup+"\n      ");var f=new(h||(h=c("URI")))(a.props.src).qualify(),g=e.getElementById("theform");g.action=f.toString();f=f.getQueryData();for(var i in f)if(Object.prototype.hasOwnProperty.call(f,i)){var j=e.createElement("input");j.name=i;j.setAttribute("value",f[i]);j.autocomplete="off";j.type="hidden";g.appendChild(j)}j='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      ';if(c("isTruthy")(a.props.useTrustedHtml)){g=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(e.body.innerHTML+j);a.props.onFrameRender&&a.props.onFrameRender(a.props);e.body.innerHTML=g}else e.body.innerHTML+=j;a.props.onFrameRender&&a.props.onFrameRender(a.props)})};e.componentDidMount=function(){this.updateFrame()};e.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};e.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};e.render=function(){var a=this,b=this.props;b.src;b.onFrameRender;b.onBeforeFrameRender;b.useTrustedHtml;b=babelHelpers.objectWithoutPropertiesLoose(b,["src","onFrameRender","onBeforeFrameRender","useTrustedHtml"]);return j.jsx(c("StaticContainer.react"),{children:j.jsx("iframe",babelHelpers["extends"]({},b,{ref:function(b){return a.mountFrameRef(b)}}))})};e.postMessage=function(a,b){this.frame&&c("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,b)};return b}(j.PureComponent);g["default"]=a}),98);
__d("PolarisPaidAdsPixelsContainerV2.react",["ControlledRefererIFrame.react","PolarisErrorBoundary.react","PolarisWebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=1e3*60*60*24;var j=b*7,k="pixel_fire_ts";function l(){var a=c("PolarisWebStorage").getLocalStorage();if(!a)return null;var b=parseInt(a.getItem(k),10);return Date.now()-b<j?null:i.jsx(c("ControlledRefererIFrame.react"),{hidden:!0,onFrameRender:function(){a.setItem(k,Date.now().toString())},src:"/paid_ads/generete_pixels/"},"pixels_iframe")}l.displayName=l.name+" [from "+f.id+"]";function a(){return i.jsx(c("PolarisErrorBoundary.react"),{children:i.jsx(l,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisFeedActionFetchFeedDataFromNative",["invariant","InteractionTracing","PolarisAPIFetchFeedTimeline","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.cursor,e=a.feedViewInfo,f=a.getFeedQuery;a=a.paginationSource;if(f!=null){var g=f();g.status==="LOADING"&&(yield g.promise);g=f();g.status!=="LOADING"||h(0,61393);if(g.status==="ERROR")throw g.error;var i=g.response;c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("feed_preload_num_items",i.num_results)});return i}else return d("PolarisAPIFetchFeedTimeline").fetchFeedTimeline({cursor:b,feedViewInfo:e,paginationSource:a})});return i.apply(this,arguments)}g.fetchFeedDataFromNative=a}),98);
__d("getPolarisClientViewStateMediaList",["PolarisFeedState","PolarisLoggerUtils","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a.type===d("PolarisFeedState").END_OF_FEED_DEMARCATOR_TYPE)return{id:a.id,type:0};if(a.type===d("PolarisFeedState").GRAPH_SUGGESTED_USER_FEED_UNIT_TYPE){var c;return{id:a.id,type:Number((c=(c=a.trackingInfo)==null?void 0:c.type)!=null?c:0)}}b=b.get((c=a.postId)!=null?c:"");c=a.postId;a=b==null?void 0:(a=b.owner)==null?void 0:a.id;if(c!=null&&a!=null){return{id:d("PolarisLoggerUtils").getFormattedMediaID(c,a),type:(c=b==null?void 0:b.viewStateItemType)!=null?c:0}}return null}function a(a,b){if(a==null)return null;a=a.map(function(a){return h(a,b)});return JSON.stringify(c("filterNulls")(a.toArray()))}g["default"]=a}),98);
__d("getPolarisFeedRecsPagingToken",["PolarisFeedState","PolarisLoggerUtils","PolarisMediaConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=-1;function i(a,b,c){for(var d=a.length-1;d>=0;d--){var e=a[d].postId;e=b.get((e=e)!=null?e:"");if(c){if(e!=null&&e.isSponsored===!1)return d}else if(e!=null&&e.isSponsored===!0)return d}return h}function j(a,b,c){var e=i(a,b,c);if(e===h)return null;a=a[e];a=a.postId;b=(b=b.get((b=a)!=null?b:""))==null?void 0:(b=b.owner)==null?void 0:b.id;if(a!=null&&b!=null){a={id:d("PolarisLoggerUtils").getFormattedMediaID(a,b),index:e};c||(a.type=d("PolarisMediaConstants").UnitItemType.AD);return a}return null}function k(a){return a.findIndex(function(a){return a.type===d("PolarisFeedState").END_OF_FEED_DEMARCATOR_TYPE})}function a(a,b){if(a==null)return null;var c=k(a),d=a.length-1;if(c===h||c===d)return null;var e={total_num_items:d-c};a=a.slice(c+1,d+1);c=j(a,b,!1);c!=null&&(e.last_non_organic_item=c);d=j(a,b,!0);d!=null&&(e.last_organic_item=d);return JSON.stringify(e)}g.getPolarisFeedRecsPagingToken=a}),98);
__d("PolarisFeedActionLoadNextPage",["invariant","PolarisAPIFetchFeedTimeline","PolarisFeedActionBuildPastPostsAction","PolarisFeedLogger","PolarisFeedTypes","PolarisInstajax","PolarisLogger","PolarisMonitorErrors","PolarisPrioritizedTask","Promise","getPolarisClientViewStateMediaList","getPolarisFeedRecsPagingToken","isStringNullOrEmpty","nullthrows","polarisFeedReducer","processPolarisFeedItems"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,e){a===void 0&&(a={priority:d("PolarisPrioritizedTask").HIGH_PRIORITY});return function(f,g){g=g();var j=g.feed,k=j.currentFeed;j=j.nextPageTask;var l=d("polarisFeedReducer").getFeedContent(g.feed),m=l.isLoadingNextPage,n=l.items,o=l.paginationInfo;if(j){j.setOptions(a);return(i||(i=b("Promise"))).resolve()}if(m)return(i||(i=b("Promise"))).resolve();var p=null,q=c("getPolarisClientViewStateMediaList")(n,g.posts.byId);o||h(0,51375);l=o.moreAvailable;p=o.cursor;l===!0&&!c("isStringNullOrEmpty")(p)||h(0,51379);d("PolarisLogger").logAction("feedNextPageAttempt");var r=d("getPolarisFeedRecsPagingToken").getPolarisFeedRecsPagingToken(n==null?void 0:n.toArray(),g.posts.byId),s=null,t=!1;j=new(d("PolarisPrioritizedTask").PrioritizedTask)(a,function(){return t?(i||(i=b("Promise"))).resolve():d("PolarisAPIFetchFeedTimeline").fetchFeedTimeline({before:function(a){s=a},clientViewStateMediaList:q,cursor:p,feedRecsPagingToken:r,feedViewInfo:e,paginationSource:o==null?void 0:o.paginationSource}).then(function(a){var b=c("nullthrows")(a.feed_items);b=c("processPolarisFeedItems")({items:b,previousItems:n});d("PolarisLogger").logAction("feedNextPageSuccess");var e=d("PolarisFeedActionBuildPastPostsAction").buildPastPostsAction(b);e&&f(e);return{ads:b.ads,comments:b.comments,feedItems:b.feedItems,feedToUpdate:k,groups:b.groups,paginationInfo:{cursor:a.next_max_id,moreAvailable:a.more_available,paginationSource:d("PolarisFeedTypes").PaginationSource.cast(a.pagination_source)},posts:b.posts,type:"FEED_NEXT_PAGE_LOADED_V2",users:b.users}}).then(f)["catch"](function(a){d("PolarisLogger").logAction("feedNextPageFailure"),d("PolarisFeedLogger").logFeedNextPageLoadFailure(a),f({type:"FEED_NEXT_PAGE_FAILED"}),a instanceof d("PolarisInstajax").AjaxError||d("PolarisMonitorErrors").logError(a)})});f({abort:function(){t=!0,s&&s.abort()},task:j,type:"FEED_NEXT_PAGE_REQUESTED"});return j.run()}}g.loadNextPage=a}),98);
__d("PolarisFeedActionLoadFeedPageFromNative",["InteractionTracing","PolarisAdsActions","PolarisAdsGatingHelpers","PolarisFeedActionBuildFeedPageLoadedActionV2","PolarisFeedActionConstants","PolarisFeedActionFetchFeedDataFromNative","PolarisFeedActionLoadFeedPageExtras","PolarisFeedActionLoadNextPage","PolarisFeedTypes","PolarisLogger","PolarisMediaPrefetchActions","PolarisPrioritizedTask","QuickPerformanceLogger","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.backgroundFetch,f=a.feedViewInfo,g=a.getFeedQuery,i=a.getStoryTrayQuery,j=a.preloadedFeedQueryId;return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(27459585,"2172"));a(d("PolarisFeedActionLoadFeedPageExtras").loadFeedPageExtras(i));j!=null?(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"feed_early_flush_wait"):(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"network_request");try{d("PolarisLogger").logAction("feedFirstPageAttempt");e?d("PolarisLogger").logAction("feedBackgroundFetchAttempt"):d("PolarisLogger").logAction("feedForegroundFetchAttempt");var k=d("PolarisFeedActionFetchFeedDataFromNative").fetchFeedDataFromNative({feedViewInfo:f,getFeedQuery:g}).then(function(f){c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("num_feed_items_from_feed_action",f.num_results)});var g=d("PolarisFeedActionBuildFeedPageLoadedActionV2").buildFeedPageLoadedActionV2(a,f,"home");if(d("PolarisAdsGatingHelpers").isStoryAdsPrefetchingAfterFeedRequestEnabled()){var h=b();a(d("PolarisAdsActions").loadInjectedStoryUnitsPrefetch(h))}d("PolarisLogger").logAction("feedFirstPageSuccess");e?d("PolarisLogger").logAction("feedBackgroundFetchSuccess"):d("PolarisLogger").logAction("feedForegroundFetchSuccess");return g});k["catch"](function(a){d("PolarisLogger").logAction("feedFirstPageFailure"),e?d("PolarisLogger").logAction("feedBackgroundFetchFailure",{error_message:a==null?void 0:a.message}):d("PolarisLogger").logAction("feedForegroundFetchFailure",{error_message:a==null?void 0:a.message})});a(yield k);k=b().feed.content.home.paginationInfo;(k==null?void 0:k.paginationSource)===d("PolarisFeedTypes").PaginationSource.FEED_RECS&&a(d("PolarisFeedActionLoadNextPage").loadNextPage({priority:d("PolarisPrioritizedTask").HIGH_PRIORITY}));(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"network_response");a(d("PolarisMediaPrefetchActions").startMediaPrefetch(d("PolarisFeedActionConstants").FEED_VIEW))}catch(a){(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(27459585,"2172"),"network_response_failure"),h.markerEnd(c("qpl")._(27459585,"2172"),3),d("PolarisLogger").logAction("feedFirstPageFailure"),e?d("PolarisLogger").logAction("feedBackgroundFetchFailure",{error_message:a==null?void 0:a.message}):d("PolarisLogger").logAction("feedForegroundFetchFailure",{error_message:a==null?void 0:a.message})}});return function(b,c){return a.apply(this,arguments)}}()}g.loadFeedPageFromNative=a}),98);
__d("PolarisFeedActionInitFeed",["PolarisFeedActionLoadFeedPageFromNative","asyncToGeneratorRuntime","polarisFeedReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.backgroundFetch,e=c===void 0?!1:c,f=a.feedViewInfo,g=a.preloadedFeedQuery,h=a.preloadedFeedQueryId,i=a.preloadedStoryTrayQuery,j=a.preloadedStoryTrayQueryId,k=a.queryStore;return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b();b=d("polarisFeedReducer").getFeedContent(b.feed,"home");var c=b.isLoadingPosts;b=b.items;b=!b&&!c;if(b){a({type:"FEED_LOADING"});c=null;b=null;if(k!=null){if(g!=null&&(g.preloadEnabledOnInit||g.preloadEnabledOnNav)){var l=k.loadPostQuery([g.request.url,g.request.params],void 0,h);c=function(){return k.getPostResponse(l)}}if(i!=null&&(i.preloadEnabledOnInit||i.preloadEnabledOnNav)){var m=k.loadGetQuery([i.request.url,i.request.params],void 0,j);b=function(){return k.getGetResponse(m)}}}a(d("PolarisFeedActionLoadFeedPageFromNative").loadFeedPageFromNative({backgroundFetch:e,feedViewInfo:f,getFeedQuery:c,getStoryTrayQuery:b,preloadedFeedQueryId:h}))}});return function(b,c){return a.apply(this,arguments)}}()}g.initFeed=a}),98);/*FB_PKG_DELIM*/
__d("BaseBadge.react",["CometVisualCompletionAttributes","react","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{alignItems:"x6s0dn4",borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",boxSizing:"x9f619",display:"x3nfvp2",justifyContent:"xl56j7k",$$css:!0}};a=function(a){var b=a.children,d=a.testid,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","testid","xstyle"]);return j.jsx("span",babelHelpers["extends"]({},a,{className:(h||(h=c("stylex")))([k.root,e])},c("testID")(d),c("CometVisualCompletionAttributes").IGNORE,{children:b}))};g["default"]=a}),98);
__d("BaseStyledBadge.react",["BaseBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={6:{height:"xols6we",width:"x1v4s8kt",$$css:!0},7:{height:"x1hagigm",width:"xci0xqf",$$css:!0},8:{height:"xdk7pt",width:"x1xc55vz",$$css:!0},9:{height:"xegnrdp",width:"x1wc42o8",$$css:!0},10:{height:"x170jfvy",width:"x1fsd2vl",$$css:!0},12:{height:"x1kpxq89",width:"xsmyaan",$$css:!0},14:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},15:{height:"xx3o462",width:"x1a00udw",$$css:!0},18:{height:"xmix8c7",width:"x1xp8n7a",$$css:!0},20:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},22:{height:"x17rw0jw",width:"x17z2i9w",$$css:!0},24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},41:{height:"x1njhlm6",width:"x1r9kitl",$$css:!0}},k={6:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x5see2y",borderEndWidth:"x8ebbdf",borderBottomWidth:"x1pzews7",borderStartWidth:"x1r61nuk",height:"xegnrdp",width:"x1wc42o8",$$css:!0},7:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x6w4g8m",width:"x10vfzb2",$$css:!0},8:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x1kpxq89",width:"xsmyaan",$$css:!0},9:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x18gnavp",width:"x1fxhmyf",$$css:!0},10:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x1v9usgg",width:"x6jxa94",$$css:!0},12:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"xlup9mm",width:"x1kky2od",$$css:!0},14:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"xmix8c7",width:"x1xp8n7a",$$css:!0},15:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"xhvdbge",width:"xn6xy2s",$$css:!0},18:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"x17rw0jw",width:"x17z2i9w",$$css:!0},20:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},22:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x1gnnpzl",width:"x1849jeq",$$css:!0},24:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x10w6t97",width:"x1td3qas",$$css:!0},32:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x1vqgdyp",width:"x100vrsf",$$css:!0},41:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",height:"x112a4uq",width:"x15jighw",$$css:!0}};function a(a){var b=a.border;b=b===void 0?!1:b;var d=a.children,e=a.colorXStyle,f=a.size;f=f===void 0?8:f;var g=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["border","children","colorXStyle","size","xstyle"]);return i.jsx(c("BaseBadge.react"),babelHelpers["extends"]({},a,{xstyle:[e,b?k[f]:j[f],g],children:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometBadge.react",["BaseStyledBadge.react","getCometBadgeColorStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={borderDark:{borderTopColor:"x1o7swki",borderEndColor:"xp7cj6j",borderBottomColor:"x1bkzgmd",borderStartColor:"xl02xpf",$$css:!0},borderWhite:{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",$$css:!0},isNoneProfileBadge:{marginEnd:"x1emribx",$$css:!0}},k={6:{marginStart:"x1w4ip6v",width:"x1wc42o8",$$css:!0},7:{marginStart:"x1b2warb",width:"xaw7vzs",$$css:!0},8:{marginStart:"xsgj6o6",width:"xsmyaan",$$css:!0},9:{marginStart:"x1hvlnb8",width:"x197psvt",$$css:!0},10:{marginStart:"x8j4wrb",width:"x1a00udw",$$css:!0},12:{marginStart:"x1mnrxsn",width:"x1xp8n7a",$$css:!0},14:{marginStart:"xnfveip",width:"x1kl0l3y",$$css:!0},15:{marginStart:"xpw6ms",width:"xpcibvc",$$css:!0},18:{marginStart:"x1cxxrxm",width:"xo7uitg",$$css:!0},20:{marginStart:"x17adc0v",width:"x1849jeq",$$css:!0},22:{marginStart:"x1hy63sm",width:"x1npj6m0",$$css:!0},24:{marginStart:"x16n37ib",width:"x14qfxbe",$$css:!0},32:{marginStart:"x1d52u69",width:"x1useyqa",$$css:!0},41:{marginStart:"x1v860g0",width:"x1yaf2ey",$$css:!0}},l={6:{marginStart:"x1mnrxsn",width:"xsmyaan",$$css:!0},7:{marginStart:"xnfveip",width:"x6jxa94",$$css:!0},8:{marginStart:"x1i64zmx",width:"x1kky2od",$$css:!0},9:{marginStart:"x1cxxrxm",width:"x1xp8n7a",$$css:!0},10:{marginStart:"x17adc0v",width:"xw4jnvo",$$css:!0},12:{marginStart:"x16n37ib",width:"xvy4d1p",$$css:!0},14:{marginStart:"xwycmqc",width:"xgd8bvy",$$css:!0},15:{marginStart:"x13ibhcj",width:"x1849jeq",$$css:!0},18:{marginStart:"x1sliqq",width:"x14qfxbe",$$css:!0},20:{marginStart:"xmn8rco",width:"x100vrsf",$$css:!0},22:{marginStart:"x1tv9t25",width:"x187nhsf",$$css:!0},24:{marginStart:"xmupa6y",width:"x1useyqa",$$css:!0},32:{marginStart:"x8vdgqj",width:"x1fu8urw",$$css:!0},41:{marginStart:"x2vb376",width:"x1pigqs1",$$css:!0}};function a(a){var b=a.border;b=b===void 0?"none":b;var d=a.children,e=a.color;e=e===void 0?"blue":e;var f=a.colorOverride,g=a.isProfileBadge;g=g===void 0?!1:g;var h=a.label,m=a.size;m=m===void 0?8:m;var n=a.wide;n=n===void 0?"normal":n;a=babelHelpers.objectWithoutPropertiesLoose(a,["border","children","color","colorOverride","isProfileBadge","label","size","wide"]);return i.jsx(c("BaseStyledBadge.react"),babelHelpers["extends"]({},a,{"aria-label":h,border:b!=="none",colorXStyle:(a=f)!=null?a:c("getCometBadgeColorStyle")(e),size:m,xstyle:[!g&&j.isNoneProfileBadge,b==="white"&&j.borderWhite,b==="dark"&&j.borderDark,n==="wide"&&k[m],n==="extraWide"&&l[m]],children:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometRelativeTimestamp.react",["fbt","react","react-strict-dom","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;e=i||d("react");function j(a,b){if(b==="minimized")return h._("__JHASH__fwsgSNrW38G__JHASH__");else if(b==="shortened")return h._("__JHASH__R3_UwncmzVK__JHASH__");return h._("__JHASH__n-vdMzQYLNI__JHASH__")}function k(a,b){return b==="minimized"?h._("__JHASH__-b-qMPARzNx__JHASH__"):h._("__JHASH__7tk0E3psPN9__JHASH__")}function l(a,b){if(b==="minimized")return h._("__JHASH__-dvS8T7Zewj__JHASH__",[h._param("minutes",a,[0])]);else if(b==="shortened")return h._("__JHASH__pJYDYNmcCNm__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__Cf0HUgiMq4T__JHASH__",[h._plural(a,"number")])}function m(a,b){if(b==="minimized")return h._("__JHASH__aQr_BY-obs4__JHASH__",[h._param("minutes",a,[0])]);else if(b==="shortened")return h._("__JHASH__c6NQLZH4ANd__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__hSOa9acW7bb__JHASH__",[h._plural(a,"number")])}function n(a,b){if(b==="minimized")return h._("__JHASH__dJku-irc6Vq__JHASH__",[h._param("hours",a)]);else if(b==="shortened")return h._("__JHASH__fgynbiSDJGc__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__6moQMMAESbv__JHASH__",[h._plural(a,"number")])}function o(a,b){if(b==="minimized")return h._("__JHASH__my9Q52IIrzO__JHASH__",[h._param("hours",a)]);else if(b==="shortened")return h._("__JHASH__aKe8M_AKzI3__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__KshjW5ZSXeJ__JHASH__",[h._plural(a,"number")])}function p(a,b){if(b==="minimized")return h._("__JHASH__7vrBSek8hqf__JHASH__",[h._param("days",a)]);else if(b==="shortened")return h._("__JHASH__U_-41liQBf___JHASH__",[h._plural(a,"number")]);return h._("__JHASH__eOrU59mir58__JHASH__",[h._plural(a,"number")])}function q(a,b){if(b==="minimized")return h._("__JHASH__nR1BpT4JZ-1__JHASH__",[h._param("days",a)]);else if(b==="shortened")return h._("__JHASH__XM9woDyI0RI__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__e25sv98iazf__JHASH__",[h._plural(a,"number")])}function r(a,b){if(b==="minimized")return h._("__JHASH__89wyXCUcNcD__JHASH__",[h._param("weeks",a)]);else if(b==="shortened")return h._("__JHASH__LzV87OP-cnH__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__8Tz4WwYqyWe__JHASH__",[h._plural(a,"number")])}function s(a,b){if(b==="minimized")return h._("__JHASH__6jpt3ZiMeNm__JHASH__",[h._param("weeks",a)]);else if(b==="shortened")return h._("__JHASH__FZjvF7iUhS2__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__KYxoF9she7V__JHASH__",[h._plural(a,"number")])}function t(a,b){if(b==="minimized")return h._("__JHASH__pydgq6srngO__JHASH__",[h._param("years",a)]);else if(b==="shortened")return h._("__JHASH__qHsnROIs1Rn__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__4VLiJAQbl5i__JHASH__",[h._plural(a,"number")])}function u(a,b){if(b==="minimized")return h._("__JHASH__PO71EECf0Ar__JHASH__",[h._param("years",a)]);else if(b==="shortened")return h._("__JHASH__HQno8zOlCSY__JHASH__",[h._plural(a,"number")]);return h._("__JHASH__lP1YxrqVkce__JHASH__",[h._plural(a,"number")])}var v=60,w=60,x=24,y=7,z=365;function A(a,b,c){c===void 0&&(c="normal");a=(a.valueOf()-b.valueOf())/1e3;if(a<v)return j(a,c);b=a/v;a=Math.floor(b);if(a<w)return l(a,c);a=b/w;b=Math.floor(a);if(b<x)return n(b,c);b=a/x;a=Math.floor(b);if(a<y)return p(a,c);else if(b<z){a=Math.floor(b/y);return r(a,c)}a=Math.floor(b/z);return t(a,c)}function a(a,b,c){c===void 0&&(c="normal");b=(b.valueOf()-a.valueOf())/1e3;if(b<v)return k(b,c);a=b/v;b=Math.floor(a);if(b<w)return m(b,c);b=a/w;a=Math.floor(a/w);if(a<x)return o(a,c);a=b/x;b=Math.floor(a);if(b<y)return q(b,c);else if(a<z){b=Math.floor(a/y);return s(b,c)}b=Math.floor(a/z);return u(b,c)}function b(a){var b=a.date;a=a.format;var d=c("useServerTime")();d=A(d,b,a);return d}b.displayName=b.name+" [from "+f.id+"]";b.getRelativeTimestamp=A;b.getRelativeTimestampInFuture=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var g=e.done;e.value;return g?c.seq([function(b){return d[0]=a[3]==null?"":a[3],c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],eventStartTimestampMs:a[72],eventEndTimestampMs:a[73],takedownState:a[74],memberCount:a[75],secondaryParentThreadKey:a[76],igFolder:a[77],inviterId:a[78],threadTags:a[79],threadStatus:a[80],threadSubtype:a[81],pauseThreadTimestamp:a[82]}):(f=d.item,c[1]=f.lastActivityTimestampMs,c[3]=f.parentThreadKey,c[2]=f.disappearingThreadKey,c[4]=f.isDisappearingMode,b.i64.le(f.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],e)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(g=[c[3],f.folderName],c[5]=g[0],c[6]=g[1],g):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:f.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],eventStartTimestampMs:a[72],eventEndTimestampMs:a[73],takedownState:a[74],memberCount:a[75],secondaryParentThreadKey:a[76],igFolder:a[77],inviterId:a[78],threadTags:a[79],threadStatus:a[80],threadSubtype:a[81],pauseThreadTimestamp:a[82]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],eventStartTimestampMs:a[72],eventEndTimestampMs:a[73],takedownState:a[74],memberCount:a[75],secondaryParentThreadKey:a[76],igFolder:a[77],inviterId:a[78],threadTags:a[79],threadStatus:a[80],threadSubtype:a[81],pauseThreadTimestamp:a[82]}):b.resolve())})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);/*FB_PKG_DELIM*/
__d("isThreadLevelCutoverEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("68")===!0||c("qex")._("555")===!0}g["default"]=a}),98);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c={};e={};f={};var h={};c.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};e.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};f.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15};e={IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_POLL:2009,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING]};i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);/*FB_PKG_DELIM*/
__d("LSClearLoadingFlagsForThreadRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return a[1]?b.fe(b.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingAfter:!1})}):b.seq([function(d){return b.i64.eq(b.i64.cast([0,0]),a[0])?b.seq([function(c){return b.fe(b.db.table(198).fetch([[[a[2]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!1})})},function(a){return c[8]=b.i64.cast([0,0]),c[9]=e,c[10]=!1,c[11]=!1,b.fe(b.db.table(198).fetch(),function(a){a=a.item;return c[12]=a.minLastActivityTimestampMs,c[14]=a.minThreadKey,c[13]=b.i64.lt(c[8]==null?c[12]:c[8],c[12]),c[8]=c[13]?c[12]:c[8],c[9]=c[13]?c[14]:c[9],c[10]=c[10]||a.isLoadingBefore,c[11]=c[11]||b.i64.gt(c[12],b.i64.cast([0,1]))&&b.i64.gt(c[14],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[8],c[9],c[10],c[11]],c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],a}]):b.resolve((d=[b.i64.cast([0,0]),e,!1,!1],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],d))},function(c){return b.fe(b.db.table(220).fetch([[[a[2],a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!1})})},function(d){return c[4]=c[0],c[5]=c[1],c[6]=c[2],c[7]=c[3],b.fe(b.ftr(b.db.table(220).fetch(),function(c){return b.i64.eq(c.parentThreadKey,a[0])}),function(a){a=a.item;return c[8]=a.minLastActivityTimestampMs,c[10]=a.minThreadKey,c[9]=b.i64.lt(c[4]==null?c[8]:c[4],c[8]),c[4]=c[9]?c[8]:c[4],c[5]=c[9]?c[10]:c[5],c[6]=c[6]||a.isLoadingBefore,c[7]=c[7]||b.i64.gt(c[8],b.i64.cast([0,1]))&&b.i64.gt(c[10],b.i64.cast([-2147483648,0]))})},function(d){return b.fe(b.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:c[6]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSUpsertInboxThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(198).put({syncGroup:a[0],minLastActivityTimestampMs:a[1],hasMoreBefore:a[2],isLoadingBefore:a[3],minThreadKey:a[4]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpsertSyncGroupThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(220).put({syncGroup:a[0],parentThreadKey:a[1],minLastActivityTimestampMs:a[2],hasMoreBefore:a[3],isLoadingBefore:a[4],minThreadKey:a[5]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSThreadsRangesQuery",["LSClearLoadingFlagsForThreadRange","LSGetCursor","LSIssueNewTaskAndGetTaskID","LSUpsertInboxThreadsRange","LSUpsertSyncGroupThreadsRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return a[1]&&c.i64.eq(a[6],c.i64.cast([0,0]))?c.sp(b("LSClearLoadingFlagsForThreadRange"),a[0],!1,c.i64.cast([0,1])):(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)||a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))&&!(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)&&a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))?c.seq([function(e){return d[16]=a[3]==null?c.i64.cast([-2147483648,0]):a[3],d[15]=a[6]==null?c.i64.cast([0,1]):a[6],d[17]=c.i64.gt(d[15],c.i64.cast([0,1]))&&c.i64.gt(d[16],c.i64.cast([-2147483648,0])),d[4]=c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))||c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,95])),d[4]&&c.i64.eq(a[0],c.i64.cast([0,0]))?c.seq([function(a){return c.sp(b("LSUpsertInboxThreadsRange"),c.i64.cast([0,1]),d[15],d[17],!0,d[16])},function(a){return d[18]=d[15],d[19]=d[16],d[20]=!0,d[21]=d[17],c.fe(c.db.table(198).fetch(),function(a){a=a.item;return d[22]=a.minLastActivityTimestampMs,d[24]=a.minThreadKey,d[23]=c.i64.lt(d[18]==null?d[22]:d[18],d[22]),d[18]=d[23]?d[22]:d[18],d[19]=d[23]?d[24]:d[19],d[20]=d[20]||a.isLoadingBefore,d[21]=d[21]||c.i64.gt(d[22],c.i64.cast([0,1]))&&c.i64.gt(d[24],c.i64.cast([-2147483648,0]))})},function(a){return a=[d[18],d[19],d[20],d[21]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.resolve((e=[d[15],d[16],!0,d[17]],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],e))},function(e){return d[4]?c.seq([function(e){return c.sp(b("LSUpsertSyncGroupThreadsRange"),c.i64.cast([0,1]),a[0],d[15],d[17],!0,d[16])},function(b){return d[18]=d[15],d[19]=d[16],d[20]=!0,d[21]=d[17],c.fe(c.ftr(c.db.table(220).fetch(),function(b){return c.i64.eq(b.parentThreadKey,a[0])}),function(a){a=a.item;return d[22]=a.minLastActivityTimestampMs,d[24]=a.minThreadKey,d[23]=c.i64.lt(d[18]==null?d[22]:d[18],d[22]),d[18]=d[23]?d[22]:d[18],d[19]=d[23]?d[24]:d[19],d[20]=d[20]||a.isLoadingBefore,d[21]=d[21]||c.i64.gt(d[22],c.i64.cast([0,1]))&&c.i64.gt(d[24],c.i64.cast([-2147483648,0]))})},function(a){return a=[d[18],d[19],d[20],d[21]],d[5]=a[0],d[6]=a[1],d[7]=a[2],d[8]=a[3],a}]):c.resolve((e=[d[0],d[1],d[2],d[3]],d[5]=e[0],d[6]=e[1],d[7]=e[2],d[8]=e[3],e))},function(a){return c.sp(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[9]=a[0],a})},function(e){return d[10]=new c.Map(),d[10].set("is_after",a[2]),d[10].set("parent_thread_key",a[0]),d[10].set("reference_thread_key",a[2]?a[4]:a[3]),d[10].set("reference_activity_timestamp",a[2]?a[5]:a[6]),d[10].set("additional_pages_to_fetch",a[7]),d[10].set("cursor",d[9]),d[10].set("messaging_tag",f),d[10].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[18]=c.i64.of_float(Date.now()),d[11]=c.i64.add(d[18],c.i64.cast([0,0]))):d[11]=c.i64.cast([0,0]),d[12]=c.toJSON(d[10]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,145]),d[12],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[11],c.i64.cast([0,0])).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.db.table(10).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(10).add({parentThreadKey:a[0],minThreadKey:d[6]==null?c.i64.cast([-2147483648,0]):d[6],minLastActivityTimestampMs:d[5]==null?c.i64.cast([0,1]):d[5],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:d[7],isLoadingAfter:!1,hasMoreBefore:d[8],hasMoreAfter:!1}):(b.item,c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:d[7],isLoadingAfter:!1,hasMoreBefore:d[8],hasMoreAfter:!1})}))})}]):c.resolve()},function(e){return a[1]&&c.i64.eq(a[6],c.i64.cast([0,0]))?c.sp(b("LSClearLoadingFlagsForThreadRange"),a[0],!1,c.i64.cast([0,95])):(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)||a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))&&!(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)&&a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))?c.seq([function(e){return d[16]=a[3]==null?c.i64.cast([-2147483648,0]):a[3],d[15]=a[6]==null?c.i64.cast([0,1]):a[6],d[17]=c.i64.gt(d[15],c.i64.cast([0,1]))&&c.i64.gt(d[16],c.i64.cast([-2147483648,0])),d[4]=c.i64.eq(c.i64.cast([0,95]),c.i64.cast([0,1]))||c.i64.eq(c.i64.cast([0,95]),c.i64.cast([0,95])),d[4]&&c.i64.eq(a[0],c.i64.cast([0,0]))?c.seq([function(a){return c.sp(b("LSUpsertInboxThreadsRange"),c.i64.cast([0,95]),d[15],d[17],!0,d[16])},function(a){return d[18]=d[15],d[19]=d[16],d[20]=!0,d[21]=d[17],c.fe(c.db.table(198).fetch(),function(a){a=a.item;return d[22]=a.minLastActivityTimestampMs,d[24]=a.minThreadKey,d[23]=c.i64.lt(d[18]==null?d[22]:d[18],d[22]),d[18]=d[23]?d[22]:d[18],d[19]=d[23]?d[24]:d[19],d[20]=d[20]||a.isLoadingBefore,d[21]=d[21]||c.i64.gt(d[22],c.i64.cast([0,1]))&&c.i64.gt(d[24],c.i64.cast([-2147483648,0]))})},function(a){return a=[d[18],d[19],d[20],d[21]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.resolve((e=[d[15],d[16],!0,d[17]],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],e))},function(e){return d[4]?c.seq([function(e){return c.sp(b("LSUpsertSyncGroupThreadsRange"),c.i64.cast([0,95]),a[0],d[15],d[17],!0,d[16])},function(b){return d[18]=d[15],d[19]=d[16],d[20]=!0,d[21]=d[17],c.fe(c.ftr(c.db.table(220).fetch(),function(b){return c.i64.eq(b.parentThreadKey,a[0])}),function(a){a=a.item;return d[22]=a.minLastActivityTimestampMs,d[24]=a.minThreadKey,d[23]=c.i64.lt(d[18]==null?d[22]:d[18],d[22]),d[18]=d[23]?d[22]:d[18],d[19]=d[23]?d[24]:d[19],d[20]=d[20]||a.isLoadingBefore,d[21]=d[21]||c.i64.gt(d[22],c.i64.cast([0,1]))&&c.i64.gt(d[24],c.i64.cast([-2147483648,0]))})},function(a){return a=[d[18],d[19],d[20],d[21]],d[5]=a[0],d[6]=a[1],d[7]=a[2],d[8]=a[3],a}]):c.resolve((e=[d[0],d[1],d[2],d[3]],d[5]=e[0],d[6]=e[1],d[7]=e[2],d[8]=e[3],e))},function(a){return c.sp(b("LSGetCursor"),c.i64.cast([0,95])).then(function(a){return a=a,d[9]=a[0],a})},function(e){return d[10]=new c.Map(),d[10].set("is_after",a[2]),d[10].set("parent_thread_key",a[0]),d[10].set("reference_thread_key",a[2]?a[4]:a[3]),d[10].set("reference_activity_timestamp",a[2]?a[5]:a[6]),d[10].set("additional_pages_to_fetch",a[7]),d[10].set("cursor",d[9]),d[10].set("messaging_tag",f),d[10].set("sync_group",c.i64.cast([0,95])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[18]=c.i64.of_float(Date.now()),d[11]=c.i64.add(d[18],c.i64.cast([0,0]))):d[11]=c.i64.cast([0,0]),d[12]=c.toJSON(d[10]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,145]),d[12],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[11],c.i64.cast([0,0])).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.db.table(10).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(10).add({parentThreadKey:a[0],minThreadKey:d[6]==null?c.i64.cast([-2147483648,0]):d[6],minLastActivityTimestampMs:d[5]==null?c.i64.cast([0,1]):d[5],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:d[7],isLoadingAfter:!1,hasMoreBefore:d[8],hasMoreAfter:!1}):(b.item,c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:d[7],isLoadingAfter:!1,hasMoreBefore:d[8],hasMoreAfter:!1})}))})}]):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);/*FB_PKG_DELIM*/
__d("MAWDYIRestoreThreadsFromOccamadillo",["I64","LSFactory","LSIntEnum","LSThreadsRangesQuery","MAWBridgeFireAndForget","MAWEBFrontendQPLLogger","MAWJids","Promise","ReQL","WALoggerDeferred","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["User not enrolled in Occamadillo, cannot restore threads and initiate DYI"]);k=function(){return a};return a}var l={contents:(j||(j=d("I64"))).zero},m={contents:j.zero};function n(a,e){var f=[],g=[];d("MAWEBFrontendQPLLogger").logDyiE2EProcessThreadsFromOccamadillo(e);c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table"))).then(function(i){c("promiseDone")(i.reduce(function(b,c){return b.then(function(){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c.serverThreadKey)).then(function(a){if(a==null)return;a=a.threadType;if(!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).of_string("15"))){if(!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).of_string("16")))return;f.push(d("MAWJids").toGroupJid((j||(j=d("I64"))).to_string(c.jid)));return}g.push(d("MAWJids").toUserJid((j||(j=d("I64"))).to_string(c.jid)))})})},(h||(h=b("Promise"))).resolve()).then(function(a){return d("MAWBridgeFireAndForget").fireAndForget("backend","dyiGetThreadList",{qplInstanceKeyE2E:(a=e)!=null?a:void 0,threadJids:f.concat(g)})}))}))}function o(a,e){var f=d("ReQL").fromTableAscending(a.table("inbox_threads_ranges")),g={contents:function(){}};g.contents=f.subscribe(function(b,f){if(f.operation==="put"){var h=f.value;b=f.value.syncGroup;if(!(j||(j=d("I64"))).equal(b,(j||(j=d("I64"))).of_string("95")))return;if(h.hasMoreBefore){(!(j||(j=d("I64"))).equal(h.minThreadKey,l.contents)||!(j||(j=d("I64"))).equal(h.minLastActivityTimestampMs,m.contents))&&(l.contents=h.minThreadKey,m.contents=h.minLastActivityTimestampMs,c("promiseDone")(a.runInTransaction(function(a){return c("LSThreadsRangesQuery")((j||(j=d("I64"))).zero,!0,!1,h.minThreadKey,j.max_int,j.max_int,h.minLastActivityTimestampMs,j.zero,!1,c("LSFactory")(a))},"readwrite")));return}g.contents();n(a,e)}});return(h||(h=b("Promise"))).resolve()}function p(a,b){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("inbox_threads_ranges"))).then(function(e){e.forEach(function(e){if(!(j||(j=d("I64"))).equal(e.syncGroup,(j||(j=d("I64"))).of_string("95")))return;else if(e.hasMoreBefore){c("promiseDone")(o(a,b).then(function(){l.contents=e.minThreadKey;m.contents=e.minLastActivityTimestampMs;return a.runInTransaction(function(a){return c("LSThreadsRangesQuery")((j||(j=d("I64"))).zero,!0,!1,e.minThreadKey,j.max_int,j.max_int,e.minLastActivityTimestampMs,j.zero,!1,c("LSFactory")(a))},"readwrite")}));return}return n(a,b)})}))}function a(a,b){if(c("gkx")("7006")){c("promiseDone")(a.runInTransaction(function(a){return a.table("encrypted_backups_dyi_backup_restore_status").put({currentStatus:(i||(i=d("LSIntEnum"))).ofNumber(0),pk:(j||(j=d("I64"))).zero})},"readwrite").then(function(){return p(a,b)}));return}c("promiseDone")(d("WALoggerDeferred").WARN(k()))}g.call=a}),98);
__d("MWEncryptedBackupsProcessBackupIds",["FBLogger","LSFactory","LSIntEnum","LSProcessBackupIds","Promise","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(c("gkx")("7110"))return a.runInTransaction(function(a){return c("LSProcessBackupIds")(void 0,c("LSFactory")(a))},"readwrite").then(function(a){return(i||(i=d("LSIntEnum"))).unwrapIntEnum(a[0])});else return(h||(h=b("Promise"))).resolve(0)}function a(a,b){return a.table("encrypted_backups").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("encrypted_backups"))),function(d){if(d!=null){c("promiseDone")(j(a),b,function(a){c("FBLogger")("labyrinth_web").catching(a).info("Error in db transaction")});return}})})}g.processBackupIdsStoredProcedure=j;g.subscribeToEncryptedBackupsRow=a}),98);/*FB_PKG_DELIM*/
__d("LSTaskSerializerEncryptedBackupsLoopingUpload",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(a){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure] LSEncryptedBackupsLoopingUploadPayloadsTable table not found"),d[2]=c.createArray(),f!==f?d[10]=(d[2].push(f),d[2]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsLoopingUploadStoredProcedure","LSEncryptedBackupsLoopingUploadPayloadsTable table not found",d[2],c.i64.cast([0,3]))},function(a){return d[3]=c.i64.of_float(Date.now()),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][taskSerializerEncryptedBackupsLoopingUpload] ",d[4],d[5],d[4],d[6],d[4],d[8]].join("")),d[7]=",",d[9]=c.createArray(),f!==f?d[10]=(d[9].push(f),d[9]):0,c.nop(b("LSLogMebClientEvent.nop"),"taskSerializerEncryptedBackupsLoopingUpload",[d[5],d[7],d[6],d[7],d[8]].join(""),d[9],c.i64.cast([0,4]))},function(a){return a=['{"request_id":"","payload":{"error_code":2,"operation":"","error_message":"","__typename":"MPSUploadFailurePayload"}}',c.i64.cast([0,50043])],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("updateAndFlushLSDataTrace",["I64","LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSFactory","LSIntEnum","Promise","ReQLTable","requireDeferred","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("LSDataTraceFlush").__setRef("updateAndFlushLSDataTrace");function a(a,e){return e==null?(j||(j=b("Promise"))).resolve():c("LSAppendDataTraceAddon")(e,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").CLIENT_READY_TO_FLUSH),(i||(i=d("I64"))).neg_one,void 0,void 0,c("LSFactory")(a)).then(function(){return d("ReQLTable").update(a.table("data_trace_meta"),{hd:e,tl:0},function(a){if(a!=null)return{contextOne:a.contextOne,contextThree:a.contextThree,contextTwo:a.contextTwo,foregroundTimestampMs:a.foregroundTimestampMs,initTimestampMs:a.initTimestampMs,predefinedId:a.predefinedId,shouldFlush:!0,traceId:a.traceId,traceType:a.traceType};else throw c("unrecoverableViolation")("Data trace is missing "+e,"messenger_web_product")}).then(function(){return k.load().then(function(b){return b.flush(a,e)})})})}g["default"]=a}),98);
__d("isRegisterArmadilloOnIgEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("8626")===!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useCounter",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useMemo,j=b.useState;function a(a){a===void 0&&(a=0);a=j(a);var b=a[0],c=a[1];a=i(function(){return{changeBy:function(a){return c(function(b){return b+a})},decrement:function(){return c(function(a){return a-1})},increment:function(){return c(function(a){return a+1})},set:c}},[c]);return[b,a]}g["default"]=a}),98);
__d("useURL",["react","useCounter"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef;function a(){var a=k(new URL(window.location.href)),b=c("useCounter")();b[0];var d=b[1].increment;j(function(){var b=o(function(b){b.href!==a.current.href&&(a.current=b,d())});return b},[d]);b=i(function(b,c){c=c===void 0?{}:c;var e=c.replace;e=e===void 0?!1:e;c=c.state;c=c===void 0?null:c;b=typeof b==="function"?b(a.current):b;if(a.current.href===b.href)return;a.current=b;d();var f=window.history;e?f.replaceState(c,"",b.toString()):f.pushState(c,"",b.toString());r()},[d]);return[a.current,b]}var l=new Set(),m=new URL(window.location.href),n;function o(a){l.add(a);var b=l.size===1;b&&p();return function(){l["delete"](a);var b=l.size===0;b&&q()}}function p(){window.addEventListener("hashchange",r,{passive:!0}),window.addEventListener("popstate",r,{passive:!0}),n=window.setInterval(r,250)}function q(){window.removeEventListener("hashchange",r),window.removeEventListener("popstate",r),window.clearInterval(n)}function r(){if(m.href===window.location.href)return;m=new URL(window.location.href);for(var a=l,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d(m)}}g["default"]=a}),98);
__d("useURLSearchParams",["react","useURL"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useURL")(),b=a[0],d=a[1];a=i(function(a,b){return d(function(b){var c=typeof a==="function"?a(b.searchParams):a;if(j(b.searchParams,c))return b;b=new URL(b.toString());b.search=c.toString();return b},b)},[d]);return[b.searchParams,a]}function j(a,b){return k(a).toString()===k(b).toString()}function k(a){a=new URLSearchParams(a);a.sort();return a}g.useURLSearchParams=a;g.areURLSearchParamsEqual=j}),98);/*FB_PKG_DELIM*/
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("MWPreloadableQueries",["I64","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_nullstate")).getKeyRange(b)};e=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_nullstate_ctas").index("threadKeyCtaId")).getKeyRange(b)};f=function(a,b){return d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b)};var i=function(a,b){return d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b).take(6)},j=function(a,b,e){return e.forEach(function(e){var f;c("promiseDone")((f=d("ReQL")).toArrayAsync(f.fromTableDescending(a.table("reactions")).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.table("reactions_v2")).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.table("attachments")).getKeyRange(b,e.messageId)))})},k=function(a,b){return d("ReQL").fromTableAscending(a.table("community_folders")).getKeyRange(b)},l=function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("threads")).getKeyRange(b)).then(function(b){(b==null?void 0:b.parentThreadKey)!=null&&k(a,b.parentThreadKey)})},m=function(a,b){return d("ReQL").fromTableAscending(a.table("thread_proactive_warning_settings")).getKeyRange(b)},n=function(a,b){return d("ReQL").fromTableAscending(a.table("in_thread_banner")).getKeyRange(b)};function a(a,b){return d("ReQL").fromTableAscending(a.table("media_staging")).filter(function(a){return!a.isSent&&(h||(h=d("I64"))).equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=e;g.getCutoverThreadByThreadKey=f;g.getMostRecentMessagesInThread=i;g.getReactionsForMessages=j;g.getCommunityFolderQuery=k;g.getCommunityFolderForThreadParentQuery=l;g.getProactiveWarningsForThreadQuery=m;g.getThreadBannerQuery=n;g.getMediaStagingQuery=a}),98);/*FB_PKG_DELIM*/
__d("MessagingAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14});f["default"]=a}),66);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}g.set=a;g.clear=b;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;c=["capabilities","capabilities2"];function a(a,b){return i(a,b,!1)}function i(a,b,c){var e=b.capabilities,f=b.capabilities2;if(a>=64){return f==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(a=b)!=null?a:d("LSBitOffset").empty)}g.contactCapabilityFields=c;g.has=a;g.hasWithDefault=i;g.contactCapabilitiesHas=b}),98);